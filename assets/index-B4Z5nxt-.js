(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var id={exports:{}},xl={},sd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Yw(){if(fg)return Le;fg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function $(b,Y,ge){this.props=b,this.context=Y,this.refs=V,this.updater=ge||D}$.prototype.isReactComponent={},$.prototype.setState=function(b,Y){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Y,"setState")},$.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function X(){}X.prototype=$.prototype;function le(b,Y,ge){this.props=b,this.context=Y,this.refs=V,this.updater=ge||D}var re=le.prototype=new X;re.constructor=le,L(re,$.prototype),re.isPureReactComponent=!0;var ye=Array.isArray,z=Object.prototype.hasOwnProperty,ue={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(b,Y,ge){var Ae,Pe={},Fe=null,Ge=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(Ge=Y.ref),Y.key!==void 0&&(Fe=""+Y.key),Y)z.call(Y,Ae)&&!N.hasOwnProperty(Ae)&&(Pe[Ae]=Y[Ae]);var Ke=arguments.length-2;if(Ke===1)Pe.children=ge;else if(1<Ke){for(var xe=Array(Ke),ct=0;ct<Ke;ct++)xe[ct]=arguments[ct+2];Pe.children=xe}if(b&&b.defaultProps)for(Ae in Ke=b.defaultProps,Ke)Pe[Ae]===void 0&&(Pe[Ae]=Ke[Ae]);return{$$typeof:n,type:b,key:Fe,ref:Ge,props:Pe,_owner:ue.current}}function I(b,Y){return{$$typeof:n,type:b.type,key:Y,ref:b.ref,props:b.props,_owner:b._owner}}function P(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function O(b){var Y={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ge){return Y[ge]})}var U=/\/+/g;function R(b,Y){return typeof b=="object"&&b!==null&&b.key!=null?O(""+b.key):Y.toString(36)}function lt(b,Y,ge,Ae,Pe){var Fe=typeof b;(Fe==="undefined"||Fe==="boolean")&&(b=null);var Ge=!1;if(b===null)Ge=!0;else switch(Fe){case"string":case"number":Ge=!0;break;case"object":switch(b.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=b,Pe=Pe(Ge),b=Ae===""?"."+R(Ge,0):Ae,ye(Pe)?(ge="",b!=null&&(ge=b.replace(U,"$&/")+"/"),lt(Pe,Y,ge,"",function(ct){return ct})):Pe!=null&&(P(Pe)&&(Pe=I(Pe,ge+(!Pe.key||Ge&&Ge.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+b)),Y.push(Pe)),1;if(Ge=0,Ae=Ae===""?".":Ae+":",ye(b))for(var Ke=0;Ke<b.length;Ke++){Fe=b[Ke];var xe=Ae+R(Fe,Ke);Ge+=lt(Fe,Y,ge,xe,Pe)}else if(xe=C(b),typeof xe=="function")for(b=xe.call(b),Ke=0;!(Fe=b.next()).done;)Fe=Fe.value,xe=Ae+R(Fe,Ke++),Ge+=lt(Fe,Y,ge,xe,Pe);else if(Fe==="object")throw Y=String(b),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ge}function He(b,Y,ge){if(b==null)return b;var Ae=[],Pe=0;return lt(b,Ae,"","",function(Fe){return Y.call(ge,Fe,Pe++)}),Ae}function Ct(b){if(b._status===-1){var Y=b._result;Y=Y(),Y.then(function(ge){(b._status===0||b._status===-1)&&(b._status=1,b._result=ge)},function(ge){(b._status===0||b._status===-1)&&(b._status=2,b._result=ge)}),b._status===-1&&(b._status=0,b._result=Y)}if(b._status===1)return b._result.default;throw b._result}var Be={current:null},ie={transition:null},_e={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ue};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:He,forEach:function(b,Y,ge){He(b,function(){Y.apply(this,arguments)},ge)},count:function(b){var Y=0;return He(b,function(){Y++}),Y},toArray:function(b){return He(b,function(Y){return Y})||[]},only:function(b){if(!P(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Le.Component=$,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=le,Le.StrictMode=s,Le.Suspense=g,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Le.act=ae,Le.cloneElement=function(b,Y,ge){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ae=L({},b.props),Pe=b.key,Fe=b.ref,Ge=b._owner;if(Y!=null){if(Y.ref!==void 0&&(Fe=Y.ref,Ge=ue.current),Y.key!==void 0&&(Pe=""+Y.key),b.type&&b.type.defaultProps)var Ke=b.type.defaultProps;for(xe in Y)z.call(Y,xe)&&!N.hasOwnProperty(xe)&&(Ae[xe]=Y[xe]===void 0&&Ke!==void 0?Ke[xe]:Y[xe])}var xe=arguments.length-2;if(xe===1)Ae.children=ge;else if(1<xe){Ke=Array(xe);for(var ct=0;ct<xe;ct++)Ke[ct]=arguments[ct+2];Ae.children=Ke}return{$$typeof:n,type:b.type,key:Pe,ref:Fe,props:Ae,_owner:Ge}},Le.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},Le.createElement=T,Le.createFactory=function(b){var Y=T.bind(null,b);return Y.type=b,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(b){return{$$typeof:f,render:b}},Le.isValidElement=P,Le.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Ct}},Le.memo=function(b,Y){return{$$typeof:v,type:b,compare:Y===void 0?null:Y}},Le.startTransition=function(b){var Y=ie.transition;ie.transition={};try{b()}finally{ie.transition=Y}},Le.unstable_act=ae,Le.useCallback=function(b,Y){return Be.current.useCallback(b,Y)},Le.useContext=function(b){return Be.current.useContext(b)},Le.useDebugValue=function(){},Le.useDeferredValue=function(b){return Be.current.useDeferredValue(b)},Le.useEffect=function(b,Y){return Be.current.useEffect(b,Y)},Le.useId=function(){return Be.current.useId()},Le.useImperativeHandle=function(b,Y,ge){return Be.current.useImperativeHandle(b,Y,ge)},Le.useInsertionEffect=function(b,Y){return Be.current.useInsertionEffect(b,Y)},Le.useLayoutEffect=function(b,Y){return Be.current.useLayoutEffect(b,Y)},Le.useMemo=function(b,Y){return Be.current.useMemo(b,Y)},Le.useReducer=function(b,Y,ge){return Be.current.useReducer(b,Y,ge)},Le.useRef=function(b){return Be.current.useRef(b)},Le.useState=function(b){return Be.current.useState(b)},Le.useSyncExternalStore=function(b,Y,ge){return Be.current.useSyncExternalStore(b,Y,ge)},Le.useTransition=function(){return Be.current.useTransition()},Le.version="18.3.1",Le}var pg;function Xd(){return pg||(pg=1,sd.exports=Yw()),sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Qw(){if(mg)return xl;mg=1;var n=Xd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,S={},C=null,D=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(D=g.ref);for(E in g)s.call(g,E)&&!a.hasOwnProperty(E)&&(S[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:f,key:C,ref:D,props:S,_owner:o.current}}return xl.Fragment=t,xl.jsx=h,xl.jsxs=h,xl}var gg;function Xw(){return gg||(gg=1,id.exports=Qw()),id.exports}var it=Xw(),K=Xd(),ku={},od={exports:{}},En={},ld={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Jw(){return vg||(vg=1,function(n){function e(ie,_e){var ae=ie.length;ie.push(_e);e:for(;0<ae;){var b=ae-1>>>1,Y=ie[b];if(0<o(Y,_e))ie[b]=_e,ie[ae]=Y,ae=b;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var _e=ie[0],ae=ie.pop();if(ae!==_e){ie[0]=ae;e:for(var b=0,Y=ie.length,ge=Y>>>1;b<ge;){var Ae=2*(b+1)-1,Pe=ie[Ae],Fe=Ae+1,Ge=ie[Fe];if(0>o(Pe,ae))Fe<Y&&0>o(Ge,Pe)?(ie[b]=Ge,ie[Fe]=ae,b=Fe):(ie[b]=Pe,ie[Ae]=ae,b=Ae);else if(Fe<Y&&0>o(Ge,ae))ie[b]=Ge,ie[Fe]=ae,b=Fe;else break e}}return _e}function o(ie,_e){var ae=ie.sortIndex-_e.sortIndex;return ae!==0?ae:ie.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,S=null,C=3,D=!1,L=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ie){for(var _e=t(v);_e!==null;){if(_e.callback===null)s(v);else if(_e.startTime<=ie)s(v),_e.sortIndex=_e.expirationTime,e(g,_e);else break;_e=t(v)}}function ye(ie){if(V=!1,re(ie),!L)if(t(g)!==null)L=!0,Ct(z);else{var _e=t(v);_e!==null&&Be(ye,_e.startTime-ie)}}function z(ie,_e){L=!1,V&&(V=!1,X(T),T=-1),D=!0;var ae=C;try{for(re(_e),S=t(g);S!==null&&(!(S.expirationTime>_e)||ie&&!O());){var b=S.callback;if(typeof b=="function"){S.callback=null,C=S.priorityLevel;var Y=b(S.expirationTime<=_e);_e=n.unstable_now(),typeof Y=="function"?S.callback=Y:S===t(g)&&s(g),re(_e)}else s(g);S=t(g)}if(S!==null)var ge=!0;else{var Ae=t(v);Ae!==null&&Be(ye,Ae.startTime-_e),ge=!1}return ge}finally{S=null,C=ae,D=!1}}var ue=!1,N=null,T=-1,I=5,P=-1;function O(){return!(n.unstable_now()-P<I)}function U(){if(N!==null){var ie=n.unstable_now();P=ie;var _e=!0;try{_e=N(!0,ie)}finally{_e?R():(ue=!1,N=null)}}else ue=!1}var R;if(typeof le=="function")R=function(){le(U)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,He=lt.port2;lt.port1.onmessage=U,R=function(){He.postMessage(null)}}else R=function(){$(U,0)};function Ct(ie){N=ie,ue||(ue=!0,R())}function Be(ie,_e){T=$(function(){ie(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){L||D||(L=!0,Ct(z))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var _e=3;break;default:_e=C}var ae=C;C=_e;try{return ie()}finally{C=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=C;C=ie;try{return _e()}finally{C=ae}},n.unstable_scheduleCallback=function(ie,_e,ae){var b=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?b+ae:b):ae=b,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:E++,callback:_e,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>b?(ie.sortIndex=ae,e(v,ie),t(g)===null&&ie===t(v)&&(V?(X(T),T=-1):V=!0,Be(ye,ae-b))):(ie.sortIndex=Y,e(g,ie),L||D||(L=!0,Ct(z))),ie},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ie){var _e=C;return function(){var ae=C;C=_e;try{return ie.apply(this,arguments)}finally{C=ae}}}}(ad)),ad}var yg;function Zw(){return yg||(yg=1,ld.exports=Jw()),ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function eE(){if(_g)return En;_g=1;var n=Xd(),e=Zw();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function C(r){return g.call(S,r)?!0:g.call(E,r)?!1:v.test(r)?S[r]=!0:(E[r]=!0,!1)}function D(r,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,i,l,c){if(i===null||typeof i>"u"||D(r,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(r,i,l,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];$[i]=new V(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){$[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){$[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){$[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){$[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){$[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function le(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(X,le);$[i]=new V(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(X,le);$[i]=new V(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(X,le);$[i]=new V(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){$[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),$.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){$[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function re(r,i,l,c){var d=$.hasOwnProperty(i)?$[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,l,d,c)&&(l=null),c||d===null?C(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(i=d.attributeName,c=d.attributeNamespace,l===null?r.removeAttribute(i):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,c?r.setAttributeNS(c,i,l):r.setAttribute(i,l))))}var ye=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),ue=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,b;function Y(r){if(b===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+r}var ge=!1;function Ae(r,i){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){c=W}r.call(i.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,k=m.length-1;1<=_&&0<=k&&d[_]!==m[k];)k--;for(;1<=_&&0<=k;_--,k--)if(d[_]!==m[k]){if(_!==1||k!==1)do if(_--,k--,0>k||d[_]!==m[k]){var A=`
`+d[_].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=_&&0<=k);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Pe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ue:return"Portal";case I:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case lt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case U:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case He:return i=r.displayName||null,i!==null?i:Fe(r.type)||"Memo";case Ct:i=r._payload,r=r._init;try{return Fe(r(i))}catch{}}return null}function Ge(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ct(r){var i=xe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function bn(r){r._valueTracker||(r._valueTracker=ct(r))}function vi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return r&&(c=xe(r)?r.checked?"true":"false":r.value),r=c,r!==l?(i.setValue(r),!0):!1}function Yt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Hr(r,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function yi(r,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Ke(i.value!=null?i.value:l),r._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function _i(r,i){i=i.checked,i!=null&&re(r,"checked",i,!1)}function ds(r,i){_i(r,i);var l=Ke(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?wi(r,i.type,l):i.hasOwnProperty("defaultValue")&&wi(r,i.type,Ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ys(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function wi(r,i,l){(i!=="number"||Yt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var $n=Array.isArray;function zt(r,i,l,c){if(r=r.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=i.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Ke(l),i=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Gn(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Br(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if($n(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Ke(l)}}function _r(r,i){var l=Ke(i.value),c=Ke(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),c!=null&&(r.defaultValue=""+c)}function un(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function nt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?nt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var In,fs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,l,c,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(In=In||document.createElement("div"),In.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=In.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Ht(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(r){Er.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),wr[i]=wr[r]})});function Ei(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||wr.hasOwnProperty(r)&&wr[r]?(""+i).trim():i+"px"}function ps(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,d=Ei(l,i[l],c);l==="float"&&(l="cssFloat"),c?r.setProperty(l,d):r[l]=d}}var Si=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(r,i){if(i){if(Si[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ci(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function Ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ii=null,cn=null,kn=null;function qn(r){if(r=gl(r)){if(typeof Ii!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Ha(i),Ii(r.stateNode,r.type,i))}}function hn(r){cn?kn?kn.push(r):kn=[r]:cn=r}function ms(){if(cn){var r=cn,i=kn;if(kn=cn=null,qn(r),i)for(r=0;r<i.length;r++)qn(i[r])}}function ki(r,i){return r(i)}function x(){}var F=!1;function G(r,i,l){if(F)return r(i,l);F=!0;try{return ki(r,i,l)}finally{F=!1,(cn!==null||kn!==null)&&(x(),ms())}}function Q(r,i){var l=r.stateNode;if(l===null)return null;var c=Ha(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var ce=!1;if(f)try{var fe={};Object.defineProperty(fe,"passive",{get:function(){ce=!0}}),window.addEventListener("test",fe,fe),window.removeEventListener("test",fe,fe)}catch{ce=!1}function Se(r,i,l,c,d,m,_,k,A){var W=Array.prototype.slice.call(arguments,3);try{i.apply(l,W)}catch(Z){this.onError(Z)}}var he=!1,me=null,se=!1,Ie=null,De={onError:function(r){he=!0,me=r}};function et(r,i,l,c,d,m,_,k,A){he=!1,me=null,Se.apply(De,arguments)}function Tt(r,i,l,c,d,m,_,k,A){if(et.apply(this,arguments),he){if(he){var W=me;he=!1,me=null}else throw Error(t(198));se||(se=!0,Ie=W)}}function Ue(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function qe(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Je(r){if(Ue(r)!==r)throw Error(t(188))}function Yn(r){var i=r.alternate;if(!i){if(i=Ue(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,c=i;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return Je(d),r;if(m===c)return Je(d),i;m=m.sibling}throw Error(t(188))}if(l.return!==c.return)l=d,c=m;else{for(var _=!1,k=d.child;k;){if(k===l){_=!0,l=d,c=m;break}if(k===c){_=!0,c=d,l=m;break}k=k.sibling}if(!_){for(k=m.child;k;){if(k===l){_=!0,l=m,c=d;break}if(k===c){_=!0,c=m,l=d;break}k=k.sibling}if(!_)throw Error(t(189))}}if(l.alternate!==c)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function Qn(r){return r=Yn(r),r!==null?Qt(r):null}function Qt(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Qt(r);if(i!==null)return i;r=r.sibling}return null}var Bt=e.unstable_scheduleCallback,Vr=e.unstable_cancelCallback,Cr=e.unstable_shouldYield,Xn=e.unstable_requestPaint,Ze=e.unstable_now,Wr=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,Vt=e.unstable_NormalPriority,Jn=e.unstable_LowPriority,dt=e.unstable_IdlePriority,dn=null,Xt=null;function Qs(r){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(dn,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:_a,el=Math.log,ya=Math.LN2;function _a(r){return r>>>=0,r===0?32:31-(el(r)/ya|0)|0}var Xs=64,Js=4194304;function Ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function gs(r,i){var l=r.pendingLanes;if(l===0)return 0;var c=0,d=r.suspendedLanes,m=r.pingedLanes,_=l&268435455;if(_!==0){var k=_&~d;k!==0?c=Ri(k):(m&=_,m!==0&&(c=Ri(m)))}else _=l&~d,_!==0?c=Ri(_):m!==0&&(c=Ri(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)l=31-rn(i),d=1<<l,c|=r[l],i&=~d;return c}function Oc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(r,i){for(var l=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-rn(m),k=1<<_,A=d[_];A===-1?(!(k&l)||k&c)&&(d[_]=Oc(k,i)):A<=i&&(r.expiredLanes|=k),m&=~k}}function Rn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function vs(){var r=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),r}function Pi(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Ni(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-rn(i),r[i]=l}function st(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-rn(l),m=1<<d;i[d]=0,c[d]=-1,r[d]=-1,l&=~m}}function Ai(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var c=31-rn(l),d=1<<c;d&i|r[c]&i&&(r[c]|=i),l&=~d}}var je=0;function xi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var wa,Zs,Ea,Sa,Ca,tl=!1,Tr=[],Wt=null,Zn=null,er=null,Di=new Map,Fn=new Map,Ir=[],Mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(r,i){switch(r){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Di.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(i.pointerId)}}function fn(r,i,l,c,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=gl(i),i!==null&&Zs(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function bc(r,i,l,c,d){switch(i){case"focusin":return Wt=fn(Wt,r,i,l,c,d),!0;case"dragenter":return Zn=fn(Zn,r,i,l,c,d),!0;case"mouseover":return er=fn(er,r,i,l,c,d),!0;case"pointerover":var m=d.pointerId;return Di.set(m,fn(Di.get(m)||null,r,i,l,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Fn.set(m,fn(Fn.get(m)||null,r,i,l,c,d)),!0}return!1}function Ia(r){var i=Es(r.target);if(i!==null){var l=Ue(i);if(l!==null){if(i=l.tag,i===13){if(i=qe(l),i!==null){r.blockedOn=i,Ca(r.priority,function(){Ea(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=eo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Kn=c,l.target.dispatchEvent(c),Kn=null}else return i=gl(l),i!==null&&Zs(i),r.blockedOn=l,!1;i.shift()}return!0}function ys(r,i,l){Gr(r)&&l.delete(i)}function ka(){tl=!1,Wt!==null&&Gr(Wt)&&(Wt=null),Zn!==null&&Gr(Zn)&&(Zn=null),er!==null&&Gr(er)&&(er=null),Di.forEach(ys),Fn.forEach(ys)}function tr(r,i){r.blockedOn===i&&(r.blockedOn=null,tl||(tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ka)))}function nr(r){function i(d){return tr(d,r)}if(0<Tr.length){tr(Tr[0],r);for(var l=1;l<Tr.length;l++){var c=Tr[l];c.blockedOn===r&&(c.blockedOn=null)}}for(Wt!==null&&tr(Wt,r),Zn!==null&&tr(Zn,r),er!==null&&tr(er,r),Di.forEach(i),Fn.forEach(i),l=0;l<Ir.length;l++)c=Ir[l],c.blockedOn===r&&(c.blockedOn=null);for(;0<Ir.length&&(l=Ir[0],l.blockedOn===null);)Ia(l),l.blockedOn===null&&Ir.shift()}var Kr=ye.ReactCurrentBatchConfig,Li=!0;function vt(r,i,l,c){var d=je,m=Kr.transition;Kr.transition=null;try{je=1,nl(r,i,l,c)}finally{je=d,Kr.transition=m}}function Fc(r,i,l,c){var d=je,m=Kr.transition;Kr.transition=null;try{je=4,nl(r,i,l,c)}finally{je=d,Kr.transition=m}}function nl(r,i,l,c){if(Li){var d=eo(r,i,l,c);if(d===null)qc(r,i,c,_s,l),Ta(r,c);else if(bc(d,r,i,l,c))c.stopPropagation();else if(Ta(r,c),i&4&&-1<Mc.indexOf(r)){for(;d!==null;){var m=gl(d);if(m!==null&&wa(m),m=eo(r,i,l,c),m===null&&qc(r,i,c,_s,l),m===d)break;d=m}d!==null&&c.stopPropagation()}else qc(r,i,c,null,l)}}var _s=null;function eo(r,i,l,c){if(_s=null,r=Ti(c),r=Es(r),r!==null)if(i=Ue(r),i===null)r=null;else if(l=i.tag,l===13){if(r=qe(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return _s=r,null}function rl(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wr()){case Ve:return 1;case ht:return 4;case Vt:case Jn:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Pn=null,to=null,pn=null;function il(){if(pn)return pn;var r,i=to,l=i.length,c,d="value"in Pn?Pn.value:Pn.textContent,m=d.length;for(r=0;r<l&&i[r]===d[r];r++);var _=l-r;for(c=1;c<=_&&i[l-c]===d[m-c];c++);return pn=d.slice(r,1<c?1-c:void 0)}function no(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function kr(){return!0}function sl(){return!1}function $t(r){function i(l,c,d,m,_){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?kr:sl,this.isPropagationStopped=sl,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),i}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=$t(rr),Rr=ae({},rr,{view:0,detail:0}),Uc=$t(Rr),io,qr,Oi,ws=ae({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(io=r.screenX-Oi.screenX,qr=r.screenY-Oi.screenY):qr=io=0,Oi=r),io)},movementY:function(r){return"movementY"in r?r.movementY:qr}}),so=$t(ws),ol=ae({},ws,{dataTransfer:0}),Ra=$t(ol),oo=ae({},Rr,{relatedTarget:0}),lo=$t(oo),Pa=ae({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=$t(Pa),Na=ae({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Aa=$t(Na),xa=ae({},rr,{data:0}),ll=$t(xa),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},La={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=La[r])?!!i[r]:!1}function u(){return Mi}var p=ae({},Rr,{key:function(r){if(r.key){var i=mn[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=no(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Da[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u,charCode:function(r){return r.type==="keypress"?no(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?no(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),y=$t(p),w=ae({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=$t(w),q=ae({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u}),oe=$t(q),rt=ae({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rt=$t(rt),We=ae({},ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=$t(We),Lt=[9,13,27,32],Pr=f&&"CompositionEvent"in window,Gt=null;f&&"documentMode"in document&&(Gt=document.documentMode);var ao=f&&"TextEvent"in window&&!Gt,uo=f&&(!Pr||Gt&&8<Gt&&11>=Gt),op=" ",lp=!1;function ap(r,i){switch(r){case"keyup":return Lt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function G0(r,i){switch(r){case"compositionend":return up(i);case"keypress":return i.which!==32?null:(lp=!0,op);case"textInput":return r=i.data,r===op&&lp?null:r;default:return null}}function K0(r,i){if(co)return r==="compositionend"||!Pr&&ap(r,i)?(r=il(),pn=to=Pn=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uo&&i.locale!=="ko"?null:i.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!q0[r.type]:i==="textarea"}function hp(r,i,l,c){hn(c),i=Ua(i,"onChange"),0<i.length&&(l=new ro("onChange","change",null,l,c),r.push({event:l,listeners:i}))}var al=null,ul=null;function Y0(r){Np(r,0)}function Oa(r){var i=go(r);if(vi(i))return r}function Q0(r,i){if(r==="change")return i}var dp=!1;if(f){var jc;if(f){var zc="oninput"in document;if(!zc){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),zc=typeof fp.oninput=="function"}jc=zc}else jc=!1;dp=jc&&(!document.documentMode||9<document.documentMode)}function pp(){al&&(al.detachEvent("onpropertychange",mp),ul=al=null)}function mp(r){if(r.propertyName==="value"&&Oa(ul)){var i=[];hp(i,ul,r,Ti(r)),G(Y0,i)}}function X0(r,i,l){r==="focusin"?(pp(),al=i,ul=l,al.attachEvent("onpropertychange",mp)):r==="focusout"&&pp()}function J0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oa(ul)}function Z0(r,i){if(r==="click")return Oa(i)}function ew(r,i){if(r==="input"||r==="change")return Oa(i)}function tw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ir=typeof Object.is=="function"?Object.is:tw;function cl(r,i){if(ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!g.call(i,d)||!ir(r[d],i[d]))return!1}return!0}function gp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vp(r,i){var l=gp(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=i&&c>=i)return{node:l,offset:i-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gp(l)}}function yp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?yp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function _p(){for(var r=window,i=Yt();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Yt(r.document)}return i}function Hc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function nw(r){var i=_p(),l=r.focusedElem,c=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&yp(l.ownerDocument.documentElement,l)){if(c!==null&&Hc(l)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!r.extend&&m>c&&(d=c,c=m,m=d),d=vp(l,m);var _=vp(l,c);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),m>c?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rw=f&&"documentMode"in document&&11>=document.documentMode,ho=null,Bc=null,hl=null,Vc=!1;function wp(r,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vc||ho==null||ho!==Yt(c)||(c=ho,"selectionStart"in c&&Hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hl&&cl(hl,c)||(hl=c,c=Ua(Bc,"onSelect"),0<c.length&&(i=new ro("onSelect","select",null,i,l),r.push({event:i,listeners:c}),i.target=ho)))}function Ma(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var fo={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Wc={},Ep={};f&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ba(r){if(Wc[r])return Wc[r];if(!fo[r])return r;var i=fo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ep)return Wc[r]=i[l];return r}var Sp=ba("animationend"),Cp=ba("animationiteration"),Tp=ba("animationstart"),Ip=ba("transitionend"),kp=new Map,Rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,i){kp.set(r,i),a(i,[r])}for(var $c=0;$c<Rp.length;$c++){var Gc=Rp[$c],iw=Gc.toLowerCase(),sw=Gc[0].toUpperCase()+Gc.slice(1);bi(iw,"on"+sw)}bi(Sp,"onAnimationEnd"),bi(Cp,"onAnimationIteration"),bi(Tp,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Ip,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function Pp(r,i,l){var c=r.type||"unknown-event";r.currentTarget=l,Tt(c,i,void 0,r),r.currentTarget=null}function Np(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var k=c[_],A=k.instance,W=k.currentTarget;if(k=k.listener,A!==m&&d.isPropagationStopped())break e;Pp(d,k,W),m=A}else for(_=0;_<c.length;_++){if(k=c[_],A=k.instance,W=k.currentTarget,k=k.listener,A!==m&&d.isPropagationStopped())break e;Pp(d,k,W),m=A}}}if(se)throw r=Ie,se=!1,Ie=null,r}function ft(r,i){var l=i[eh];l===void 0&&(l=i[eh]=new Set);var c=r+"__bubble";l.has(c)||(Ap(i,r,2,!1),l.add(c))}function Kc(r,i,l){var c=0;i&&(c|=4),Ap(l,r,c,i)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function fl(r){if(!r[Fa]){r[Fa]=!0,s.forEach(function(l){l!=="selectionchange"&&(ow.has(l)||Kc(l,!1,r),Kc(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Fa]||(i[Fa]=!0,Kc("selectionchange",!1,i))}}function Ap(r,i,l,c){switch(rl(i)){case 1:var d=vt;break;case 4:d=Fc;break;default:d=nl}l=d.bind(null,i,l,r),d=void 0,!ce||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,l,{capture:!0,passive:d}):r.addEventListener(i,l,!0):d!==void 0?r.addEventListener(i,l,{passive:d}):r.addEventListener(i,l,!1)}function qc(r,i,l,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var k=c.stateNode.containerInfo;if(k===d||k.nodeType===8&&k.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;_=_.return}for(;k!==null;){if(_=Es(k),_===null)return;if(A=_.tag,A===5||A===6){c=m=_;continue e}k=k.parentNode}}c=c.return}G(function(){var W=m,Z=Ti(l),ee=[];e:{var J=kp.get(r);if(J!==void 0){var de=ro,ve=r;switch(r){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":ve="focus",de=lo;break;case"focusout":ve="blur",de=lo;break;case"beforeblur":case"afterblur":de=lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=oe;break;case Sp:case Cp:case Tp:de=Yr;break;case Ip:de=Rt;break;case"scroll":de=Uc;break;case"wheel":de=Dt;break;case"copy":case"cut":case"paste":de=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=j}var we=(i&4)!==0,It=!we&&r==="scroll",H=we?J!==null?J+"Capture":null:J;we=[];for(var M=W,B;M!==null;){B=M;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,H!==null&&(te=Q(M,H),te!=null&&we.push(pl(M,te,B)))),It)break;M=M.return}0<we.length&&(J=new de(J,ve,null,l,Z),ee.push({event:J,listeners:we}))}}if(!(i&7)){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&l!==Kn&&(ve=l.relatedTarget||l.fromElement)&&(Es(ve)||ve[Qr]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(ve=l.relatedTarget||l.toElement,de=W,ve=ve?Es(ve):null,ve!==null&&(It=Ue(ve),ve!==It||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(de=null,ve=W),de!==ve)){if(we=so,te="onMouseLeave",H="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(we=j,te="onPointerLeave",H="onPointerEnter",M="pointer"),It=de==null?J:go(de),B=ve==null?J:go(ve),J=new we(te,M+"leave",de,l,Z),J.target=It,J.relatedTarget=B,te=null,Es(Z)===W&&(we=new we(H,M+"enter",ve,l,Z),we.target=B,we.relatedTarget=It,te=we),It=te,de&&ve)t:{for(we=de,H=ve,M=0,B=we;B;B=po(B))M++;for(B=0,te=H;te;te=po(te))B++;for(;0<M-B;)we=po(we),M--;for(;0<B-M;)H=po(H),B--;for(;M--;){if(we===H||H!==null&&we===H.alternate)break t;we=po(we),H=po(H)}we=null}else we=null;de!==null&&xp(ee,J,de,we,!1),ve!==null&&It!==null&&xp(ee,It,ve,we,!0)}}e:{if(J=W?go(W):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var Ee=Q0;else if(cp(J))if(dp)Ee=ew;else{Ee=J0;var Ce=X0}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Ee=Z0);if(Ee&&(Ee=Ee(r,W))){hp(ee,Ee,l,Z);break e}Ce&&Ce(r,J,W),r==="focusout"&&(Ce=J._wrapperState)&&Ce.controlled&&J.type==="number"&&wi(J,"number",J.value)}switch(Ce=W?go(W):window,r){case"focusin":(cp(Ce)||Ce.contentEditable==="true")&&(ho=Ce,Bc=W,hl=null);break;case"focusout":hl=Bc=ho=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,wp(ee,l,Z);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":wp(ee,l,Z)}var Te;if(Pr)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else co?ap(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(uo&&l.locale!=="ko"&&(co||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&co&&(Te=il()):(Pn=Z,to="value"in Pn?Pn.value:Pn.textContent,co=!0)),Ce=Ua(W,Re),0<Ce.length&&(Re=new ll(Re,r,null,l,Z),ee.push({event:Re,listeners:Ce}),Te?Re.data=Te:(Te=up(l),Te!==null&&(Re.data=Te)))),(Te=ao?G0(r,l):K0(r,l))&&(W=Ua(W,"onBeforeInput"),0<W.length&&(Z=new ll("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:W}),Z.data=Te))}Np(ee,i)})}function pl(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Ua(r,i){for(var l=i+"Capture",c=[];r!==null;){var d=r,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Q(r,l),m!=null&&c.unshift(pl(r,m,d)),m=Q(r,i),m!=null&&c.push(pl(r,m,d))),r=r.return}return c}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xp(r,i,l,c,d){for(var m=i._reactName,_=[];l!==null&&l!==c;){var k=l,A=k.alternate,W=k.stateNode;if(A!==null&&A===c)break;k.tag===5&&W!==null&&(k=W,d?(A=Q(l,m),A!=null&&_.unshift(pl(l,A,k))):d||(A=Q(l,m),A!=null&&_.push(pl(l,A,k)))),l=l.return}_.length!==0&&r.push({event:i,listeners:_})}var lw=/\r\n?/g,aw=/\u0000|\uFFFD/g;function Dp(r){return(typeof r=="string"?r:""+r).replace(lw,`
`).replace(aw,"")}function ja(r,i,l){if(i=Dp(i),Dp(r)!==i&&l)throw Error(t(425))}function za(){}var Yc=null,Qc=null;function Xc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,uw=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(r){return Lp.resolve(null).then(r).catch(hw)}:Jc;function hw(r){setTimeout(function(){throw r})}function Zc(r,i){var l=i,c=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(c===0){r.removeChild(d),nr(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=d}while(l);nr(i)}function Fi(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Op(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Nr="__reactFiber$"+mo,ml="__reactProps$"+mo,Qr="__reactContainer$"+mo,eh="__reactEvents$"+mo,dw="__reactListeners$"+mo,fw="__reactHandles$"+mo;function Es(r){var i=r[Nr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Qr]||l[Nr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Op(r);r!==null;){if(l=r[Nr])return l;r=Op(r)}return i}r=l,l=r.parentNode}return null}function gl(r){return r=r[Nr]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ha(r){return r[ml]||null}var th=[],vo=-1;function Ui(r){return{current:r}}function pt(r){0>vo||(r.current=th[vo],th[vo]=null,vo--)}function at(r,i){vo++,th[vo]=r.current,r.current=i}var ji={},Jt=Ui(ji),gn=Ui(!1),Ss=ji;function yo(r,i){var l=r.type.contextTypes;if(!l)return ji;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in l)d[m]=i[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function vn(r){return r=r.childContextTypes,r!=null}function Ba(){pt(gn),pt(Jt)}function Mp(r,i,l){if(Jt.current!==ji)throw Error(t(168));at(Jt,i),at(gn,l)}function bp(r,i,l){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Ge(r)||"Unknown",d));return ae({},l,c)}function Va(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ji,Ss=Jt.current,at(Jt,r),at(gn,gn.current),!0}function Fp(r,i,l){var c=r.stateNode;if(!c)throw Error(t(169));l?(r=bp(r,i,Ss),c.__reactInternalMemoizedMergedChildContext=r,pt(gn),pt(Jt),at(Jt,r)):pt(gn),at(gn,l)}var Xr=null,Wa=!1,nh=!1;function Up(r){Xr===null?Xr=[r]:Xr.push(r)}function pw(r){Wa=!0,Up(r)}function zi(){if(!nh&&Xr!==null){nh=!0;var r=0,i=je;try{var l=Xr;for(je=1;r<l.length;r++){var c=l[r];do c=c(!0);while(c!==null)}Xr=null,Wa=!1}catch(d){throw Xr!==null&&(Xr=Xr.slice(r+1)),Bt(Ve,zi),d}finally{je=i,nh=!1}}return null}var _o=[],wo=0,$a=null,Ga=0,Un=[],jn=0,Cs=null,Jr=1,Zr="";function Ts(r,i){_o[wo++]=Ga,_o[wo++]=$a,$a=r,Ga=i}function jp(r,i,l){Un[jn++]=Jr,Un[jn++]=Zr,Un[jn++]=Cs,Cs=r;var c=Jr;r=Zr;var d=32-rn(c)-1;c&=~(1<<d),l+=1;var m=32-rn(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Jr=1<<32-rn(i)+d|l<<d|c,Zr=m+r}else Jr=1<<m|l<<d|c,Zr=r}function rh(r){r.return!==null&&(Ts(r,1),jp(r,1,0))}function ih(r){for(;r===$a;)$a=_o[--wo],_o[wo]=null,Ga=_o[--wo],_o[wo]=null;for(;r===Cs;)Cs=Un[--jn],Un[jn]=null,Zr=Un[--jn],Un[jn]=null,Jr=Un[--jn],Un[jn]=null}var Nn=null,An=null,gt=!1,sr=null;function zp(r,i){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Hp(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Nn=r,An=Fi(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Nn=r,An=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Cs!==null?{id:Jr,overflow:Zr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Nn=r,An=null,!0):!1;default:return!1}}function sh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function oh(r){if(gt){var i=An;if(i){var l=i;if(!Hp(r,i)){if(sh(r))throw Error(t(418));i=Fi(l.nextSibling);var c=Nn;i&&Hp(r,i)?zp(c,l):(r.flags=r.flags&-4097|2,gt=!1,Nn=r)}}else{if(sh(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Nn=r}}}function Bp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nn=r}function Ka(r){if(r!==Nn)return!1;if(!gt)return Bp(r),gt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Xc(r.type,r.memoizedProps)),i&&(i=An)){if(sh(r))throw Vp(),Error(t(418));for(;i;)zp(r,i),i=Fi(i.nextSibling)}if(Bp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){An=Fi(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}An=null}}else An=Nn?Fi(r.stateNode.nextSibling):null;return!0}function Vp(){for(var r=An;r;)r=Fi(r.nextSibling)}function Eo(){An=Nn=null,gt=!1}function lh(r){sr===null?sr=[r]:sr.push(r)}var mw=ye.ReactCurrentBatchConfig;function vl(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var c=l.stateNode}if(!c)throw Error(t(147,r));var d=c,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var k=d.refs;_===null?delete k[m]:k[m]=_},i._stringRef=m,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function qa(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Wp(r){var i=r._init;return i(r._payload)}function $p(r){function i(H,M){if(r){var B=H.deletions;B===null?(H.deletions=[M],H.flags|=16):B.push(M)}}function l(H,M){if(!r)return null;for(;M!==null;)i(H,M),M=M.sibling;return null}function c(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function d(H,M){return H=qi(H,M),H.index=0,H.sibling=null,H}function m(H,M,B){return H.index=B,r?(B=H.alternate,B!==null?(B=B.index,B<M?(H.flags|=2,M):B):(H.flags|=2,M)):(H.flags|=1048576,M)}function _(H){return r&&H.alternate===null&&(H.flags|=2),H}function k(H,M,B,te){return M===null||M.tag!==6?(M=Jh(B,H.mode,te),M.return=H,M):(M=d(M,B),M.return=H,M)}function A(H,M,B,te){var Ee=B.type;return Ee===N?Z(H,M,B.props.children,te,B.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ct&&Wp(Ee)===M.type)?(te=d(M,B.props),te.ref=vl(H,M,B),te.return=H,te):(te=yu(B.type,B.key,B.props,null,H.mode,te),te.ref=vl(H,M,B),te.return=H,te)}function W(H,M,B,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Zh(B,H.mode,te),M.return=H,M):(M=d(M,B.children||[]),M.return=H,M)}function Z(H,M,B,te,Ee){return M===null||M.tag!==7?(M=Ds(B,H.mode,te,Ee),M.return=H,M):(M=d(M,B),M.return=H,M)}function ee(H,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Jh(""+M,H.mode,B),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return B=yu(M.type,M.key,M.props,null,H.mode,B),B.ref=vl(H,null,M),B.return=H,B;case ue:return M=Zh(M,H.mode,B),M.return=H,M;case Ct:var te=M._init;return ee(H,te(M._payload),B)}if($n(M)||_e(M))return M=Ds(M,H.mode,B,null),M.return=H,M;qa(H,M)}return null}function J(H,M,B,te){var Ee=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:k(H,M,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return B.key===Ee?A(H,M,B,te):null;case ue:return B.key===Ee?W(H,M,B,te):null;case Ct:return Ee=B._init,J(H,M,Ee(B._payload),te)}if($n(B)||_e(B))return Ee!==null?null:Z(H,M,B,te,null);qa(H,B)}return null}function de(H,M,B,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number")return H=H.get(B)||null,k(M,H,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case z:return H=H.get(te.key===null?B:te.key)||null,A(M,H,te,Ee);case ue:return H=H.get(te.key===null?B:te.key)||null,W(M,H,te,Ee);case Ct:var Ce=te._init;return de(H,M,B,Ce(te._payload),Ee)}if($n(te)||_e(te))return H=H.get(B)||null,Z(M,H,te,Ee,null);qa(M,te)}return null}function ve(H,M,B,te){for(var Ee=null,Ce=null,Te=M,Re=M=0,bt=null;Te!==null&&Re<B.length;Re++){Te.index>Re?(bt=Te,Te=null):bt=Te.sibling;var Qe=J(H,Te,B[Re],te);if(Qe===null){Te===null&&(Te=bt);break}r&&Te&&Qe.alternate===null&&i(H,Te),M=m(Qe,M,Re),Ce===null?Ee=Qe:Ce.sibling=Qe,Ce=Qe,Te=bt}if(Re===B.length)return l(H,Te),gt&&Ts(H,Re),Ee;if(Te===null){for(;Re<B.length;Re++)Te=ee(H,B[Re],te),Te!==null&&(M=m(Te,M,Re),Ce===null?Ee=Te:Ce.sibling=Te,Ce=Te);return gt&&Ts(H,Re),Ee}for(Te=c(H,Te);Re<B.length;Re++)bt=de(Te,H,Re,B[Re],te),bt!==null&&(r&&bt.alternate!==null&&Te.delete(bt.key===null?Re:bt.key),M=m(bt,M,Re),Ce===null?Ee=bt:Ce.sibling=bt,Ce=bt);return r&&Te.forEach(function(Yi){return i(H,Yi)}),gt&&Ts(H,Re),Ee}function we(H,M,B,te){var Ee=_e(B);if(typeof Ee!="function")throw Error(t(150));if(B=Ee.call(B),B==null)throw Error(t(151));for(var Ce=Ee=null,Te=M,Re=M=0,bt=null,Qe=B.next();Te!==null&&!Qe.done;Re++,Qe=B.next()){Te.index>Re?(bt=Te,Te=null):bt=Te.sibling;var Yi=J(H,Te,Qe.value,te);if(Yi===null){Te===null&&(Te=bt);break}r&&Te&&Yi.alternate===null&&i(H,Te),M=m(Yi,M,Re),Ce===null?Ee=Yi:Ce.sibling=Yi,Ce=Yi,Te=bt}if(Qe.done)return l(H,Te),gt&&Ts(H,Re),Ee;if(Te===null){for(;!Qe.done;Re++,Qe=B.next())Qe=ee(H,Qe.value,te),Qe!==null&&(M=m(Qe,M,Re),Ce===null?Ee=Qe:Ce.sibling=Qe,Ce=Qe);return gt&&Ts(H,Re),Ee}for(Te=c(H,Te);!Qe.done;Re++,Qe=B.next())Qe=de(Te,H,Re,Qe.value,te),Qe!==null&&(r&&Qe.alternate!==null&&Te.delete(Qe.key===null?Re:Qe.key),M=m(Qe,M,Re),Ce===null?Ee=Qe:Ce.sibling=Qe,Ce=Qe);return r&&Te.forEach(function(qw){return i(H,qw)}),gt&&Ts(H,Re),Ee}function It(H,M,B,te){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case z:e:{for(var Ee=B.key,Ce=M;Ce!==null;){if(Ce.key===Ee){if(Ee=B.type,Ee===N){if(Ce.tag===7){l(H,Ce.sibling),M=d(Ce,B.props.children),M.return=H,H=M;break e}}else if(Ce.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ct&&Wp(Ee)===Ce.type){l(H,Ce.sibling),M=d(Ce,B.props),M.ref=vl(H,Ce,B),M.return=H,H=M;break e}l(H,Ce);break}else i(H,Ce);Ce=Ce.sibling}B.type===N?(M=Ds(B.props.children,H.mode,te,B.key),M.return=H,H=M):(te=yu(B.type,B.key,B.props,null,H.mode,te),te.ref=vl(H,M,B),te.return=H,H=te)}return _(H);case ue:e:{for(Ce=B.key;M!==null;){if(M.key===Ce)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){l(H,M.sibling),M=d(M,B.children||[]),M.return=H,H=M;break e}else{l(H,M);break}else i(H,M);M=M.sibling}M=Zh(B,H.mode,te),M.return=H,H=M}return _(H);case Ct:return Ce=B._init,It(H,M,Ce(B._payload),te)}if($n(B))return ve(H,M,B,te);if(_e(B))return we(H,M,B,te);qa(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,M!==null&&M.tag===6?(l(H,M.sibling),M=d(M,B),M.return=H,H=M):(l(H,M),M=Jh(B,H.mode,te),M.return=H,H=M),_(H)):l(H,M)}return It}var So=$p(!0),Gp=$p(!1),Ya=Ui(null),Qa=null,Co=null,ah=null;function uh(){ah=Co=Qa=null}function ch(r){var i=Ya.current;pt(Ya),r._currentValue=i}function hh(r,i,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===l)break;r=r.return}}function To(r,i){Qa=r,ah=Co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(yn=!0),r.firstContext=null)}function zn(r){var i=r._currentValue;if(ah!==r)if(r={context:r,memoizedValue:i,next:null},Co===null){if(Qa===null)throw Error(t(308));Co=r,Qa.dependencies={lanes:0,firstContext:r}}else Co=Co.next=r;return i}var Is=null;function dh(r){Is===null?Is=[r]:Is.push(r)}function Kp(r,i,l,c){var d=i.interleaved;return d===null?(l.next=l,dh(i)):(l.next=d.next,d.next=l),i.interleaved=l,ei(r,c)}function ei(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Hi=!1;function fh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ti(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Bi(r,i,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ye&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,ei(r,l)}return d=c.interleaved,d===null?(i.next=i,dh(c)):(i.next=d.next,d.next=i),c.interleaved=i,ei(r,l)}function Xa(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Ai(r,l)}}function Yp(r,i){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?d=m=_:m=m.next=_,l=l.next}while(l!==null);m===null?d=m=i:m=m.next=i}else d=m=i;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Ja(r,i,l,c){var d=r.updateQueue;Hi=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var A=k,W=A.next;A.next=null,_===null?m=W:_.next=W,_=A;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==_&&(k===null?Z.firstBaseUpdate=W:k.next=W,Z.lastBaseUpdate=A))}if(m!==null){var ee=d.baseState;_=0,Z=W=A=null,k=m;do{var J=k.lane,de=k.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ve=r,we=k;switch(J=i,de=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ee=ve.call(de,ee,J);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,J=typeof ve=="function"?ve.call(de,ee,J):ve,J==null)break e;ee=ae({},ee,J);break e;case 2:Hi=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,J=d.effects,J===null?d.effects=[k]:J.push(k))}else de={eventTime:de,lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?(W=Z=de,A=ee):Z=Z.next=de,_|=J;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;J=k,k=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(Z===null&&(A=ee),d.baseState=A,d.firstBaseUpdate=W,d.lastBaseUpdate=Z,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Ps|=_,r.lanes=_,r.memoizedState=ee}}function Qp(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=l,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var yl={},Ar=Ui(yl),_l=Ui(yl),wl=Ui(yl);function ks(r){if(r===yl)throw Error(t(174));return r}function ph(r,i){switch(at(wl,i),at(_l,r),at(Ar,yl),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:wt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=wt(i,r)}pt(Ar),at(Ar,i)}function Io(){pt(Ar),pt(_l),pt(wl)}function Xp(r){ks(wl.current);var i=ks(Ar.current),l=wt(i,r.type);i!==l&&(at(_l,r),at(Ar,l))}function mh(r){_l.current===r&&(pt(Ar),pt(_l))}var yt=Ui(0);function Za(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gh=[];function vh(){for(var r=0;r<gh.length;r++)gh[r]._workInProgressVersionPrimary=null;gh.length=0}var eu=ye.ReactCurrentDispatcher,yh=ye.ReactCurrentBatchConfig,Rs=0,_t=null,Pt=null,Ot=null,tu=!1,El=!1,Sl=0,gw=0;function Zt(){throw Error(t(321))}function _h(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!ir(r[l],i[l]))return!1;return!0}function wh(r,i,l,c,d,m){if(Rs=m,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,eu.current=r===null||r.memoizedState===null?ww:Ew,r=l(c,d),El){m=0;do{if(El=!1,Sl=0,25<=m)throw Error(t(301));m+=1,Ot=Pt=null,i.updateQueue=null,eu.current=Sw,r=l(c,d)}while(El)}if(eu.current=iu,i=Pt!==null&&Pt.next!==null,Rs=0,Ot=Pt=_t=null,tu=!1,i)throw Error(t(300));return r}function Eh(){var r=Sl!==0;return Sl=0,r}function xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?_t.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Hn(){if(Pt===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var i=Ot===null?_t.memoizedState:Ot.next;if(i!==null)Ot=i,Pt=r;else{if(r===null)throw Error(t(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?_t.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Cl(r,i){return typeof i=="function"?i(r):i}function Sh(r){var i=Hn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var c=Pt,d=c.baseQueue,m=l.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,l.pending=null}if(d!==null){m=d.next,c=c.baseState;var k=_=null,A=null,W=m;do{var Z=W.lane;if((Rs&Z)===Z)A!==null&&(A=A.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var ee={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};A===null?(k=A=ee,_=c):A=A.next=ee,_t.lanes|=Z,Ps|=Z}W=W.next}while(W!==null&&W!==m);A===null?_=c:A.next=k,ir(c,i.memoizedState)||(yn=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=A,l.lastRenderedState=c}if(r=l.interleaved,r!==null){d=r;do m=d.lane,_t.lanes|=m,Ps|=m,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ch(r){var i=Hn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var c=l.dispatch,d=l.pending,m=i.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do m=r(m,_.action),_=_.next;while(_!==d);ir(m,i.memoizedState)||(yn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,c]}function Jp(){}function Zp(r,i){var l=_t,c=Hn(),d=i(),m=!ir(c.memoizedState,d);if(m&&(c.memoizedState=d,yn=!0),c=c.queue,Th(nm.bind(null,l,c,r),[r]),c.getSnapshot!==i||m||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Tl(9,tm.bind(null,l,c,d,i),void 0,null),Mt===null)throw Error(t(349));Rs&30||em(l,i,d)}return d}function em(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=_t.updateQueue,i===null?(i={lastEffect:null,stores:null},_t.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function tm(r,i,l,c){i.value=l,i.getSnapshot=c,rm(i)&&im(r)}function nm(r,i,l){return l(function(){rm(i)&&im(r)})}function rm(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!ir(r,l)}catch{return!0}}function im(r){var i=ei(r,1);i!==null&&ur(i,r,1,-1)}function sm(r){var i=xr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:r},i.queue=r,r=r.dispatch=_w.bind(null,_t,r),[i.memoizedState,r]}function Tl(r,i,l,c){return r={tag:r,create:i,destroy:l,deps:c,next:null},i=_t.updateQueue,i===null?(i={lastEffect:null,stores:null},_t.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,i.lastEffect=r)),r}function om(){return Hn().memoizedState}function nu(r,i,l,c){var d=xr();_t.flags|=r,d.memoizedState=Tl(1|i,l,void 0,c===void 0?null:c)}function ru(r,i,l,c){var d=Hn();c=c===void 0?null:c;var m=void 0;if(Pt!==null){var _=Pt.memoizedState;if(m=_.destroy,c!==null&&_h(c,_.deps)){d.memoizedState=Tl(i,l,m,c);return}}_t.flags|=r,d.memoizedState=Tl(1|i,l,m,c)}function lm(r,i){return nu(8390656,8,r,i)}function Th(r,i){return ru(2048,8,r,i)}function am(r,i){return ru(4,2,r,i)}function um(r,i){return ru(4,4,r,i)}function cm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function hm(r,i,l){return l=l!=null?l.concat([r]):null,ru(4,4,cm.bind(null,i,r),l)}function Ih(){}function dm(r,i){var l=Hn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&_h(i,c[1])?c[0]:(l.memoizedState=[r,i],r)}function fm(r,i){var l=Hn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&_h(i,c[1])?c[0]:(r=r(),l.memoizedState=[r,i],r)}function pm(r,i,l){return Rs&21?(ir(l,i)||(l=vs(),_t.lanes|=l,Ps|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,yn=!0),r.memoizedState=l)}function vw(r,i){var l=je;je=l!==0&&4>l?l:4,r(!0);var c=yh.transition;yh.transition={};try{r(!1),i()}finally{je=l,yh.transition=c}}function mm(){return Hn().memoizedState}function yw(r,i,l){var c=Gi(r);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},gm(r))vm(i,l);else if(l=Kp(r,i,l,c),l!==null){var d=on();ur(l,r,c,d),ym(l,i,c)}}function _w(r,i,l){var c=Gi(r),d={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(gm(r))vm(i,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,k=m(_,l);if(d.hasEagerState=!0,d.eagerState=k,ir(k,_)){var A=i.interleaved;A===null?(d.next=d,dh(i)):(d.next=A.next,A.next=d),i.interleaved=d;return}}catch{}finally{}l=Kp(r,i,d,c),l!==null&&(d=on(),ur(l,r,c,d),ym(l,i,c))}}function gm(r){var i=r.alternate;return r===_t||i!==null&&i===_t}function vm(r,i){El=tu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function ym(r,i,l){if(l&4194240){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Ai(r,l)}}var iu={readContext:zn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},ww={readContext:zn,useCallback:function(r,i){return xr().memoizedState=[r,i===void 0?null:i],r},useContext:zn,useEffect:lm,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,nu(4194308,4,cm.bind(null,i,r),l)},useLayoutEffect:function(r,i){return nu(4194308,4,r,i)},useInsertionEffect:function(r,i){return nu(4,2,r,i)},useMemo:function(r,i){var l=xr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var c=xr();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=yw.bind(null,_t,r),[c.memoizedState,r]},useRef:function(r){var i=xr();return r={current:r},i.memoizedState=r},useState:sm,useDebugValue:Ih,useDeferredValue:function(r){return xr().memoizedState=r},useTransition:function(){var r=sm(!1),i=r[0];return r=vw.bind(null,r[1]),xr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var c=_t,d=xr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Mt===null)throw Error(t(349));Rs&30||em(c,i,l)}d.memoizedState=l;var m={value:l,getSnapshot:i};return d.queue=m,lm(nm.bind(null,c,m,r),[r]),c.flags|=2048,Tl(9,tm.bind(null,c,m,l,i),void 0,null),l},useId:function(){var r=xr(),i=Mt.identifierPrefix;if(gt){var l=Zr,c=Jr;l=(c&~(1<<32-rn(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=Sl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=gw++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Ew={readContext:zn,useCallback:dm,useContext:zn,useEffect:Th,useImperativeHandle:hm,useInsertionEffect:am,useLayoutEffect:um,useMemo:fm,useReducer:Sh,useRef:om,useState:function(){return Sh(Cl)},useDebugValue:Ih,useDeferredValue:function(r){var i=Hn();return pm(i,Pt.memoizedState,r)},useTransition:function(){var r=Sh(Cl)[0],i=Hn().memoizedState;return[r,i]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:mm,unstable_isNewReconciler:!1},Sw={readContext:zn,useCallback:dm,useContext:zn,useEffect:Th,useImperativeHandle:hm,useInsertionEffect:am,useLayoutEffect:um,useMemo:fm,useReducer:Ch,useRef:om,useState:function(){return Ch(Cl)},useDebugValue:Ih,useDeferredValue:function(r){var i=Hn();return Pt===null?i.memoizedState=r:pm(i,Pt.memoizedState,r)},useTransition:function(){var r=Ch(Cl)[0],i=Hn().memoizedState;return[r,i]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:mm,unstable_isNewReconciler:!1};function or(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function kh(r,i,l,c){i=r.memoizedState,l=l(c,i),l=l==null?i:ae({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var su={isMounted:function(r){return(r=r._reactInternals)?Ue(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var c=on(),d=Gi(r),m=ti(c,d);m.payload=i,l!=null&&(m.callback=l),i=Bi(r,m,d),i!==null&&(ur(i,r,d,c),Xa(i,r,d))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var c=on(),d=Gi(r),m=ti(c,d);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Bi(r,m,d),i!==null&&(ur(i,r,d,c),Xa(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=on(),c=Gi(r),d=ti(l,c);d.tag=2,i!=null&&(d.callback=i),i=Bi(r,d,c),i!==null&&(ur(i,r,c,l),Xa(i,r,c))}};function _m(r,i,l,c,d,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!cl(l,c)||!cl(d,m):!0}function wm(r,i,l){var c=!1,d=ji,m=i.contextType;return typeof m=="object"&&m!==null?m=zn(m):(d=vn(i)?Ss:Jt.current,c=i.contextTypes,m=(c=c!=null)?yo(r,d):ji),i=new i(l,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=su,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=m),i}function Em(r,i,l,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==r&&su.enqueueReplaceState(i,i.state,null)}function Rh(r,i,l,c){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},fh(r);var m=i.contextType;typeof m=="object"&&m!==null?d.context=zn(m):(m=vn(i)?Ss:Jt.current,d.context=yo(r,m)),d.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(kh(r,i,m,l),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&su.enqueueReplaceState(d,d.state,null),Ja(r,l,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ko(r,i){try{var l="",c=i;do l+=Pe(c),c=c.return;while(c);var d=l}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:d,digest:null}}function Ph(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Nh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Cw=typeof WeakMap=="function"?WeakMap:Map;function Sm(r,i,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){du||(du=!0,Wh=c),Nh(r,i)},l}function Cm(r,i,l){l=ti(-1,l),l.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;l.payload=function(){return c(d)},l.callback=function(){Nh(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Nh(r,i),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),l}function Tm(r,i,l){var c=r.pingCache;if(c===null){c=r.pingCache=new Cw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(l)||(d.add(l),r=Fw.bind(null,r,i,l),i.then(r,r))}function Im(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function km(r,i,l,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ti(-1,1),i.tag=2,Bi(l,i,1))),l.lanes|=1),r)}var Tw=ye.ReactCurrentOwner,yn=!1;function sn(r,i,l,c){i.child=r===null?Gp(i,null,l,c):So(i,r.child,l,c)}function Rm(r,i,l,c,d){l=l.render;var m=i.ref;return To(i,d),c=wh(r,i,l,c,m,d),l=Eh(),r!==null&&!yn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,ni(r,i,d)):(gt&&l&&rh(i),i.flags|=1,sn(r,i,c,d),i.child)}function Pm(r,i,l,c,d){if(r===null){var m=l.type;return typeof m=="function"&&!Xh(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,Nm(r,i,m,c,d)):(r=yu(l.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!(r.lanes&d)){var _=m.memoizedProps;if(l=l.compare,l=l!==null?l:cl,l(_,c)&&r.ref===i.ref)return ni(r,i,d)}return i.flags|=1,r=qi(m,c),r.ref=i.ref,r.return=i,i.child=r}function Nm(r,i,l,c,d){if(r!==null){var m=r.memoizedProps;if(cl(m,c)&&r.ref===i.ref)if(yn=!1,i.pendingProps=c=m,(r.lanes&d)!==0)r.flags&131072&&(yn=!0);else return i.lanes=r.lanes,ni(r,i,d)}return Ah(r,i,l,c,d)}function Am(r,i,l){var c=i.pendingProps,d=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Po,xn),xn|=l;else{if(!(l&1073741824))return r=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,at(Po,xn),xn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,at(Po,xn),xn|=c}else m!==null?(c=m.baseLanes|l,i.memoizedState=null):c=l,at(Po,xn),xn|=c;return sn(r,i,d,l),i.child}function xm(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Ah(r,i,l,c,d){var m=vn(l)?Ss:Jt.current;return m=yo(i,m),To(i,d),l=wh(r,i,l,c,m,d),c=Eh(),r!==null&&!yn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,ni(r,i,d)):(gt&&c&&rh(i),i.flags|=1,sn(r,i,l,d),i.child)}function Dm(r,i,l,c,d){if(vn(l)){var m=!0;Va(i)}else m=!1;if(To(i,d),i.stateNode===null)lu(r,i),wm(i,l,c),Rh(i,l,c,d),c=!0;else if(r===null){var _=i.stateNode,k=i.memoizedProps;_.props=k;var A=_.context,W=l.contextType;typeof W=="object"&&W!==null?W=zn(W):(W=vn(l)?Ss:Jt.current,W=yo(i,W));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==c||A!==W)&&Em(i,_,c,W),Hi=!1;var J=i.memoizedState;_.state=J,Ja(i,c,_,d),A=i.memoizedState,k!==c||J!==A||gn.current||Hi?(typeof Z=="function"&&(kh(i,l,Z,c),A=i.memoizedState),(k=Hi||_m(i,l,k,c,J,A,W))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=A),_.props=c,_.state=A,_.context=W,c=k):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,qp(r,i),k=i.memoizedProps,W=i.type===i.elementType?k:or(i.type,k),_.props=W,ee=i.pendingProps,J=_.context,A=l.contextType,typeof A=="object"&&A!==null?A=zn(A):(A=vn(l)?Ss:Jt.current,A=yo(i,A));var de=l.getDerivedStateFromProps;(Z=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==ee||J!==A)&&Em(i,_,c,A),Hi=!1,J=i.memoizedState,_.state=J,Ja(i,c,_,d);var ve=i.memoizedState;k!==ee||J!==ve||gn.current||Hi?(typeof de=="function"&&(kh(i,l,de,c),ve=i.memoizedState),(W=Hi||_m(i,l,W,c,J,ve,A)||!1)?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ve,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ve,A)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ve),_.props=c,_.state=ve,_.context=A,c=W):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),c=!1)}return xh(r,i,l,c,m,d)}function xh(r,i,l,c,d,m){xm(r,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Fp(i,l,!1),ni(r,i,m);c=i.stateNode,Tw.current=i;var k=_&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&_?(i.child=So(i,r.child,null,m),i.child=So(i,null,k,m)):sn(r,i,k,m),i.memoizedState=c.state,d&&Fp(i,l,!0),i.child}function Lm(r){var i=r.stateNode;i.pendingContext?Mp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Mp(r,i.context,!1),ph(r,i.containerInfo)}function Om(r,i,l,c,d){return Eo(),lh(d),i.flags|=256,sn(r,i,l,c),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Lh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Mm(r,i,l){var c=i.pendingProps,d=yt.current,m=!1,_=(i.flags&128)!==0,k;if((k=_)||(k=r!==null&&r.memoizedState===null?!1:(d&2)!==0),k?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),at(yt,d&1),r===null)return oh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,r=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=_u(_,c,0,null),r=Ds(r,c,l,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Lh(l),i.memoizedState=Dh,r):Oh(i,_));if(d=r.memoizedState,d!==null&&(k=d.dehydrated,k!==null))return Iw(r,i,_,c,k,d,l);if(m){m=c.fallback,_=i.mode,d=r.child,k=d.sibling;var A={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=A,i.deletions=null):(c=qi(d,A),c.subtreeFlags=d.subtreeFlags&14680064),k!==null?m=qi(k,m):(m=Ds(m,_,l,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=r.child.memoizedState,_=_===null?Lh(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~l,i.memoizedState=Dh,c}return m=r.child,r=m.sibling,c=qi(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=l),c.return=i,c.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=c,i.memoizedState=null,c}function Oh(r,i){return i=_u({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ou(r,i,l,c){return c!==null&&lh(c),So(i,r.child,null,l),r=Oh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Iw(r,i,l,c,d,m,_){if(l)return i.flags&256?(i.flags&=-257,c=Ph(Error(t(422))),ou(r,i,_,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=_u({mode:"visible",children:c.children},d,0,null),m=Ds(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&So(i,r.child,null,_),i.child.memoizedState=Lh(_),i.memoizedState=Dh,m);if(!(i.mode&1))return ou(r,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var k=c.dgst;return c=k,m=Error(t(419)),c=Ph(m,c,void 0),ou(r,i,_,c)}if(k=(_&r.childLanes)!==0,yn||k){if(c=Mt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,ei(r,d),ur(c,r,d,-1))}return Qh(),c=Ph(Error(t(421))),ou(r,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=Uw.bind(null,r),d._reactRetry=i,null):(r=m.treeContext,An=Fi(d.nextSibling),Nn=i,gt=!0,sr=null,r!==null&&(Un[jn++]=Jr,Un[jn++]=Zr,Un[jn++]=Cs,Jr=r.id,Zr=r.overflow,Cs=i),i=Oh(i,c.children),i.flags|=4096,i)}function bm(r,i,l){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),hh(r.return,i,l)}function Mh(r,i,l,c,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=d)}function Fm(r,i,l){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(sn(r,i,c.children,l),c=yt.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bm(r,l,i);else if(r.tag===19)bm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(at(yt,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(l=i.child,d=null;l!==null;)r=l.alternate,r!==null&&Za(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),Mh(i,!1,d,l,m);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Za(r)===null){i.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}Mh(i,!0,l,null,m);break;case"together":Mh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function ni(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Ps|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=qi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=qi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function kw(r,i,l){switch(i.tag){case 3:Lm(i),Eo();break;case 5:Xp(i);break;case 1:vn(i.type)&&Va(i);break;case 4:ph(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;at(Ya,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(at(yt,yt.current&1),i.flags|=128,null):l&i.child.childLanes?Mm(r,i,l):(at(yt,yt.current&1),r=ni(r,i,l),r!==null?r.sibling:null);at(yt,yt.current&1);break;case 19:if(c=(l&i.childLanes)!==0,r.flags&128){if(c)return Fm(r,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),at(yt,yt.current),c)break;return null;case 22:case 23:return i.lanes=0,Am(r,i,l)}return ni(r,i,l)}var Um,bh,jm,zm;Um=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bh=function(){},jm=function(r,i,l,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,ks(Ar.current);var m=null;switch(l){case"input":d=Hr(r,d),c=Hr(r,c),m=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":d=Gn(r,d),c=Gn(r,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=za)}Sr(l,c);var _;l=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var k=d[W];for(_ in k)k.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in c){var A=c[W];if(k=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&A!==k&&(A!=null||k!=null))if(W==="style")if(k){for(_ in k)!k.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in A)A.hasOwnProperty(_)&&k[_]!==A[_]&&(l||(l={}),l[_]=A[_])}else l||(m||(m=[]),m.push(W,l)),l=A;else W==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(m=m||[]).push(W,A)):W==="children"?typeof A!="string"&&typeof A!="number"||(m=m||[]).push(W,""+A):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(A!=null&&W==="onScroll"&&ft("scroll",r),m||k===A||(m=[])):(m=m||[]).push(W,A))}l&&(m=m||[]).push("style",l);var W=m;(i.updateQueue=W)&&(i.flags|=4)}},zm=function(r,i,l,c){l!==c&&(i.flags|=4)};function Il(r,i){if(!gt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(i)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=l,i}function Rw(r,i,l){var c=i.pendingProps;switch(ih(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return vn(i.type)&&Ba(),en(i),null;case 3:return c=i.stateNode,Io(),pt(gn),pt(Jt),vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ka(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,sr!==null&&(Kh(sr),sr=null))),bh(r,i),en(i),null;case 5:mh(i);var d=ks(wl.current);if(l=i.type,r!==null&&i.stateNode!=null)jm(r,i,l,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return en(i),null}if(r=ks(Ar.current),Ka(i)){c=i.stateNode,l=i.type;var m=i.memoizedProps;switch(c[Nr]=i,c[ml]=m,r=(i.mode&1)!==0,l){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(d=0;d<dl.length;d++)ft(dl[d],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":yi(c,m),ft("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ft("invalid",c);break;case"textarea":Br(c,m),ft("invalid",c)}Sr(l,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var k=m[_];_==="children"?typeof k=="string"?c.textContent!==k&&(m.suppressHydrationWarning!==!0&&ja(c.textContent,k,r),d=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&ja(c.textContent,k,r),d=["children",""+k]):o.hasOwnProperty(_)&&k!=null&&_==="onScroll"&&ft("scroll",c)}switch(l){case"input":bn(c),Ys(c,m,!0);break;case"textarea":bn(c),un(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=za)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=nt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(l,{is:c.is}):(r=_.createElement(l),l==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,l),r[Nr]=i,r[ml]=c,Um(r,i,!1,!1),i.stateNode=r;e:{switch(_=Ci(l,c),l){case"dialog":ft("cancel",r),ft("close",r),d=c;break;case"iframe":case"object":case"embed":ft("load",r),d=c;break;case"video":case"audio":for(d=0;d<dl.length;d++)ft(dl[d],r);d=c;break;case"source":ft("error",r),d=c;break;case"img":case"image":case"link":ft("error",r),ft("load",r),d=c;break;case"details":ft("toggle",r),d=c;break;case"input":yi(r,c),d=Hr(r,c),ft("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),ft("invalid",r);break;case"textarea":Br(r,c),d=Gn(r,c),ft("invalid",r);break;default:d=c}Sr(l,d),k=d;for(m in k)if(k.hasOwnProperty(m)){var A=k[m];m==="style"?ps(r,A):m==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&fs(r,A)):m==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&Ht(r,A):typeof A=="number"&&Ht(r,""+A):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?A!=null&&m==="onScroll"&&ft("scroll",r):A!=null&&re(r,m,A,_))}switch(l){case"input":bn(r),Ys(r,c,!1);break;case"textarea":bn(r),un(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ke(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?zt(r,!!c.multiple,m,!1):c.defaultValue!=null&&zt(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=za)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return en(i),null;case 6:if(r&&i.stateNode!=null)zm(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(l=ks(wl.current),ks(Ar.current),Ka(i)){if(c=i.stateNode,l=i.memoizedProps,c[Nr]=i,(m=c.nodeValue!==l)&&(r=Nn,r!==null))switch(r.tag){case 3:ja(c.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ja(c.nodeValue,l,(r.mode&1)!==0)}m&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Nr]=i,i.stateNode=c}return en(i),null;case 13:if(pt(yt),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&An!==null&&i.mode&1&&!(i.flags&128))Vp(),Eo(),i.flags|=98560,m=!1;else if(m=Ka(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Nr]=i}else Eo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;en(i),m=!1}else sr!==null&&(Kh(sr),sr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||yt.current&1?Nt===0&&(Nt=3):Qh())),i.updateQueue!==null&&(i.flags|=4),en(i),null);case 4:return Io(),bh(r,i),r===null&&fl(i.stateNode.containerInfo),en(i),null;case 10:return ch(i.type._context),en(i),null;case 17:return vn(i.type)&&Ba(),en(i),null;case 19:if(pt(yt),m=i.memoizedState,m===null)return en(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)Il(m,!1);else{if(Nt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(_=Za(r),_!==null){for(i.flags|=128,Il(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)m=l,r=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(yt,yt.current&1|2),i.child}r=r.sibling}m.tail!==null&&Ze()>No&&(i.flags|=128,c=!0,Il(m,!1),i.lanes=4194304)}else{if(!c)if(r=Za(_),r!==null){if(i.flags|=128,c=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Il(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!gt)return en(i),null}else 2*Ze()-m.renderingStartTime>No&&l!==1073741824&&(i.flags|=128,c=!0,Il(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(l=m.last,l!==null?l.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ze(),i.sibling=null,l=yt.current,at(yt,c?l&1|2:l&1),i):(en(i),null);case 22:case 23:return Yh(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?xn&1073741824&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Pw(r,i){switch(ih(i),i.tag){case 1:return vn(i.type)&&Ba(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Io(),pt(gn),pt(Jt),vh(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return mh(i),null;case 13:if(pt(yt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Eo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pt(yt),null;case 4:return Io(),null;case 10:return ch(i.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var au=!1,tn=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ro(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Et(r,i,c)}else l.current=null}function Fh(r,i,l){try{l()}catch(c){Et(r,i,c)}}var Hm=!1;function Aw(r,i){if(Yc=Li,r=_p(),Hc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var _=0,k=-1,A=-1,W=0,Z=0,ee=r,J=null;t:for(;;){for(var de;ee!==l||d!==0&&ee.nodeType!==3||(k=_+d),ee!==m||c!==0&&ee.nodeType!==3||(A=_+c),ee.nodeType===3&&(_+=ee.nodeValue.length),(de=ee.firstChild)!==null;)J=ee,ee=de;for(;;){if(ee===r)break t;if(J===l&&++W===d&&(k=_),J===m&&++Z===c&&(A=_),(de=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=de}l=k===-1||A===-1?null:{start:k,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qc={focusedElem:r,selectionRange:l},Li=!1,pe=i;pe!==null;)if(i=pe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,pe=r;else for(;pe!==null;){i=pe;try{var ve=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,It=ve.memoizedState,H=i.stateNode,M=H.getSnapshotBeforeUpdate(i.elementType===i.type?we:or(i.type,we),It);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){Et(i,i.return,te)}if(r=i.sibling,r!==null){r.return=i.return,pe=r;break}pe=i.return}return ve=Hm,Hm=!1,ve}function kl(r,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var m=d.destroy;d.destroy=void 0,m!==void 0&&Fh(i,l,m)}d=d.next}while(d!==c)}}function uu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Uh(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Bm(r){var i=r.alternate;i!==null&&(r.alternate=null,Bm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Nr],delete i[ml],delete i[eh],delete i[dw],delete i[fw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Vm(r){return r.tag===5||r.tag===3||r.tag===4}function Wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jh(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=za));else if(c!==4&&(r=r.child,r!==null))for(jh(r,i,l),r=r.sibling;r!==null;)jh(r,i,l),r=r.sibling}function zh(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(zh(r,i,l),r=r.sibling;r!==null;)zh(r,i,l),r=r.sibling}var Kt=null,lr=!1;function Vi(r,i,l){for(l=l.child;l!==null;)$m(r,i,l),l=l.sibling}function $m(r,i,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(dn,l)}catch{}switch(l.tag){case 5:tn||Ro(l,i);case 6:var c=Kt,d=lr;Kt=null,Vi(r,i,l),Kt=c,lr=d,Kt!==null&&(lr?(r=Kt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Kt.removeChild(l.stateNode));break;case 18:Kt!==null&&(lr?(r=Kt,l=l.stateNode,r.nodeType===8?Zc(r.parentNode,l):r.nodeType===1&&Zc(r,l),nr(r)):Zc(Kt,l.stateNode));break;case 4:c=Kt,d=lr,Kt=l.stateNode.containerInfo,lr=!0,Vi(r,i,l),Kt=c,lr=d;break;case 0:case 11:case 14:case 15:if(!tn&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&Fh(l,i,_),d=d.next}while(d!==c)}Vi(r,i,l);break;case 1:if(!tn&&(Ro(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(k){Et(l,i,k)}Vi(r,i,l);break;case 21:Vi(r,i,l);break;case 22:l.mode&1?(tn=(c=tn)||l.memoizedState!==null,Vi(r,i,l),tn=c):Vi(r,i,l);break;default:Vi(r,i,l)}}function Gm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Nw),i.forEach(function(c){var d=jw.bind(null,r,c);l.has(c)||(l.add(c),c.then(d,d))})}}function ar(r,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];try{var m=r,_=i,k=_;e:for(;k!==null;){switch(k.tag){case 5:Kt=k.stateNode,lr=!1;break e;case 3:Kt=k.stateNode.containerInfo,lr=!0;break e;case 4:Kt=k.stateNode.containerInfo,lr=!0;break e}k=k.return}if(Kt===null)throw Error(t(160));$m(m,_,d),Kt=null,lr=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(W){Et(d,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Km(i,r),i=i.sibling}function Km(r,i){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(i,r),Dr(r),c&4){try{kl(3,r,r.return),uu(3,r)}catch(we){Et(r,r.return,we)}try{kl(5,r,r.return)}catch(we){Et(r,r.return,we)}}break;case 1:ar(i,r),Dr(r),c&512&&l!==null&&Ro(l,l.return);break;case 5:if(ar(i,r),Dr(r),c&512&&l!==null&&Ro(l,l.return),r.flags&32){var d=r.stateNode;try{Ht(d,"")}catch(we){Et(r,r.return,we)}}if(c&4&&(d=r.stateNode,d!=null)){var m=r.memoizedProps,_=l!==null?l.memoizedProps:m,k=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&_i(d,m),Ci(k,_);var W=Ci(k,m);for(_=0;_<A.length;_+=2){var Z=A[_],ee=A[_+1];Z==="style"?ps(d,ee):Z==="dangerouslySetInnerHTML"?fs(d,ee):Z==="children"?Ht(d,ee):re(d,Z,ee,W)}switch(k){case"input":ds(d,m);break;case"textarea":_r(d,m);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?zt(d,!!m.multiple,de,!1):J!==!!m.multiple&&(m.defaultValue!=null?zt(d,!!m.multiple,m.defaultValue,!0):zt(d,!!m.multiple,m.multiple?[]:"",!1))}d[ml]=m}catch(we){Et(r,r.return,we)}}break;case 6:if(ar(i,r),Dr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,m=r.memoizedProps;try{d.nodeValue=m}catch(we){Et(r,r.return,we)}}break;case 3:if(ar(i,r),Dr(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{nr(i.containerInfo)}catch(we){Et(r,r.return,we)}break;case 4:ar(i,r),Dr(r);break;case 13:ar(i,r),Dr(r),d=r.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Vh=Ze())),c&4&&Gm(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(tn=(W=tn)||Z,ar(i,r),tn=W):ar(i,r),Dr(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!Z&&r.mode&1)for(pe=r,Z=r.child;Z!==null;){for(ee=pe=Z;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:kl(4,J,J.return);break;case 1:Ro(J,J.return);var ve=J.stateNode;if(typeof ve.componentWillUnmount=="function"){c=J,l=J.return;try{i=c,ve.props=i.memoizedProps,ve.state=i.memoizedState,ve.componentWillUnmount()}catch(we){Et(c,l,we)}}break;case 5:Ro(J,J.return);break;case 22:if(J.memoizedState!==null){Qm(ee);continue}}de!==null?(de.return=J,pe=de):Qm(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{d=ee.stateNode,W?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=ee.stateNode,A=ee.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=Ei("display",_))}catch(we){Et(r,r.return,we)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(we){Et(r,r.return,we)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:ar(i,r),Dr(r),c&4&&Gm(r);break;case 21:break;default:ar(i,r),Dr(r)}}function Dr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Vm(l)){var c=l;break e}l=l.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ht(d,""),c.flags&=-33);var m=Wm(r);zh(r,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,k=Wm(r);jh(r,k,_);break;default:throw Error(t(161))}}catch(A){Et(r,r.return,A)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function xw(r,i,l){pe=r,qm(r)}function qm(r,i,l){for(var c=(r.mode&1)!==0;pe!==null;){var d=pe,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||au;if(!_){var k=d.alternate,A=k!==null&&k.memoizedState!==null||tn;k=au;var W=tn;if(au=_,(tn=A)&&!W)for(pe=d;pe!==null;)_=pe,A=_.child,_.tag===22&&_.memoizedState!==null?Xm(d):A!==null?(A.return=_,pe=A):Xm(d);for(;m!==null;)pe=m,qm(m),m=m.sibling;pe=d,au=k,tn=W}Ym(r)}else d.subtreeFlags&8772&&m!==null?(m.return=d,pe=m):Ym(r)}}function Ym(r){for(;pe!==null;){var i=pe;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:tn||uu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!tn)if(l===null)c.componentDidMount();else{var d=i.elementType===i.type?l.memoizedProps:or(i.type,l.memoizedProps);c.componentDidUpdate(d,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Qp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Qp(i,_,l)}break;case 5:var k=i.stateNode;if(l===null&&i.flags&4){l=k;var A=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&nr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||i.flags&512&&Uh(i)}catch(J){Et(i,i.return,J)}}if(i===r){pe=null;break}if(l=i.sibling,l!==null){l.return=i.return,pe=l;break}pe=i.return}}function Qm(r){for(;pe!==null;){var i=pe;if(i===r){pe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,pe=l;break}pe=i.return}}function Xm(r){for(;pe!==null;){var i=pe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{uu(4,i)}catch(A){Et(i,l,A)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(A){Et(i,d,A)}}var m=i.return;try{Uh(i)}catch(A){Et(i,m,A)}break;case 5:var _=i.return;try{Uh(i)}catch(A){Et(i,_,A)}}}catch(A){Et(i,i.return,A)}if(i===r){pe=null;break}var k=i.sibling;if(k!==null){k.return=i.return,pe=k;break}pe=i.return}}var Dw=Math.ceil,cu=ye.ReactCurrentDispatcher,Hh=ye.ReactCurrentOwner,Bn=ye.ReactCurrentBatchConfig,Ye=0,Mt=null,kt=null,qt=0,xn=0,Po=Ui(0),Nt=0,Rl=null,Ps=0,hu=0,Bh=0,Pl=null,_n=null,Vh=0,No=1/0,ri=null,du=!1,Wh=null,Wi=null,fu=!1,$i=null,pu=0,Nl=0,$h=null,mu=-1,gu=0;function on(){return Ye&6?Ze():mu!==-1?mu:mu=Ze()}function Gi(r){return r.mode&1?Ye&2&&qt!==0?qt&-qt:mw.transition!==null?(gu===0&&(gu=vs()),gu):(r=je,r!==0||(r=window.event,r=r===void 0?16:rl(r.type)),r):1}function ur(r,i,l,c){if(50<Nl)throw Nl=0,$h=null,Error(t(185));Ni(r,l,c),(!(Ye&2)||r!==Mt)&&(r===Mt&&(!(Ye&2)&&(hu|=l),Nt===4&&Ki(r,qt)),wn(r,c),l===1&&Ye===0&&!(i.mode&1)&&(No=Ze()+500,Wa&&zi()))}function wn(r,i){var l=r.callbackNode;$r(r,i);var c=gs(r,r===Mt?qt:0);if(c===0)l!==null&&Vr(l),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(l!=null&&Vr(l),i===1)r.tag===0?pw(Zm.bind(null,r)):Up(Zm.bind(null,r)),cw(function(){!(Ye&6)&&zi()}),l=null;else{switch(xi(c)){case 1:l=Ve;break;case 4:l=ht;break;case 16:l=Vt;break;case 536870912:l=dt;break;default:l=Vt}l=lg(l,Jm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function Jm(r,i){if(mu=-1,gu=0,Ye&6)throw Error(t(327));var l=r.callbackNode;if(Ao()&&r.callbackNode!==l)return null;var c=gs(r,r===Mt?qt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=vu(r,c);else{i=c;var d=Ye;Ye|=2;var m=tg();(Mt!==r||qt!==i)&&(ri=null,No=Ze()+500,As(r,i));do try{Mw();break}catch(k){eg(r,k)}while(!0);uh(),cu.current=m,Ye=d,kt!==null?i=0:(Mt=null,qt=0,i=Nt)}if(i!==0){if(i===2&&(d=Rn(r),d!==0&&(c=d,i=Gh(r,d))),i===1)throw l=Rl,As(r,0),Ki(r,c),wn(r,Ze()),l;if(i===6)Ki(r,c);else{if(d=r.current.alternate,!(c&30)&&!Lw(d)&&(i=vu(r,c),i===2&&(m=Rn(r),m!==0&&(c=m,i=Gh(r,m))),i===1))throw l=Rl,As(r,0),Ki(r,c),wn(r,Ze()),l;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:xs(r,_n,ri);break;case 3:if(Ki(r,c),(c&130023424)===c&&(i=Vh+500-Ze(),10<i)){if(gs(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){on(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Jc(xs.bind(null,r,_n,ri),i);break}xs(r,_n,ri);break;case 4:if(Ki(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var _=31-rn(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dw(c/1960))-c,10<c){r.timeoutHandle=Jc(xs.bind(null,r,_n,ri),c);break}xs(r,_n,ri);break;case 5:xs(r,_n,ri);break;default:throw Error(t(329))}}}return wn(r,Ze()),r.callbackNode===l?Jm.bind(null,r):null}function Gh(r,i){var l=Pl;return r.current.memoizedState.isDehydrated&&(As(r,i).flags|=256),r=vu(r,i),r!==2&&(i=_n,_n=l,i!==null&&Kh(i)),r}function Kh(r){_n===null?_n=r:_n.push.apply(_n,r)}function Lw(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var d=l[c],m=d.getSnapshot;d=d.value;try{if(!ir(m(),d))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(r,i){for(i&=~Bh,i&=~hu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-rn(i),c=1<<l;r[l]=-1,i&=~c}}function Zm(r){if(Ye&6)throw Error(t(327));Ao();var i=gs(r,0);if(!(i&1))return wn(r,Ze()),null;var l=vu(r,i);if(r.tag!==0&&l===2){var c=Rn(r);c!==0&&(i=c,l=Gh(r,c))}if(l===1)throw l=Rl,As(r,0),Ki(r,i),wn(r,Ze()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,xs(r,_n,ri),wn(r,Ze()),null}function qh(r,i){var l=Ye;Ye|=1;try{return r(i)}finally{Ye=l,Ye===0&&(No=Ze()+500,Wa&&zi())}}function Ns(r){$i!==null&&$i.tag===0&&!(Ye&6)&&Ao();var i=Ye;Ye|=1;var l=Bn.transition,c=je;try{if(Bn.transition=null,je=1,r)return r()}finally{je=c,Bn.transition=l,Ye=i,!(Ye&6)&&zi()}}function Yh(){xn=Po.current,pt(Po)}function As(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,uw(l)),kt!==null)for(l=kt.return;l!==null;){var c=l;switch(ih(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ba();break;case 3:Io(),pt(gn),pt(Jt),vh();break;case 5:mh(c);break;case 4:Io();break;case 13:pt(yt);break;case 19:pt(yt);break;case 10:ch(c.type._context);break;case 22:case 23:Yh()}l=l.return}if(Mt=r,kt=r=qi(r.current,null),qt=xn=i,Nt=0,Rl=null,Bh=hu=Ps=0,_n=Pl=null,Is!==null){for(i=0;i<Is.length;i++)if(l=Is[i],c=l.interleaved,c!==null){l.interleaved=null;var d=c.next,m=l.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}l.pending=c}Is=null}return r}function eg(r,i){do{var l=kt;try{if(uh(),eu.current=iu,tu){for(var c=_t.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}tu=!1}if(Rs=0,Ot=Pt=_t=null,El=!1,Sl=0,Hh.current=null,l===null||l.return===null){Nt=1,Rl=i,kt=null;break}e:{var m=r,_=l.return,k=l,A=i;if(i=qt,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var W=A,Z=k,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=Im(_);if(de!==null){de.flags&=-257,km(de,_,k,m,i),de.mode&1&&Tm(m,W,i),i=de,A=W;var ve=i.updateQueue;if(ve===null){var we=new Set;we.add(A),i.updateQueue=we}else ve.add(A);break e}else{if(!(i&1)){Tm(m,W,i),Qh();break e}A=Error(t(426))}}else if(gt&&k.mode&1){var It=Im(_);if(It!==null){!(It.flags&65536)&&(It.flags|=256),km(It,_,k,m,i),lh(ko(A,k));break e}}m=A=ko(A,k),Nt!==4&&(Nt=2),Pl===null?Pl=[m]:Pl.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var H=Sm(m,A,i);Yp(m,H);break e;case 1:k=A;var M=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof M.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Wi===null||!Wi.has(B)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=Cm(m,k,i);Yp(m,te);break e}}m=m.return}while(m!==null)}rg(l)}catch(Ee){i=Ee,kt===l&&l!==null&&(kt=l=l.return);continue}break}while(!0)}function tg(){var r=cu.current;return cu.current=iu,r===null?iu:r}function Qh(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Mt===null||!(Ps&268435455)&&!(hu&268435455)||Ki(Mt,qt)}function vu(r,i){var l=Ye;Ye|=2;var c=tg();(Mt!==r||qt!==i)&&(ri=null,As(r,i));do try{Ow();break}catch(d){eg(r,d)}while(!0);if(uh(),Ye=l,cu.current=c,kt!==null)throw Error(t(261));return Mt=null,qt=0,Nt}function Ow(){for(;kt!==null;)ng(kt)}function Mw(){for(;kt!==null&&!Cr();)ng(kt)}function ng(r){var i=og(r.alternate,r,xn);r.memoizedProps=r.pendingProps,i===null?rg(r):kt=i,Hh.current=null}function rg(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=Pw(l,i),l!==null){l.flags&=32767,kt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,kt=null;return}}else if(l=Rw(l,i,xn),l!==null){kt=l;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=r}while(i!==null);Nt===0&&(Nt=5)}function xs(r,i,l){var c=je,d=Bn.transition;try{Bn.transition=null,je=1,bw(r,i,l,c)}finally{Bn.transition=d,je=c}return null}function bw(r,i,l,c){do Ao();while($i!==null);if(Ye&6)throw Error(t(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=l.lanes|l.childLanes;if(st(r,m),r===Mt&&(kt=Mt=null,qt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||fu||(fu=!0,lg(Vt,function(){return Ao(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=Bn.transition,Bn.transition=null;var _=je;je=1;var k=Ye;Ye|=4,Hh.current=null,Aw(r,l),Km(l,r),nw(Qc),Li=!!Yc,Qc=Yc=null,r.current=l,xw(l),Xn(),Ye=k,je=_,Bn.transition=m}else r.current=l;if(fu&&(fu=!1,$i=r,pu=d),m=r.pendingLanes,m===0&&(Wi=null),Qs(l.stateNode),wn(r,Ze()),i!==null)for(c=r.onRecoverableError,l=0;l<i.length;l++)d=i[l],c(d.value,{componentStack:d.stack,digest:d.digest});if(du)throw du=!1,r=Wh,Wh=null,r;return pu&1&&r.tag!==0&&Ao(),m=r.pendingLanes,m&1?r===$h?Nl++:(Nl=0,$h=r):Nl=0,zi(),null}function Ao(){if($i!==null){var r=xi(pu),i=Bn.transition,l=je;try{if(Bn.transition=null,je=16>r?16:r,$i===null)var c=!1;else{if(r=$i,$i=null,pu=0,Ye&6)throw Error(t(331));var d=Ye;for(Ye|=4,pe=r.current;pe!==null;){var m=pe,_=m.child;if(pe.flags&16){var k=m.deletions;if(k!==null){for(var A=0;A<k.length;A++){var W=k[A];for(pe=W;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:kl(8,Z,m)}var ee=Z.child;if(ee!==null)ee.return=Z,pe=ee;else for(;pe!==null;){Z=pe;var J=Z.sibling,de=Z.return;if(Bm(Z),Z===W){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var ve=m.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var It=we.sibling;we.sibling=null,we=It}while(we!==null)}}pe=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,pe=_;else e:for(;pe!==null;){if(m=pe,m.flags&2048)switch(m.tag){case 0:case 11:case 15:kl(9,m,m.return)}var H=m.sibling;if(H!==null){H.return=m.return,pe=H;break e}pe=m.return}}var M=r.current;for(pe=M;pe!==null;){_=pe;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,pe=B;else e:for(_=M;pe!==null;){if(k=pe,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:uu(9,k)}}catch(Ee){Et(k,k.return,Ee)}if(k===_){pe=null;break e}var te=k.sibling;if(te!==null){te.return=k.return,pe=te;break e}pe=k.return}}if(Ye=d,zi(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(dn,r)}catch{}c=!0}return c}finally{je=l,Bn.transition=i}}return!1}function ig(r,i,l){i=ko(l,i),i=Sm(r,i,1),r=Bi(r,i,1),i=on(),r!==null&&(Ni(r,1,i),wn(r,i))}function Et(r,i,l){if(r.tag===3)ig(r,r,l);else for(;i!==null;){if(i.tag===3){ig(i,r,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wi===null||!Wi.has(c))){r=ko(l,r),r=Cm(i,r,1),i=Bi(i,r,1),r=on(),i!==null&&(Ni(i,1,r),wn(i,r));break}}i=i.return}}function Fw(r,i,l){var c=r.pingCache;c!==null&&c.delete(i),i=on(),r.pingedLanes|=r.suspendedLanes&l,Mt===r&&(qt&l)===l&&(Nt===4||Nt===3&&(qt&130023424)===qt&&500>Ze()-Vh?As(r,0):Bh|=l),wn(r,i)}function sg(r,i){i===0&&(r.mode&1?(i=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):i=1);var l=on();r=ei(r,i),r!==null&&(Ni(r,i,l),wn(r,l))}function Uw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),sg(r,l)}function jw(r,i){var l=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),sg(r,l)}var og;og=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||gn.current)yn=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return yn=!1,kw(r,i,l);yn=!!(r.flags&131072)}else yn=!1,gt&&i.flags&1048576&&jp(i,Ga,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;lu(r,i),r=i.pendingProps;var d=yo(i,Jt.current);To(i,l),d=wh(null,i,c,r,d,l);var m=Eh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vn(c)?(m=!0,Va(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,fh(i),d.updater=su,i.stateNode=d,d._reactInternals=i,Rh(i,c,r,l),i=xh(null,i,c,!0,m,l)):(i.tag=0,gt&&m&&rh(i),sn(null,i,d,l),i=i.child),i;case 16:c=i.elementType;e:{switch(lu(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=Hw(c),r=or(c,r),d){case 0:i=Ah(null,i,c,r,l);break e;case 1:i=Dm(null,i,c,r,l);break e;case 11:i=Rm(null,i,c,r,l);break e;case 14:i=Pm(null,i,c,or(c.type,r),l);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:or(c,d),Ah(r,i,c,d,l);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:or(c,d),Dm(r,i,c,d,l);case 3:e:{if(Lm(i),r===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,qp(r,i),Ja(i,c,null,l);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=ko(Error(t(423)),i),i=Om(r,i,c,l,d);break e}else if(c!==d){d=ko(Error(t(424)),i),i=Om(r,i,c,l,d);break e}else for(An=Fi(i.stateNode.containerInfo.firstChild),Nn=i,gt=!0,sr=null,l=Gp(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),c===d){i=ni(r,i,l);break e}sn(r,i,c,l)}i=i.child}return i;case 5:return Xp(i),r===null&&oh(i),c=i.type,d=i.pendingProps,m=r!==null?r.memoizedProps:null,_=d.children,Xc(c,d)?_=null:m!==null&&Xc(c,m)&&(i.flags|=32),xm(r,i),sn(r,i,_,l),i.child;case 6:return r===null&&oh(i),null;case 13:return Mm(r,i,l);case 4:return ph(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=So(i,null,c,l):sn(r,i,c,l),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:or(c,d),Rm(r,i,c,d,l);case 7:return sn(r,i,i.pendingProps,l),i.child;case 8:return sn(r,i,i.pendingProps.children,l),i.child;case 12:return sn(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,at(Ya,c._currentValue),c._currentValue=_,m!==null)if(ir(m.value,_)){if(m.children===d.children&&!gn.current){i=ni(r,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var k=m.dependencies;if(k!==null){_=m.child;for(var A=k.firstContext;A!==null;){if(A.context===c){if(m.tag===1){A=ti(-1,l&-l),A.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?A.next=A:(A.next=Z.next,Z.next=A),W.pending=A}}m.lanes|=l,A=m.alternate,A!==null&&(A.lanes|=l),hh(m.return,l,i),k.lanes|=l;break}A=A.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=l,k=_.alternate,k!==null&&(k.lanes|=l),hh(_,l,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}sn(r,i,d.children,l),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,To(i,l),d=zn(d),c=c(d),i.flags|=1,sn(r,i,c,l),i.child;case 14:return c=i.type,d=or(c,i.pendingProps),d=or(c.type,d),Pm(r,i,c,d,l);case 15:return Nm(r,i,i.type,i.pendingProps,l);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:or(c,d),lu(r,i),i.tag=1,vn(c)?(r=!0,Va(i)):r=!1,To(i,l),wm(i,c,d),Rh(i,c,d,l),xh(null,i,c,!0,r,l);case 19:return Fm(r,i,l);case 22:return Am(r,i,l)}throw Error(t(156,i.tag))};function lg(r,i){return Bt(r,i)}function zw(r,i,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,i,l,c){return new zw(r,i,l,c)}function Xh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hw(r){if(typeof r=="function")return Xh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===He)return 14}return 2}function qi(r,i){var l=r.alternate;return l===null?(l=Vn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function yu(r,i,l,c,d,m){var _=2;if(c=r,typeof r=="function")Xh(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case N:return Ds(l.children,d,m,i);case T:_=8,d|=8;break;case I:return r=Vn(12,l,i,d|2),r.elementType=I,r.lanes=m,r;case R:return r=Vn(13,l,i,d),r.elementType=R,r.lanes=m,r;case lt:return r=Vn(19,l,i,d),r.elementType=lt,r.lanes=m,r;case Be:return _u(l,d,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:_=10;break e;case O:_=9;break e;case U:_=11;break e;case He:_=14;break e;case Ct:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Vn(_,l,i,d),i.elementType=r,i.type=c,i.lanes=m,i}function Ds(r,i,l,c){return r=Vn(7,r,c,i),r.lanes=l,r}function _u(r,i,l,c){return r=Vn(22,r,c,i),r.elementType=Be,r.lanes=l,r.stateNode={isHidden:!1},r}function Jh(r,i,l){return r=Vn(6,r,null,i),r.lanes=l,r}function Zh(r,i,l){return i=Vn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Bw(r,i,l,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ed(r,i,l,c,d,m,_,k,A){return r=new Bw(r,i,l,k,A),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Vn(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(m),r}function Vw(r,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:c==null?null:""+c,children:r,containerInfo:i,implementation:l}}function ag(r){if(!r)return ji;r=r._reactInternals;e:{if(Ue(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(vn(l))return bp(r,l,i)}return i}function ug(r,i,l,c,d,m,_,k,A){return r=ed(l,c,!0,r,d,m,_,k,A),r.context=ag(null),l=r.current,c=on(),d=Gi(l),m=ti(c,d),m.callback=i??null,Bi(l,m,d),r.current.lanes=d,Ni(r,d,c),wn(r,c),r}function wu(r,i,l,c){var d=i.current,m=on(),_=Gi(d);return l=ag(l),i.context===null?i.context=l:i.pendingContext=l,i=ti(m,_),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=Bi(d,i,_),r!==null&&(ur(r,d,_,m),Xa(r,d,_)),_}function Eu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function td(r,i){cg(r,i),(r=r.alternate)&&cg(r,i)}function Ww(){return null}var hg=typeof reportError=="function"?reportError:function(r){console.error(r)};function nd(r){this._internalRoot=r}Su.prototype.render=nd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));wu(r,i,null,null)},Su.prototype.unmount=nd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ns(function(){wu(null,r,null,null)}),i[Qr]=null}};function Su(r){this._internalRoot=r}Su.prototype.unstable_scheduleHydration=function(r){if(r){var i=Sa();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ir.length&&i!==0&&i<Ir[l].priority;l++);Ir.splice(l,0,r),l===0&&Ia(r)}};function rd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dg(){}function $w(r,i,l,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var W=Eu(_);m.call(W)}}var _=ug(i,c,r,0,null,!1,!1,"",dg);return r._reactRootContainer=_,r[Qr]=_.current,fl(r.nodeType===8?r.parentNode:r),Ns(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var k=c;c=function(){var W=Eu(A);k.call(W)}}var A=ed(r,0,!1,null,null,!1,!1,"",dg);return r._reactRootContainer=A,r[Qr]=A.current,fl(r.nodeType===8?r.parentNode:r),Ns(function(){wu(i,A,l,c)}),A}function Tu(r,i,l,c,d){var m=l._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var k=d;d=function(){var A=Eu(_);k.call(A)}}wu(i,_,r,d)}else _=$w(l,i,r,d,c);return Eu(_)}wa=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ri(i.pendingLanes);l!==0&&(Ai(i,l|1),wn(i,Ze()),!(Ye&6)&&(No=Ze()+500,zi()))}break;case 13:Ns(function(){var c=ei(r,1);if(c!==null){var d=on();ur(c,r,1,d)}}),td(r,1)}},Zs=function(r){if(r.tag===13){var i=ei(r,134217728);if(i!==null){var l=on();ur(i,r,134217728,l)}td(r,134217728)}},Ea=function(r){if(r.tag===13){var i=Gi(r),l=ei(r,i);if(l!==null){var c=on();ur(l,r,i,c)}td(r,i)}},Sa=function(){return je},Ca=function(r,i){var l=je;try{return je=r,i()}finally{je=l}},Ii=function(r,i,l){switch(i){case"input":if(ds(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==r&&c.form===r.form){var d=Ha(c);if(!d)throw Error(t(90));vi(c),ds(c,d)}}}break;case"textarea":_r(r,l);break;case"select":i=l.value,i!=null&&zt(r,!!l.multiple,i,!1)}},ki=qh,x=Ns;var Gw={usingClientEntryPoint:!1,Events:[gl,go,Ha,hn,ms,qh]},Al={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qn(r),r===null?null:r.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||Ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{dn=Iu.inject(Kw),Xt=Iu}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw,En.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(i))throw Error(t(200));return Vw(r,i,null,l)},En.createRoot=function(r,i){if(!rd(r))throw Error(t(299));var l=!1,c="",d=hg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=ed(r,1,!1,null,null,l,!1,c,d),r[Qr]=i.current,fl(r.nodeType===8?r.parentNode:r),new nd(i)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Qn(i),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return Ns(r)},En.hydrate=function(r,i,l){if(!Cu(i))throw Error(t(200));return Tu(null,r,i,!0,l)},En.hydrateRoot=function(r,i,l){if(!rd(r))throw Error(t(405));var c=l!=null&&l.hydratedSources||null,d=!1,m="",_=hg;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),i=ug(i,null,r,1,l??null,d,!1,m,_),r[Qr]=i.current,fl(r),c)for(r=0;r<c.length;r++)l=c[r],d=l._getVersion,d=d(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,d]:i.mutableSourceEagerHydrationData.push(l,d);return new Su(i)},En.render=function(r,i,l){if(!Cu(i))throw Error(t(200));return Tu(null,r,i,!1,l)},En.unmountComponentAtNode=function(r){if(!Cu(r))throw Error(t(40));return r._reactRootContainer?(Ns(function(){Tu(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},En.unstable_batchedUpdates=qh,En.unstable_renderSubtreeIntoContainer=function(r,i,l,c){if(!Cu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Tu(r,i,l,!1,c)},En.version="18.3.1-next-f1338f8080-20240426",En}var wg;function sy(){if(wg)return od.exports;wg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),od.exports=eE(),od.exports}var Eg;function tE(){if(Eg)return ku;Eg=1;var n=sy();return ku.createRoot=n.createRoot,ku.hydrateRoot=n.hydrateRoot,ku}var nE=tE(),Dl={},Sg;function rE(){if(Sg)return Dl;Sg=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=h,Dl.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,D){const L=new a,V=C.length;if(V<2)return L;const $=(D==null?void 0:D.decode)||E;let X=0;do{const le=C.indexOf("=",X);if(le===-1)break;const re=C.indexOf(";",X),ye=re===-1?V:re;if(le>ye){X=C.lastIndexOf(";",le-1)+1;continue}const z=f(C,X,le),ue=g(C,le,z),N=C.slice(z,ue);if(L[N]===void 0){let T=f(C,le+1,ye),I=g(C,ye,T);const P=$(C.slice(T,I));L[N]=P}X=ye+1}while(X<V);return L}function f(C,D,L){do{const V=C.charCodeAt(D);if(V!==32&&V!==9)return D}while(++D<L);return L}function g(C,D,L){for(;D>L;){const V=C.charCodeAt(--D);if(V!==32&&V!==9)return D+1}return L}function v(C,D,L){const V=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const $=V(D);if(!e.test($))throw new TypeError(`argument val is invalid: ${D}`);let X=C+"="+$;if(!L)return X;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);X+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);X+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);X+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);X+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(X+="; HttpOnly"),L.secure&&(X+="; Secure"),L.partitioned&&(X+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return X}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Dl}rE();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cg="popstate";function iE(n={}){function e(s,o){let{pathname:a,search:h,hash:f}=s.location;return zo("",{pathname:a,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ui(o)}return oy(e,t,null,n)}function sE(n={}){function e(o,a){let{pathname:h="/",search:f="",hash:g=""}=pi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),zo("",{pathname:h,search:f,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let g=o.location.href,v=g.indexOf("#");f=v===-1?g:g.slice(0,v)}return f+"#"+(typeof a=="string"?a:ui(a))}function s(o,a){On(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return oy(e,t,s,n)}function ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function On(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oE(){return Math.random().toString(36).substring(2,10)}function Tg(n,e){return{usr:n.state,key:n.key,idx:e}}function zo(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pi(e):e,state:t,key:e&&e.key||s||oE()}}function ui({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function oy(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,h=o.history,f="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){f="POP";let $=E(),X=$==null?null:$-v;v=$,g&&g({action:f,location:V.location,delta:X})}function C($,X){f="PUSH";let le=zo(V.location,$,X);t&&t(le,$),v=E()+1;let re=Tg(le,v),ye=V.createHref(le);try{h.pushState(re,"",ye)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(ye)}a&&g&&g({action:f,location:V.location,delta:1})}function D($,X){f="REPLACE";let le=zo(V.location,$,X);t&&t(le,$),v=E();let re=Tg(le,v),ye=V.createHref(le);h.replaceState(re,"",ye),a&&g&&g({action:f,location:V.location,delta:0})}function L($){let X=o.location.origin!=="null"?o.location.origin:o.location.href,le=typeof $=="string"?$:ui($);return le=le.replace(/ $/,"%20"),ze(X,`No window.location.(origin|href) available to create URL for href: ${le}`),new URL(le,X)}let V={get action(){return f},get location(){return n(o,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Cg,S),g=$,()=>{o.removeEventListener(Cg,S),g=null}},createHref($){return e(o,$)},createURL:L,encodeLocation($){let X=L($);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:D,go($){return h.go($)}};return V}var lE=new Set(["lazy","caseSensitive","path","id","index","children"]);function aE(n){return n.index===!0}function Hu(n,e,t=[],s={}){return n.map((o,a)=>{let h=[...t,String(a)],f=typeof o.id=="string"?o.id:h.join("-");if(ze(o.index!==!0||!o.children,"Cannot specify children on an index route"),ze(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),aE(o)){let g={...o,...e(o),id:f};return s[f]=g,g}else{let g={...o,...e(o),id:f,children:void 0};return s[f]=g,o.children&&(g.children=Hu(o.children,e,h,s)),g}})}function Ji(n,e,t="/"){return Lu(n,e,t,!1)}function Lu(n,e,t,s){let o=typeof e=="string"?pi(e):e,a=yr(o.pathname||"/",t);if(a==null)return null;let h=ly(n);cE(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=EE(a);f=_E(h[g],v,s)}return f}function uE(n,e){let{route:t,pathname:s,params:o}=n;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function ly(n,e=[],t=[],s=""){let o=(a,h,f)=>{let g={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};g.relativePath.startsWith("/")&&(ze(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Lr([s,g.relativePath]),E=t.concat(g);a.children&&a.children.length>0&&(ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ly(a.children,e,E,v)),!(a.path==null&&!a.index)&&e.push({path:v,score:vE(v,a.index),routesMeta:E})};return n.forEach((a,h)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,h);else for(let g of ay(a.path))o(a,h,g)}),e}function ay(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let h=ay(s.join("/")),f=[];return f.push(...h.map(g=>g===""?a:[a,g].join("/"))),o&&f.push(...h),f.map(g=>n.startsWith("/")&&g===""?"/":g)}function cE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var hE=/^:[\w-]+$/,dE=3,fE=2,pE=1,mE=10,gE=-2,Ig=n=>n==="*";function vE(n,e){let t=n.split("/"),s=t.length;return t.some(Ig)&&(s+=gE),e&&(s+=fE),t.filter(o=>!Ig(o)).reduce((o,a)=>o+(hE.test(a)?dE:a===""?pE:mE),s)}function yE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function _E(n,e,t=!1){let{routesMeta:s}=n,o={},a="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,E=a==="/"?e:e.slice(a.length)||"/",S=Bu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),C=g.route;if(!S&&v&&t&&!s[s.length-1].route.index&&(S=Bu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Lr([a,S.pathname]),pathnameBase:TE(Lr([a,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(a=Lr([a,S.pathnameBase]))}return h}function Bu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=wE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],h=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:S},C)=>{if(E==="*"){let L=f[C]||"";h=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const D=f[C];return S&&!D?v[E]=void 0:v[E]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:h,pattern:n}}function wE(n,e=!1,t=!0){On(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function EE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function SE(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?pi(n):n;return{pathname:t?t.startsWith("/")?t:CE(t,e):e,search:IE(s),hash:kE(o)}}function CE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ud(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jd(n){let e=uy(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Zd(n,e,t,s=!1){let o;typeof n=="string"?o=pi(n):(o={...n},ze(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let a=n===""||o.pathname==="",h=a?"/":o.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}f=S>=0?e[S]:"/"}let g=SE(o,f),v=h&&h!=="/"&&h.endsWith("/"),E=(a||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Lr=n=>n.join("/").replace(/\/\/+/g,"/"),TE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Vu=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function mc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cy=["POST","PUT","PATCH","DELETE"],RE=new Set(cy),PE=["GET",...cy],NE=new Set(PE),AE=new Set([301,302,303,307,308]),xE=new Set([307,308]),cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ll={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),hy="remix-router-transitions",dy=Symbol("ResetLoaderData");function OE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ze(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=n.mapRouteProperties||LE,o={},a=Hu(n.routes,s,void 0,o),h,f=n.basename||"/",g=n.dataStrategy||jE,v=n.patchRoutesOnNavigation,E={...n.future},S=null,C=new Set,D=null,L=null,V=null,$=n.hydrationData!=null,X=Ji(a,n.history.location,f),le=null;if(X==null&&!v){let x=Wn(404,{pathname:n.history.location.pathname}),{matches:F,route:G}=bg(a);X=F,le={[G.id]:x}}X&&!n.hydrationData&&qn(X,a,n.history.location.pathname).active&&(X=null);let re;if(X)if(X.some(x=>x.route.lazy))re=!1;else if(!X.some(x=>x.route.loader))re=!0;else{let x=n.hydrationData?n.hydrationData.loaderData:null,F=n.hydrationData?n.hydrationData.errors:null;if(F){let G=X.findIndex(Q=>F[Q.route.id]!==void 0);re=X.slice(0,G+1).every(Q=>!Nd(Q.route,x,F))}else re=X.every(G=>!Nd(G.route,x,F))}else{re=!1,X=[];let x=qn(null,a,n.history.location.pathname);x.active&&x.matches&&(X=x.matches)}let ye,z={historyAction:n.history.action,location:n.history.location,matches:X,initialized:re,navigation:cd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||le,fetchers:new Map,blockers:new Map},ue="POP",N=!1,T,I=!1,P=new Map,O=null,U=!1,R=!1,lt=new Set,He=new Map,Ct=0,Be=-1,ie=new Map,_e=new Set,ae=new Map,b=new Map,Y=new Set,ge=new Map,Ae,Pe=null;function Fe(){if(S=n.history.listen(({action:x,location:F,delta:G})=>{if(Ae){Ae(),Ae=void 0;return}On(ge.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Ci({currentLocation:z.location,nextLocation:F,historyAction:x});if(Q&&G!=null){let ce=new Promise(fe=>{Ae=fe});n.history.go(G*-1),Sr(Q,{state:"blocked",location:F,proceed(){Sr(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),ce.then(()=>n.history.go(G))},reset(){let fe=new Map(z.blockers);fe.set(Q,Ll),xe({blockers:fe})}});return}return Yt(x,F)}),t){QE(e,P);let x=()=>XE(e,P);e.addEventListener("pagehide",x),O=()=>e.removeEventListener("pagehide",x)}return z.initialized||Yt("POP",z.location,{initialHydration:!0}),ye}function Ge(){S&&S(),O&&O(),C.clear(),T&&T.abort(),z.fetchers.forEach((x,F)=>In(F)),z.blockers.forEach((x,F)=>Si(F))}function Ke(x){return C.add(x),()=>C.delete(x)}function xe(x,F={}){z={...z,...x};let G=[],Q=[];z.fetchers.forEach((ce,fe)=>{ce.state==="idle"&&(Y.has(fe)?G.push(fe):Q.push(fe))}),[...C].forEach(ce=>ce(z,{deletedFetchers:G,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),G.forEach(ce=>In(ce)),Q.forEach(ce=>z.fetchers.delete(ce))}function ct(x,F,{flushSync:G}={}){var se,Ie;let Q=z.actionData!=null&&z.navigation.formMethod!=null&&cr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((se=x.state)==null?void 0:se._isRedirect)!==!0,ce;F.actionData?Object.keys(F.actionData).length>0?ce=F.actionData:ce=null:Q?ce=z.actionData:ce=null;let fe=F.loaderData?Og(z.loaderData,F.loaderData,F.matches||[],F.errors):z.loaderData,Se=z.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((De,et)=>Se.set(et,Ll)));let he=N===!0||z.navigation.formMethod!=null&&cr(z.navigation.formMethod)&&((Ie=x.state)==null?void 0:Ie._isRedirect)!==!0;h&&(a=h,h=void 0),U||ue==="POP"||(ue==="PUSH"?n.history.push(x,x.state):ue==="REPLACE"&&n.history.replace(x,x.state));let me;if(ue==="POP"){let De=P.get(z.location.pathname);De&&De.has(x.pathname)?me={currentLocation:z.location,nextLocation:x}:P.has(x.pathname)&&(me={currentLocation:x,nextLocation:z.location})}else if(I){let De=P.get(z.location.pathname);De?De.add(x.pathname):(De=new Set([x.pathname]),P.set(z.location.pathname,De)),me={currentLocation:z.location,nextLocation:x}}xe({...F,actionData:ce,loaderData:fe,historyAction:ue,location:x,initialized:!0,navigation:cd,revalidation:"idle",restoreScrollPosition:kn(x,F.matches||z.matches),preventScrollReset:he,blockers:Se},{viewTransitionOpts:me,flushSync:G===!0}),ue="POP",N=!1,I=!1,U=!1,R=!1,Pe==null||Pe.resolve(),Pe=null}async function bn(x,F){if(typeof x=="number"){n.history.go(x);return}let G=Pd(z.location,z.matches,f,x,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Q,submission:ce,error:fe}=kg(!1,G,F),Se=z.location,he=zo(z.location,Q,F&&F.state);he={...he,...n.history.encodeLocation(he)};let me=F&&F.replace!=null?F.replace:void 0,se="PUSH";me===!0?se="REPLACE":me===!1||ce!=null&&cr(ce.formMethod)&&ce.formAction===z.location.pathname+z.location.search&&(se="REPLACE");let Ie=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,De=(F&&F.flushSync)===!0,et=Ci({currentLocation:Se,nextLocation:he,historyAction:se});if(et){Sr(et,{state:"blocked",location:he,proceed(){Sr(et,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),bn(x,F)},reset(){let Tt=new Map(z.blockers);Tt.set(et,Ll),xe({blockers:Tt})}});return}await Yt(se,he,{submission:ce,pendingError:fe,preventScrollReset:Ie,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:De})}function vi(){Pe||(Pe=JE()),_r(),xe({revalidation:"loading"});let x=Pe.promise;return z.navigation.state==="submitting"?x:z.navigation.state==="idle"?(Yt(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),x):(Yt(ue||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:I===!0}),x)}async function Yt(x,F,G){T&&T.abort(),T=null,ue=x,U=(G&&G.startUninterruptedRevalidation)===!0,cn(z.location,z.matches),N=(G&&G.preventScrollReset)===!0,I=(G&&G.enableViewTransition)===!0;let Q=h||a,ce=G&&G.overrideNavigation,fe=Ji(Q,F,f),Se=(G&&G.flushSync)===!0,he=qn(fe,Q,F.pathname);if(he.active&&he.matches&&(fe=he.matches),!fe){let{error:Ue,notFoundMatches:qe,route:Je}=Kn(F.pathname);ct(F,{matches:qe,loaderData:{},errors:{[Je.id]:Ue}},{flushSync:Se});return}if(z.initialized&&!R&&$E(z.location,F)&&!(G&&G.submission&&cr(G.submission.formMethod))){ct(F,{matches:fe},{flushSync:Se});return}T=new AbortController;let me=xo(n.history,F,T.signal,G&&G.submission),se;if(G&&G.pendingError)se=[Ms(fe).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&cr(G.submission.formMethod)){let Ue=await Hr(me,F,G.submission,fe,he.active,{replace:G.replace,flushSync:Se});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[qe,Je]=Ue.pendingActionResult;if(Ln(Je)&&mc(Je.error)&&Je.error.status===404){T=null,ct(F,{matches:Ue.matches,loaderData:{},errors:{[qe]:Je.error}});return}}fe=Ue.matches||fe,se=Ue.pendingActionResult,ce=hd(F,G.submission),Se=!1,he.active=!1,me=xo(n.history,me.url,me.signal)}let{shortCircuited:Ie,matches:De,loaderData:et,errors:Tt}=await yi(me,F,fe,he.active,ce,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Se,se);Ie||(T=null,ct(F,{matches:De||fe,...Mg(se),loaderData:et,errors:Tt}))}async function Hr(x,F,G,Q,ce,fe={}){_r();let Se=qE(F,G);if(xe({navigation:Se},{flushSync:fe.flushSync===!0}),ce){let se=await hn(Q,F.pathname,x.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let Ie=Ms(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[Ie,{type:"error",error:se.error}]}}else if(se.matches)Q=se.matches;else{let{notFoundMatches:Ie,error:De,route:et}=Kn(F.pathname);return{matches:Ie,pendingActionResult:[et.id,{type:"error",error:De}]}}}let he,me=zl(Q,F);if(!me.route.action&&!me.route.lazy)he={type:"error",error:Wn(405,{method:x.method,pathname:F.pathname,routeId:me.route.id})};else if(he=(await Gn("action",z,x,[me],Q,null))[me.route.id],x.signal.aborted)return{shortCircuited:!0};if(bs(he)){let se;return fe&&fe.replace!=null?se=fe.replace:se=xg(he.response.headers.get("Location"),new URL(x.url),f)===z.location.pathname+z.location.search,await zt(x,he,!0,{submission:G,replace:se}),{shortCircuited:!0}}if(Ln(he)){let se=Ms(Q,me.route.id);return(fe&&fe.replace)!==!0&&(ue="PUSH"),{matches:Q,pendingActionResult:[se.route.id,he]}}return{matches:Q,pendingActionResult:[me.route.id,he]}}async function yi(x,F,G,Q,ce,fe,Se,he,me,se,Ie){let De=ce||hd(F,fe),et=fe||Se||Ug(De),Tt=!U&&!me;if(Q){if(Tt){let ht=_i(Ie);xe({navigation:De,...ht!==void 0?{actionData:ht}:{}},{flushSync:se})}let Ve=await hn(G,F.pathname,x.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){let ht=Ms(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,loaderData:{},errors:{[ht]:Ve.error}}}else if(Ve.matches)G=Ve.matches;else{let{error:ht,notFoundMatches:Vt,route:Jn}=Kn(F.pathname);return{matches:Vt,loaderData:{},errors:{[Jn.id]:ht}}}}let Ue=h||a,[qe,Je]=Pg(n.history,z,G,et,F,me===!0,R,lt,Y,ae,_e,Ue,f,Ie);if(Be=++Ct,qe.length===0&&Je.length===0){let Ve=Er();return ct(F,{matches:G,loaderData:{},errors:Ie&&Ln(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...Mg(Ie),...Ve?{fetchers:new Map(z.fetchers)}:{}},{flushSync:se}),{shortCircuited:!0}}if(Tt){let Ve={};if(!Q){Ve.navigation=De;let ht=_i(Ie);ht!==void 0&&(Ve.actionData=ht)}Je.length>0&&(Ve.fetchers=ds(Je)),xe(Ve,{flushSync:se})}Je.forEach(Ve=>{Ht(Ve.key),Ve.controller&&He.set(Ve.key,Ve.controller)});let Yn=()=>Je.forEach(Ve=>Ht(Ve.key));T&&T.signal.addEventListener("abort",Yn);let{loaderResults:Qn,fetcherResults:Qt}=await Br(z,G,qe,Je,x);if(x.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Yn),Je.forEach(Ve=>He.delete(Ve.key));let Bt=Ru(Qn);if(Bt)return await zt(x,Bt.result,!0,{replace:he}),{shortCircuited:!0};if(Bt=Ru(Qt),Bt)return _e.add(Bt.key),await zt(x,Bt.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:Vr,errors:Cr}=Lg(z,G,Qn,Ie,Je,Qt);me&&z.errors&&(Cr={...z.errors,...Cr});let Xn=Er(),Ze=Ei(Be),Wr=Xn||Ze||Je.length>0;return{matches:G,loaderData:Vr,errors:Cr,...Wr?{fetchers:new Map(z.fetchers)}:{}}}function _i(x){if(x&&!Ln(x[1]))return{[x[0]]:x[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function ds(x){return x.forEach(F=>{let G=z.fetchers.get(F.key),Q=Ol(void 0,G?G.data:void 0);z.fetchers.set(F.key,Q)}),new Map(z.fetchers)}async function Ys(x,F,G,Q){Ht(x);let ce=(Q&&Q.flushSync)===!0,fe=h||a,Se=Pd(z.location,z.matches,f,G,F,Q==null?void 0:Q.relative),he=Ji(fe,Se,f),me=qn(he,fe,Se);if(me.active&&me.matches&&(he=me.matches),!he){nt(x,F,Wn(404,{pathname:Se}),{flushSync:ce});return}let{path:se,submission:Ie,error:De}=kg(!0,Se,Q);if(De){nt(x,F,De,{flushSync:ce});return}let et=zl(he,se),Tt=(Q&&Q.preventScrollReset)===!0;if(Ie&&cr(Ie.formMethod)){await wi(x,F,se,et,he,me.active,ce,Tt,Ie);return}ae.set(x,{routeId:F,path:se}),await $n(x,F,se,et,he,me.active,ce,Tt,Ie)}async function wi(x,F,G,Q,ce,fe,Se,he,me){_r(),ae.delete(x);function se(dt){if(!dt.route.action&&!dt.route.lazy){let dn=Wn(405,{method:me.formMethod,pathname:G,routeId:F});return nt(x,F,dn,{flushSync:Se}),!0}return!1}if(!fe&&se(Q))return;let Ie=z.fetchers.get(x);un(x,YE(me,Ie),{flushSync:Se});let De=new AbortController,et=xo(n.history,G,De.signal,me);if(fe){let dt=await hn(ce,G,et.signal);if(dt.type==="aborted")return;if(dt.type==="error"){nt(x,F,dt.error,{flushSync:Se});return}else if(dt.matches){if(ce=dt.matches,Q=zl(ce,G),se(Q))return}else{nt(x,F,Wn(404,{pathname:G}),{flushSync:Se});return}}He.set(x,De);let Tt=Ct,qe=(await Gn("action",z,et,[Q],ce,x))[Q.route.id];if(et.signal.aborted){He.get(x)===De&&He.delete(x);return}if(Y.has(x)){if(bs(qe)||Ln(qe)){un(x,Xi(void 0));return}}else{if(bs(qe))if(He.delete(x),Be>Tt){un(x,Xi(void 0));return}else return _e.add(x),un(x,Ol(me)),zt(et,qe,!1,{fetcherSubmission:me,preventScrollReset:he});if(Ln(qe)){nt(x,F,qe.error);return}}let Je=z.navigation.location||z.location,Yn=xo(n.history,Je,De.signal),Qn=h||a,Qt=z.navigation.state!=="idle"?Ji(Qn,z.navigation.location,f):z.matches;ze(Qt,"Didn't find any matches after fetcher action");let Bt=++Ct;ie.set(x,Bt);let Vr=Ol(me,qe.data);z.fetchers.set(x,Vr);let[Cr,Xn]=Pg(n.history,z,Qt,me,Je,!1,R,lt,Y,ae,_e,Qn,f,[Q.route.id,qe]);Xn.filter(dt=>dt.key!==x).forEach(dt=>{let dn=dt.key,Xt=z.fetchers.get(dn),Qs=Ol(void 0,Xt?Xt.data:void 0);z.fetchers.set(dn,Qs),Ht(dn),dt.controller&&He.set(dn,dt.controller)}),xe({fetchers:new Map(z.fetchers)});let Ze=()=>Xn.forEach(dt=>Ht(dt.key));De.signal.addEventListener("abort",Ze);let{loaderResults:Wr,fetcherResults:Ve}=await Br(z,Qt,Cr,Xn,Yn);if(De.signal.aborted)return;De.signal.removeEventListener("abort",Ze),ie.delete(x),He.delete(x),Xn.forEach(dt=>He.delete(dt.key));let ht=Ru(Wr);if(ht)return zt(Yn,ht.result,!1,{preventScrollReset:he});if(ht=Ru(Ve),ht)return _e.add(ht.key),zt(Yn,ht.result,!1,{preventScrollReset:he});let{loaderData:Vt,errors:Jn}=Lg(z,Qt,Wr,void 0,Xn,Ve);if(z.fetchers.has(x)){let dt=Xi(qe.data);z.fetchers.set(x,dt)}Ei(Bt),z.navigation.state==="loading"&&Bt>Be?(ze(ue,"Expected pending action"),T&&T.abort(),ct(z.navigation.location,{matches:Qt,loaderData:Vt,errors:Jn,fetchers:new Map(z.fetchers)})):(xe({errors:Jn,loaderData:Og(z.loaderData,Vt,Qt,Jn),fetchers:new Map(z.fetchers)}),R=!1)}async function $n(x,F,G,Q,ce,fe,Se,he,me){let se=z.fetchers.get(x);un(x,Ol(me,se?se.data:void 0),{flushSync:Se});let Ie=new AbortController,De=xo(n.history,G,Ie.signal);if(fe){let qe=await hn(ce,G,De.signal);if(qe.type==="aborted")return;if(qe.type==="error"){nt(x,F,qe.error,{flushSync:Se});return}else if(qe.matches)ce=qe.matches,Q=zl(ce,G);else{nt(x,F,Wn(404,{pathname:G}),{flushSync:Se});return}}He.set(x,Ie);let et=Ct,Ue=(await Gn("loader",z,De,[Q],ce,x))[Q.route.id];if(He.get(x)===Ie&&He.delete(x),!De.signal.aborted){if(Y.has(x)){un(x,Xi(void 0));return}if(bs(Ue))if(Be>et){un(x,Xi(void 0));return}else{_e.add(x),await zt(De,Ue,!1,{preventScrollReset:he});return}if(Ln(Ue)){nt(x,F,Ue.error);return}un(x,Xi(Ue.data))}}async function zt(x,F,G,{submission:Q,fetcherSubmission:ce,preventScrollReset:fe,replace:Se}={}){F.response.headers.has("X-Remix-Revalidate")&&(R=!0);let he=F.response.headers.get("Location");ze(he,"Expected a Location header on the redirect Response"),he=xg(he,new URL(x.url),f);let me=zo(z.location,he,{_isRedirect:!0});if(t){let Ue=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(ef.test(he)){const qe=n.history.createURL(he);Ue=qe.origin!==e.location.origin||yr(qe.pathname,f)==null}if(Ue){Se?e.location.replace(he):e.location.assign(he);return}}T=null;let se=Se===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:De,formEncType:et}=z.navigation;!Q&&!ce&&Ie&&De&&et&&(Q=Ug(z.navigation));let Tt=Q||ce;if(xE.has(F.response.status)&&Tt&&cr(Tt.formMethod))await Yt(se,me,{submission:{...Tt,formAction:he},preventScrollReset:fe||N,enableViewTransition:G?I:void 0});else{let Ue=hd(me,Q);await Yt(se,me,{overrideNavigation:Ue,fetcherSubmission:ce,preventScrollReset:fe||N,enableViewTransition:G?I:void 0})}}async function Gn(x,F,G,Q,ce,fe){let Se,he={};try{Se=await zE(g,x,F,G,Q,ce,fe,o,s)}catch(me){return Q.forEach(se=>{he[se.route.id]={type:"error",error:me}}),he}for(let[me,se]of Object.entries(Se))if(GE(se)){let Ie=se.result;he[me]={type:"redirect",response:VE(Ie,G,me,ce,f)}}else he[me]=await BE(se);return he}async function Br(x,F,G,Q,ce){let fe=Gn("loader",x,ce,G,F,null),Se=Promise.all(Q.map(async se=>{if(se.matches&&se.match&&se.controller){let De=(await Gn("loader",x,xo(n.history,se.path,se.controller.signal),[se.match],se.matches,se.key))[se.match.route.id];return{[se.key]:De}}else return Promise.resolve({[se.key]:{type:"error",error:Wn(404,{pathname:se.path})}})})),he=await fe,me=(await Se).reduce((se,Ie)=>Object.assign(se,Ie),{});return{loaderResults:he,fetcherResults:me}}function _r(){R=!0,ae.forEach((x,F)=>{He.has(F)&&lt.add(F),Ht(F)})}function un(x,F,G={}){z.fetchers.set(x,F),xe({fetchers:new Map(z.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function nt(x,F,G,Q={}){let ce=Ms(z.matches,F);In(x),xe({errors:{[ce.route.id]:G},fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function wt(x){return b.set(x,(b.get(x)||0)+1),Y.has(x)&&Y.delete(x),z.fetchers.get(x)||DE}function In(x){let F=z.fetchers.get(x);He.has(x)&&!(F&&F.state==="loading"&&ie.has(x))&&Ht(x),ae.delete(x),ie.delete(x),_e.delete(x),Y.delete(x),lt.delete(x),z.fetchers.delete(x)}function fs(x){let F=(b.get(x)||0)-1;F<=0?(b.delete(x),Y.add(x)):b.set(x,F),xe({fetchers:new Map(z.fetchers)})}function Ht(x){let F=He.get(x);F&&(F.abort(),He.delete(x))}function wr(x){for(let F of x){let G=wt(F),Q=Xi(G.data);z.fetchers.set(F,Q)}}function Er(){let x=[],F=!1;for(let G of _e){let Q=z.fetchers.get(G);ze(Q,`Expected fetcher: ${G}`),Q.state==="loading"&&(_e.delete(G),x.push(G),F=!0)}return wr(x),F}function Ei(x){let F=[];for(let[G,Q]of ie)if(Q<x){let ce=z.fetchers.get(G);ze(ce,`Expected fetcher: ${G}`),ce.state==="loading"&&(Ht(G),ie.delete(G),F.push(G))}return wr(F),F.length>0}function ps(x,F){let G=z.blockers.get(x)||Ll;return ge.get(x)!==F&&ge.set(x,F),G}function Si(x){z.blockers.delete(x),ge.delete(x)}function Sr(x,F){let G=z.blockers.get(x)||Ll;ze(G.state==="unblocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="proceeding"||G.state==="blocked"&&F.state==="unblocked"||G.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${F.state}`);let Q=new Map(z.blockers);Q.set(x,F),xe({blockers:Q})}function Ci({currentLocation:x,nextLocation:F,historyAction:G}){if(ge.size===0)return;ge.size>1&&On(!1,"A router only supports one blocker at a time");let Q=Array.from(ge.entries()),[ce,fe]=Q[Q.length-1],Se=z.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&fe({currentLocation:x,nextLocation:F,historyAction:G}))return ce}function Kn(x){let F=Wn(404,{pathname:x}),G=h||a,{matches:Q,route:ce}=bg(G);return{notFoundMatches:Q,route:ce,error:F}}function Ti(x,F,G){if(D=x,V=F,L=G||null,!$&&z.navigation===cd){$=!0;let Q=kn(z.location,z.matches);Q!=null&&xe({restoreScrollPosition:Q})}return()=>{D=null,V=null,L=null}}function Ii(x,F){return L&&L(x,F.map(Q=>uE(Q,z.loaderData)))||x.key}function cn(x,F){if(D&&V){let G=Ii(x,F);D[G]=V()}}function kn(x,F){if(D){let G=Ii(x,F),Q=D[G];if(typeof Q=="number")return Q}return null}function qn(x,F,G){if(v)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Lu(F,G,f,!0)}}else return{active:!0,matches:Lu(F,G,f,!0)||[]};return{active:!1,matches:null}}async function hn(x,F,G){if(!v)return{type:"success",matches:x};let Q=x;for(;;){let ce=h==null,fe=h||a,Se=o;try{await v({path:F,matches:Q,patch:(se,Ie)=>{G.aborted||Ag(se,Ie,fe,Se,s)}})}catch(se){return{type:"error",error:se,partialMatches:Q}}finally{ce&&!G.aborted&&(a=[...a])}if(G.aborted)return{type:"aborted"};let he=Ji(fe,F,f);if(he)return{type:"success",matches:he};let me=Lu(fe,F,f,!0);if(!me||Q.length===me.length&&Q.every((se,Ie)=>se.route.id===me[Ie].route.id))return{type:"success",matches:null};Q=me}}function ms(x){o={},h=Hu(x,s,void 0,o)}function ki(x,F){let G=h==null;Ag(x,F,h||a,o,s),G&&(a=[...a],xe({}))}return ye={get basename(){return f},get future(){return E},get state(){return z},get routes(){return a},get window(){return e},initialize:Fe,subscribe:Ke,enableScrollRestoration:Ti,navigate:bn,fetch:Ys,revalidate:vi,createHref:x=>n.history.createHref(x),encodeLocation:x=>n.history.encodeLocation(x),getFetcher:wt,deleteFetcher:fs,dispose:Ge,getBlocker:ps,deleteBlocker:Si,patchRoutes:ki,_internalFetchControllers:He,_internalSetRoutes:ms},ye}function ME(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Pd(n,e,t,s,o,a){let h,f;if(o){h=[];for(let v of e)if(h.push(v),v.route.id===o){f=v;break}}else h=e,f=e[e.length-1];let g=Zd(s||".",Jd(h),yr(n.pathname,t)||n.pathname,a==="path");if(s==null&&(g.search=n.search,g.hash=n.hash),(s==null||s===""||s===".")&&f){let v=tf(g.search);if(f.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&v){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(D=>D).forEach(D=>E.append("index",D));let C=E.toString();g.search=C?`?${C}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:Lr([t,g.pathname])),ui(g)}function kg(n,e,t){if(!t||!ME(t))return{path:e};if(t.formMethod&&!KE(t.formMethod))return{path:e,error:Wn(405,{method:t.formMethod})};let s=()=>({path:e,error:Wn(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),h=py(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!cr(a))return s();let S=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((C,[D,L])=>`${C}${D}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:S}}}else if(t.formEncType==="application/json"){if(!cr(a))return s();try{let S=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:h,formEncType:t.formEncType,formData:void 0,json:S,text:void 0}}}catch{return s()}}}ze(typeof FormData=="function","FormData is not available in this environment");let f,g;if(t.formData)f=Ad(t.formData),g=t.formData;else if(t.body instanceof FormData)f=Ad(t.body),g=t.body;else if(t.body instanceof URLSearchParams)f=t.body,g=Dg(f);else if(t.body==null)f=new URLSearchParams,g=new FormData;else try{f=new URLSearchParams(t.body),g=Dg(f)}catch{return s()}let v={formMethod:a,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(cr(v.formMethod))return{path:e,submission:v};let E=pi(e);return n&&E.search&&tf(E.search)&&f.append("index",""),E.search=`?${f}`,{path:ui(E),submission:v}}function Rg(n,e,t=!1){let s=n.findIndex(o=>o.route.id===e);return s>=0?n.slice(0,t?s+1:s):n}function Pg(n,e,t,s,o,a,h,f,g,v,E,S,C,D){let L=D?Ln(D[1])?D[1].error:D[1].data:void 0,V=n.createURL(e.location),$=n.createURL(o),X=t;a&&e.errors?X=Rg(t,Object.keys(e.errors)[0],!0):D&&Ln(D[1])&&(X=Rg(t,D[0]));let le=D?D[1].statusCode:void 0,re=le&&le>=400,ye=X.filter((ue,N)=>{let{route:T}=ue;if(T.lazy)return!0;if(T.loader==null)return!1;if(a)return Nd(T,e.loaderData,e.errors);if(bE(e.loaderData,e.matches[N],ue))return!0;let I=e.matches[N],P=ue;return Ng(ue,{currentUrl:V,currentParams:I.params,nextUrl:$,nextParams:P.params,...s,actionResult:L,actionStatus:le,defaultShouldRevalidate:re?!1:h||V.pathname+V.search===$.pathname+$.search||V.search!==$.search||FE(I,P)})}),z=[];return v.forEach((ue,N)=>{if(a||!t.some(U=>U.route.id===ue.routeId)||g.has(N))return;let T=Ji(S,ue.path,C);if(!T){z.push({key:N,routeId:ue.routeId,path:ue.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(N),P=zl(T,ue.path),O=!1;E.has(N)?O=!1:f.has(N)?(f.delete(N),O=!0):I&&I.state!=="idle"&&I.data===void 0?O=h:O=Ng(P,{currentUrl:V,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:t[t.length-1].params,...s,actionResult:L,actionStatus:le,defaultShouldRevalidate:re?!1:h}),O&&z.push({key:N,routeId:ue.routeId,path:ue.path,matches:T,match:P,controller:new AbortController})}),[ye,z]}function Nd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let s=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!s&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!s&&!o}function bE(n,e,t){let s=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return s||o}function FE(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ng(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Ag(n,e,t,s,o){let a;if(n){let g=s[n];ze(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),a=g.children}else a=t;let h=e.filter(g=>!a.some(v=>fy(g,v))),f=Hu(h,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],s);a.push(...f)}function fy(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(a=>fy(t,a))}):!1}async function UE(n,e,t){if(!n.lazy)return;let s=await n.lazy();if(!n.lazy)return;let o=t[n.id];ze(o,"No route found in manifest");let a={};for(let h in s){let g=o[h]!==void 0&&h!=="hasErrorBoundary";On(!g,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!lE.has(h)&&(a[h]=s[h])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function jE({matches:n}){let e=n.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,a)=>Object.assign(s,{[e[a].route.id]:o}),{})}async function zE(n,e,t,s,o,a,h,f,g,v){let E=a.map(D=>D.route.lazy?UE(D.route,g,f):void 0),S=a.map((D,L)=>{let V=E[L],$=o.some(le=>le.route.id===D.route.id);return{...D,shouldLoad:$,resolve:async le=>(le&&s.method==="GET"&&(D.route.lazy||D.route.loader)&&($=!0),$?HE(e,s,D,V,le,v):Promise.resolve({type:"data",result:void 0}))}}),C=await n({matches:S,request:s,params:a[0].params,fetcherKey:h,context:v});try{await Promise.all(E)}catch{}return C}async function HE(n,e,t,s,o,a){let h,f,g=v=>{let E,S=new Promise((L,V)=>E=V);f=()=>E(),e.signal.addEventListener("abort",f);let C=L=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:a},...L!==void 0?[L]:[]),D=(async()=>{try{return{type:"data",result:await(o?o(V=>C(V)):C())}}catch(L){return{type:"error",result:L}}})();return Promise.race([D,S])};try{let v=t.route[n];if(s)if(v){let E,[S]=await Promise.all([g(v).catch(C=>{E=C}),s]);if(E!==void 0)throw E;h=S}else if(await s,v=t.route[n],v)h=await g(v);else if(n==="action"){let E=new URL(e.url),S=E.pathname+E.search;throw Wn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0};else if(v)h=await g(v);else{let E=new URL(e.url),S=E.pathname+E.search;throw Wn(404,{pathname:S})}}catch(v){return{type:"error",result:v}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function BE(n){var s,o,a,h;let{result:e,type:t}=n;if(my(e)){let f;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Vu(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Fg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new Vu(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:mc(e)?e.status:void 0}}return Fg(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VE(n,e,t,s,o){let a=n.headers.get("Location");if(ze(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ef.test(a)){let h=s.slice(0,s.findIndex(f=>f.route.id===t)+1);a=Pd(new URL(e.url),h,o,a),n.headers.set("Location",a)}return n}function xg(n,e,t){if(ef.test(n)){let s=n,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),a=yr(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function xo(n,e,t,s){let o=n.createURL(py(e)).toString(),a={signal:t};if(s&&cr(s.formMethod)){let{formMethod:h,formEncType:f}=s;a.method=h.toUpperCase(),f==="application/json"?(a.headers=new Headers({"Content-Type":f}),a.body=JSON.stringify(s.json)):f==="text/plain"?a.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?a.body=Ad(s.formData):a.body=s.formData}return new Request(o,a)}function Ad(n){let e=new URLSearchParams;for(let[t,s]of n.entries())e.append(t,typeof s=="string"?s:s.name);return e}function Dg(n){let e=new FormData;for(let[t,s]of n.entries())e.append(t,s);return e}function WE(n,e,t,s=!1,o=!1){let a={},h=null,f,g=!1,v={},E=t&&Ln(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let C=S.route.id,D=e[C];if(ze(!bs(D),"Cannot handle redirect results in processLoaderData"),Ln(D)){let L=D.error;if(E!==void 0&&(L=E,E=void 0),h=h||{},o)h[C]=L;else{let V=Ms(n,C);h[V.route.id]==null&&(h[V.route.id]=L)}s||(a[C]=dy),g||(g=!0,f=mc(D.error)?D.error.status:500),D.headers&&(v[C]=D.headers)}else a[C]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(f=D.statusCode),D.headers&&(v[C]=D.headers)}),E!==void 0&&t&&(h={[t[0]]:E},a[t[0]]=void 0),{loaderData:a,errors:h,statusCode:f||200,loaderHeaders:v}}function Lg(n,e,t,s,o,a){let{loaderData:h,errors:f}=WE(e,t,s);return o.forEach(g=>{let{key:v,match:E,controller:S}=g,C=a[v];if(ze(C,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Ln(C)){let D=Ms(n.matches,E==null?void 0:E.route.id);f&&f[D.route.id]||(f={...f,[D.route.id]:C.error}),n.fetchers.delete(v)}else if(bs(C))ze(!1,"Unhandled fetcher revalidation redirect");else{let D=Xi(C.data);n.fetchers.set(v,D)}}),{loaderData:h,errors:f}}function Og(n,e,t,s){let o=Object.entries(e).filter(([,a])=>a!==dy).reduce((a,[h,f])=>(a[h]=f,a),{});for(let a of t){let h=a.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&a.route.loader&&(o[h]=n[h]),s&&s.hasOwnProperty(h))break}return o}function Mg(n){return n?Ln(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ms(n,e){return(e?n.slice(0,n.findIndex(s=>s.route.id===e)+1):[...n]).reverse().find(s=>s.route.hasErrorBoundary===!0)||n[0]}function bg(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(n,{pathname:e,routeId:t,method:s,type:o,message:a}={}){let h="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(h="Bad Request",s&&e&&t?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):n===403?(h="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",f=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",s&&e&&t?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Vu(n||500,h,new Error(f),!0)}function Ru(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(bs(o))return{key:s,result:o}}}function py(n){let e=typeof n=="string"?pi(n):n;return ui({...e,hash:""})}function $E(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function GE(n){return my(n.result)&&AE.has(n.result.status)}function Ln(n){return n.type==="error"}function bs(n){return(n&&n.type)==="redirect"}function Fg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function my(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function KE(n){return NE.has(n.toUpperCase())}function cr(n){return RE.has(n.toUpperCase())}function tf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function zl(n,e){let t=typeof e=="string"?pi(e).search:e.search;if(n[n.length-1].route.index&&tf(t||""))return n[n.length-1];let s=uy(n);return s[s.length-1]}function Ug(n){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:a,json:h}=n;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:s,formData:a,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:h,text:void 0}}}function hd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qE(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ol(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YE(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Xi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function QE(n,e){try{let t=n.sessionStorage.getItem(hy);if(t){let s=JSON.parse(t);for(let[o,a]of Object.entries(s||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function XE(n,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{n.sessionStorage.setItem(hy,JSON.stringify(t))}catch(s){On(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function JE(){let n,e,t=new Promise((s,o)=>{n=async a=>{s(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var $s=K.createContext(null);$s.displayName="DataRouter";var sa=K.createContext(null);sa.displayName="DataRouterState";var nf=K.createContext({isTransitioning:!1});nf.displayName="ViewTransition";var gy=K.createContext(new Map);gy.displayName="Fetchers";var ZE=K.createContext(null);ZE.displayName="Await";var Ur=K.createContext(null);Ur.displayName="Navigation";var gc=K.createContext(null);gc.displayName="Location";var jr=K.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var rf=K.createContext(null);rf.displayName="RouteError";function eS(n,{relative:e}={}){ze(oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Ur),{hash:o,pathname:a,search:h}=la(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Lr([t,a])),s.createHref({pathname:f,search:h,hash:o})}function oa(){return K.useContext(gc)!=null}function Gs(){return ze(oa(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(gc).location}var vy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yy(n){K.useContext(Ur).static||K.useLayoutEffect(n)}function tS(){let{isDataRoute:n}=K.useContext(jr);return n?vS():nS()}function nS(){ze(oa(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext($s),{basename:e,navigator:t}=K.useContext(Ur),{matches:s}=K.useContext(jr),{pathname:o}=Gs(),a=JSON.stringify(Jd(s)),h=K.useRef(!1);return yy(()=>{h.current=!0}),K.useCallback((g,v={})=>{if(On(h.current,vy),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Zd(g,JSON.parse(a),o,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Lr([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,a,o,n])}var rS=K.createContext(null);function iS(n){let e=K.useContext(jr).outlet;return e&&K.createElement(rS.Provider,{value:n},e)}function la(n,{relative:e}={}){let{matches:t}=K.useContext(jr),{pathname:s}=Gs(),o=JSON.stringify(Jd(t));return K.useMemo(()=>Zd(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function sS(n,e,t,s){ze(oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(Ur),{matches:a}=K.useContext(jr),h=a[a.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=Gs(),E;E=v;let S=E.pathname||"/",C=S;if(g!=="/"){let V=g.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=Ji(n,{pathname:C});return cS(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:Lr([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Lr([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),a,t,s)}function oS(){let n=gS(),e=mc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,null)}var lS=K.createElement(oS,null),aS=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(jr.Provider,{value:this.props.routeContext},K.createElement(rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uS({routeContext:n,match:e,children:t}){let s=K.useContext($s);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(jr.Provider,{value:n},t)}function cS(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let g=o.findIndex(v=>v.route.id&&(a==null?void 0:a[v.route.id])!==void 0);ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:E,errors:S}=t,C=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,v,E)=>{let S,C=!1,D=null,L=null;t&&(S=a&&v.route.id?a[v.route.id]:void 0,D=v.route.errorElement||lS,h&&(f<0&&E===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):f===E&&(C=!0,L=v.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,E+1)),$=()=>{let X;return S?X=D:C?X=L:v.route.Component?X=K.createElement(v.route.Component,null):v.route.element?X=v.route.element:X=g,K.createElement(uS,{match:v,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:X})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?K.createElement(aS,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):$()},null)}function sf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(n){let e=K.useContext($s);return ze(e,sf(n)),e}function of(n){let e=K.useContext(sa);return ze(e,sf(n)),e}function dS(n){let e=K.useContext(jr);return ze(e,sf(n)),e}function vc(n){let e=dS(n),t=e.matches[e.matches.length-1];return ze(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fS(){return vc("useRouteId")}function pS(){return of("useNavigation").navigation}function mS(){let n=of("useLoaderData"),e=vc("useLoaderData");return n.loaderData[e]}function gS(){var s;let n=K.useContext(rf),e=of("useRouteError"),t=vc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function vS(){let{router:n}=hS("useNavigate"),e=vc("useNavigate"),t=K.useRef(!1);return yy(()=>{t.current=!0}),K.useCallback(async(o,a={})=>{On(t.current,vy),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var jg={};function yS(n,e,t){jg[n]||(jg[n]=!0,On(!1,t))}var zg={};function Hg(n,e){!n&&!zg[e]&&(zg[e]=!0,console.warn(e))}function _S(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:K.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}var wS=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function ES({router:n,flushSync:e}){let[t,s]=K.useState(n.state),[o,a]=K.useState(),[h,f]=K.useState({isTransitioning:!1}),[g,v]=K.useState(),[E,S]=K.useState(),[C,D]=K.useState(),L=K.useRef(new Map),V=K.useCallback((re,{deletedFetchers:ye,flushSync:z,viewTransitionOpts:ue})=>{ye.forEach(T=>L.current.delete(T)),re.fetchers.forEach((T,I)=>{T.data!==void 0&&L.current.set(I,T.data)}),Hg(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Hg(ue==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ue||!N){e&&z?e(()=>s(re)):K.startTransition(()=>s(re));return}if(e&&z){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>s(re))});T.finished.finally(()=>{e(()=>{v(void 0),S(void 0),a(void 0),f({isTransitioning:!1})})}),e(()=>S(T));return}E?(g&&g.resolve(),E.skipTransition(),D({state:re,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})):(a(re),f({isTransitioning:!0,flushSync:!1,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation}))},[n.window,e,E,g]);K.useLayoutEffect(()=>n.subscribe(V),[n,V]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new wS)},[h]),K.useEffect(()=>{if(g&&o&&n.window){let re=o,ye=g.promise,z=n.window.document.startViewTransition(async()=>{K.startTransition(()=>s(re)),await ye});z.finished.finally(()=>{v(void 0),S(void 0),a(void 0),f({isTransitioning:!1})}),S(z)}},[o,g,n.window]),K.useEffect(()=>{g&&o&&t.location.key===o.location.key&&g.resolve()},[g,E,t.location,o]),K.useEffect(()=>{!h.isTransitioning&&C&&(a(C.state),f({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),D(void 0))},[h.isTransitioning,C]);let $=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:re=>n.navigate(re),push:(re,ye,z)=>n.navigate(re,{state:ye,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(re,ye,z)=>n.navigate(re,{replace:!0,state:ye,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),X=n.basename||"/",le=K.useMemo(()=>({router:n,navigator:$,static:!1,basename:X}),[n,$,X]);return K.createElement(K.Fragment,null,K.createElement($s.Provider,{value:le},K.createElement(sa.Provider,{value:t},K.createElement(gy.Provider,{value:L.current},K.createElement(nf.Provider,{value:h},K.createElement(_y,{basename:X,location:t.location,navigationType:t.historyAction,navigator:$},K.createElement(SS,{routes:n.routes,future:n.future,state:t})))))),null)}var SS=K.memo(CS);function CS({routes:n,future:e,state:t}){return sS(n,void 0,t,e)}function TS(n){return iS(n.context)}function _y({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:a=!1}){ze(!oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:h,navigator:o,static:a,future:{}}),[h,o,a]);typeof t=="string"&&(t=pi(t));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:C="default"}=t,D=K.useMemo(()=>{let L=yr(g,h);return L==null?null:{location:{pathname:L,search:v,hash:E,state:S,key:C},navigationType:s}},[h,g,v,E,S,C,s]);return On(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:K.createElement(Ur.Provider,{value:f},K.createElement(gc.Provider,{children:e,value:D}))}var Ou="get",Mu="application/x-www-form-urlencoded";function yc(n){return n!=null&&typeof n.tagName=="string"}function IS(n){return yc(n)&&n.tagName.toLowerCase()==="button"}function kS(n){return yc(n)&&n.tagName.toLowerCase()==="form"}function RS(n){return yc(n)&&n.tagName.toLowerCase()==="input"}function PS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NS(n,e){return n.button===0&&(!e||e==="_self")&&!PS(n)}var Pu=null;function AS(){if(Pu===null)try{new FormData(document.createElement("form"),0),Pu=!1}catch{Pu=!0}return Pu}var xS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(n){return n!=null&&!xS.has(n)?(On(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):n}function DS(n,e){let t,s,o,a,h;if(kS(n)){let f=n.getAttribute("action");s=f?yr(f,e):null,t=n.getAttribute("method")||Ou,o=dd(n.getAttribute("enctype"))||Mu,a=new FormData(n)}else if(IS(n)||RS(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||f.getAttribute("action");if(s=g?yr(g,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Ou,o=dd(n.getAttribute("formenctype"))||dd(f.getAttribute("enctype"))||Mu,a=new FormData(f,n),!AS()){let{name:v,type:E,value:S}=n;if(E==="image"){let C=v?`${v}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else v&&a.append(v,S)}}else{if(yc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ou,s=null,o=Mu,h=n}return a&&o==="text/plain"&&(h=a,a=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:a,body:h}}function lf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function MS(n,e,t){let s=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let h=await LS(a,t);return h.links?h.links():[]}return[]}));return jS(s.flat(1).filter(OS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bg(n,e,t,s,o,a){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>{var E;return t[v].pathname!==g.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return a==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):a==="data"?e.filter((g,v)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function bS(n,e){return FS(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function FS(n){return[...new Set(n)]}function US(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function jS(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let a=JSON.stringify(US(o));return t.has(a)||(t.add(a),s.push({key:a,link:o})),s},[])}function zS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function HS(){let n=K.useContext($s);return lf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BS(){let n=K.useContext(sa);return lf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var af=K.createContext(void 0);af.displayName="FrameworkContext";function wy(){let n=K.useContext(af);return lf(n,"You must render this element inside a <HydratedRouter> element"),n}function VS(n,e){let t=K.useContext(af),[s,o]=K.useState(!1),[a,h]=K.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,C=K.useRef(null);K.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let V=X=>{X.forEach(le=>{h(le.isIntersecting)})},$=new IntersectionObserver(V,{threshold:.5});return C.current&&$.observe(C.current),()=>{$.disconnect()}}},[n]),K.useEffect(()=>{if(s){let V=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(V)}}},[s]);let D=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?n!=="intent"?[a,C,{}]:[a,C,{onFocus:Ml(f,D),onBlur:Ml(g,L),onMouseEnter:Ml(v,D),onMouseLeave:Ml(E,L),onTouchStart:Ml(S,D)}]:[!1,C,{}]}function Ml(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WS({page:n,...e}){let{router:t}=HS(),s=K.useMemo(()=>Ji(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?K.createElement(GS,{page:n,matches:s,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function $S(n){let{manifest:e,routeModules:t}=wy(),[s,o]=K.useState([]);return K.useEffect(()=>{let a=!1;return MS(n,e,t).then(h=>{a||o(h)}),()=>{a=!0}},[n,e,t]),s}function GS({page:n,matches:e,...t}){let s=Gs(),{manifest:o,routeModules:a}=wy(),{loaderData:h,matches:f}=BS(),g=K.useMemo(()=>Bg(n,e,f,o,s,"data"),[n,e,f,o,s]),v=K.useMemo(()=>Bg(n,e,f,o,s,"assets"),[n,e,f,o,s]),E=K.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let D=new Set,L=!1;if(e.forEach($=>{var le;let X=o.routes[$.route.id];!X||!X.hasLoader||(!g.some(re=>re.route.id===$.route.id)&&$.route.id in h&&((le=a[$.route.id])!=null&&le.shouldRevalidate)||X.hasClientLoader?L=!0:D.add($.route.id))}),D.size===0)return[];let V=zS(n);return L&&D.size>0&&V.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[V.pathname+V.search]},[h,s,o,g,e,n,a]),S=K.useMemo(()=>bS(v,o),[v,o]),C=$S(v);return K.createElement(K.Fragment,null,E.map(D=>K.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>K.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),C.map(({key:D,link:L})=>K.createElement("link",{key:D,...L})))}function KS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ey&&(window.__reactRouterVersion="7.0.1")}catch{}function qS(n,e){return OE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:iE({window:e==null?void 0:e.window}),hydrationData:YS(),routes:n,mapRouteProperties:_S,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function YS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:QS(n.errors)}),n}function QS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new Vu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let h=new a(o.message);h.stack="",t[s]=h}catch{}}if(t[s]==null){let a=new Error(o.message);a.stack="",t[s]=a}}else t[s]=o;return t}function XS({basename:n,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=sE({window:t,v5Compat:!0}));let o=s.current,[a,h]=K.useState({action:o.action,location:o.location}),f=K.useCallback(g=>{K.startTransition(()=>h(g))},[h]);return K.useLayoutEffect(()=>o.listen(f),[o,f]),K.createElement(_y,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uf=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:a,replace:h,state:f,target:g,to:v,preventScrollReset:E,viewTransition:S,...C},D){let{basename:L}=K.useContext(Ur),V=typeof v=="string"&&Sy.test(v),$,X=!1;if(typeof v=="string"&&V&&($=v,Ey))try{let I=new URL(window.location.href),P=v.startsWith("//")?new URL(I.protocol+v):new URL(v),O=yr(P.pathname,L);P.origin===I.origin&&O!=null?v=O+P.search+P.hash:X=!0}catch{On(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=eS(v,{relative:o}),[re,ye,z]=VS(s,C),ue=eC(v,{replace:h,state:f,target:g,preventScrollReset:E,relative:o,viewTransition:S});function N(I){e&&e(I),I.defaultPrevented||ue(I)}let T=K.createElement("a",{...C,...z,href:$||le,onClick:X||a?e:N,ref:KS(D,ye),target:g,"data-discover":!V&&t==="render"?"true":void 0});return re&&!V?K.createElement(K.Fragment,null,T,K.createElement(WS,{page:le})):T});uf.displayName="Link";var JS=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:a,to:h,viewTransition:f,children:g,...v},E){let S=la(h,{relative:v.relative}),C=Gs(),D=K.useContext(sa),{navigator:L,basename:V}=K.useContext(Ur),$=D!=null&&sC(S)&&f===!0,X=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,le=C.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(le=le.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&V&&(re=yr(re,V)||re);const ye=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let z=le===X||!o&&le.startsWith(X)&&le.charAt(ye)==="/",ue=re!=null&&(re===X||!o&&re.startsWith(X)&&re.charAt(X.length)==="/"),N={isActive:z,isPending:ue,isTransitioning:$},T=z?e:void 0,I;typeof s=="function"?I=s(N):I=[s,z?"active":null,ue?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(N):a;return K.createElement(uf,{...v,"aria-current":T,className:I,ref:E,style:P,to:h,viewTransition:f},typeof g=="function"?g(N):g)});JS.displayName="NavLink";var Cy=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:a,method:h=Ou,action:f,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...C},D)=>{let L=rC(),V=iC(f,{relative:v}),$=h.toLowerCase()==="get"?"get":"post",X=typeof f=="string"&&Sy.test(f),le=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ye=re.nativeEvent.submitter,z=(ye==null?void 0:ye.getAttribute("formmethod"))||h;L(ye||re.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:o,state:a,relative:v,preventScrollReset:E,viewTransition:S})};return K.createElement("form",{ref:D,method:$,action:V,onSubmit:s?g:le,...C,"data-discover":!X&&n==="render"?"true":void 0})});Cy.displayName="Form";function ZS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ty(n){let e=K.useContext($s);return ze(e,ZS(n)),e}function eC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:a,viewTransition:h}={}){let f=tS(),g=Gs(),v=la(n,{relative:a});return K.useCallback(E=>{if(NS(E,e)){E.preventDefault();let S=t!==void 0?t:ui(g)===ui(v);f(n,{replace:S,state:s,preventScrollReset:o,relative:a,viewTransition:h})}},[g,f,v,t,s,e,n,o,a,h])}var tC=0,nC=()=>`__${String(++tC)}__`;function rC(){let{router:n}=Ty("useSubmit"),{basename:e}=K.useContext(Ur),t=fS();return K.useCallback(async(s,o={})=>{let{action:a,method:h,encType:f,formData:g,body:v}=DS(s,e);if(o.navigate===!1){let E=o.fetcherKey||nC();await n.fetch(E,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function iC(n,{relative:e}={}){let{basename:t}=K.useContext(Ur),s=K.useContext(jr);ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...la(n||".",{relative:e})},h=Gs();if(n==null){a.search=h.search;let f=new URLSearchParams(a.search),g=f.getAll("index");if(g.some(E=>E==="")){f.delete("index"),g.filter(S=>S).forEach(S=>f.append("index",S));let E=f.toString();a.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Lr([t,a.pathname])),ui(a)}function sC(n,e={}){let t=K.useContext(nf);ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ty("useViewTransitionState"),o=la(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Bu(o.pathname,h)!=null||Bu(o.pathname,a)!=null}new TextEncoder;var oC=sy();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lC(n){return K.createElement(ES,{flushSync:oC.flushSync,...n})}function aC(){return it.jsxs("header",{children:[it.jsx("h1",{className:"title",children:"chat"}),it.jsxs("section",{className:"account-management",children:[it.jsxs(uf,{className:"current-account",children:["",it.jsx("img",{className:"current-account-img"})]}),it.jsxs("button",{className:"leave-account",children:["",it.jsx("img",{className:"leave-account-img"})]})]})]})}function uC(){return it.jsx("footer",{children:"Footer"})}function cC(){return it.jsxs(it.Fragment,{children:[it.jsx(aC,{}),it.jsx(TS,{}),it.jsx(uC,{})]})}var Vg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(n,e){if(!n)throw qo(e)},qo=function(n){return new Error("Firebase Database ("+Iy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},hC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],h=n[t++],f=n[t++],g=((o&7)<<18|(a&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const a=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|h&63)}}return e.join("")},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],h=o+1<n.length,f=h?n[o+1]:0,g=o+2<n.length,v=g?n[o+2]:0,E=a>>2,S=(a&3)<<4|f>>4;let C=(f&15)<<2|v>>6,D=v&63;g||(D=64,h||(C=64)),s.push(t[E],t[S],t[C],t[D])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ky(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||v==null||S==null)throw new dC;const C=a<<2|f>>4;if(s.push(C),v!==64){const D=f<<4&240|v>>2;if(s.push(D),S!==64){const L=v<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ry=function(n){const e=ky(n);return cf.encodeByteArray(e,!0)},Wu=function(n){return Ry(n).replace(/\./g,"")},$u=function(n){try{return cf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){return Py(void 0,n)}function Py(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!pC(t)||(n[t]=Py(n[t],e[t]));return n}function pC(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>mC().__FIREBASE_DEFAULTS__,vC=()=>{if(typeof process>"u"||typeof Vg>"u")return;const n=Vg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$u(n[1]);return e&&JSON.parse(e)},hf=()=>{try{return gC()||vC()||yC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ny=n=>{var e,t;return(t=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_C=n=>{const e=Ny(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ay=()=>{var n;return(n=hf())===null||n===void 0?void 0:n.config},xy=n=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wu(JSON.stringify(t)),Wu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function df(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Dy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ly(){return Iy.NODE_ADMIN===!0}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FirebaseError";class mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kC,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],h=a?RC(a,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new mi(o,f,s)}}function RC(n,e){return n.replace(PC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){return JSON.parse(n)}function At(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(n){let e={},t={},s={},o="";try{const a=n.split(".");e=Yl($u(a[0])||""),t=Yl($u(a[1])||""),o=a[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:o}},NC=function(n){const e=Oy(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},AC=function(n){const e=Oy(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ho(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function xd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gu(n,e,t){const s={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=e.call(t,n[o],o,n));return s}function Ku(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],h=e[o];if(Wg(a)&&Wg(h)){if(!Ku(a,h))return!1}else if(a!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Wg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let S=0;S<16;S++)s[S]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let S=0;S<16;S++)s[S]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let S=16;S<80;S++){const C=s[S-3]^s[S-8]^s[S-14]^s[S-16];s[S]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],h=this.chain_[2],f=this.chain_[3],g=this.chain_[4],v,E;for(let S=0;S<80;S++){S<40?S<20?(v=f^a&(h^f),E=1518500249):(v=a^h^f,E=1859775393):S<60?(v=a&h|f&(a|h),E=2400959708):(v=a^h^f,E=3395469782);const C=(o<<5|o>>>27)+v+g+E+s[S]&4294967295;g=f,f=h,h=(a<<30|a>>>2)&4294967295,a=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let o=0;const a=this.buf_;let h=this.inbuf_;for(;o<t;){if(h===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(a[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(a),h=0;break}}else for(;o<t;)if(a[h]=e[o],++h,++o,h===this.blockSize){this.compress_(a),h=0;break}}this.inbuf_=h,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[s]=this.chain_[o]>>a&255,++s;return e}}function DC(n,e){const t=new LC(n,e);return t.subscribe.bind(t)}class LC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");OC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=fd),o.error===void 0&&(o.error=fd),o.complete===void 0&&(o.complete=fd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fd(){}function ff(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);if(o>=55296&&o<=56319){const a=o-55296;s++,ne(s<n.length,"Surrogate pair missing trail surrogate.");const h=n.charCodeAt(s)-56320;o=65536+(a<<10)+h}o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):o<65536?(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wc=function(n){let e=0;for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n){return n&&n._delegate?n._delegate:n}class as{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _c;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UC(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const h=this.instances.get(o);return h&&e(h,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FC(n){return n===Ls?void 0:n}function UC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const zC={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},HC=tt.INFO,BC={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},VC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=BC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ec{constructor(e){this.name=e,this._logLevel=HC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const WC=(n,e)=>e.some(t=>n instanceof t);let $g,Gg;function $C(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,Dd=new WeakMap,by=new WeakMap,pd=new WeakMap,pf=new WeakMap;function KC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",h)},a=()=>{t(is(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&My.set(t,n)}).catch(()=>{}),pf.set(e,n),e}function qC(n){if(Dd.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",h),n.removeEventListener("abort",h)},a=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",h),n.addEventListener("abort",h)});Dd.set(n,e)}let Ld={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||by.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YC(n){Ld=n(Ld)}function QC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(md(this),e,...t);return by.set(s,e.sort?e.sort():[e]),is(s)}:GC().includes(n)?function(...e){return n.apply(md(this),e),is(My.get(this))}:function(...e){return is(n.apply(md(this),e))}}function XC(n){return typeof n=="function"?QC(n):(n instanceof IDBTransaction&&qC(n),WC(n,$C())?new Proxy(n,Ld):n)}function is(n){if(n instanceof IDBRequest)return KC(n);if(pd.has(n))return pd.get(n);const e=XC(n);return e!==n&&(pd.set(n,e),pf.set(e,n)),e}const md=n=>pf.get(n);function JC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const h=indexedDB.open(n,e),f=is(h);return s&&h.addEventListener("upgradeneeded",g=>{s(is(h.result),g.oldVersion,g.newVersion,is(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{a&&g.addEventListener("close",()=>a()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const ZC=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],gd=new Map;function Kg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=e1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZC.includes(t)))return;const a=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return gd.set(e,a),a}YC(n=>({...n,get:(e,t,s)=>Kg(e,t)||n.get(e,t,s),has:(e,t)=>!!Kg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function n1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Od="@firebase/app",qg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Ec("@firebase/app"),r1="@firebase/app-compat",i1="@firebase/analytics-compat",s1="@firebase/analytics",o1="@firebase/app-check-compat",l1="@firebase/app-check",a1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",d1="@firebase/database-compat",f1="@firebase/functions",p1="@firebase/functions-compat",m1="@firebase/installations",g1="@firebase/installations-compat",v1="@firebase/messaging",y1="@firebase/messaging-compat",_1="@firebase/performance",w1="@firebase/performance-compat",E1="@firebase/remote-config",S1="@firebase/remote-config-compat",C1="@firebase/storage",T1="@firebase/storage-compat",I1="@firebase/firestore",k1="@firebase/vertexai",R1="@firebase/firestore-compat",P1="firebase",N1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",A1={[Od]:"fire-core",[r1]:"fire-core-compat",[s1]:"fire-analytics",[i1]:"fire-analytics-compat",[l1]:"fire-app-check",[o1]:"fire-app-check-compat",[a1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[f1]:"fire-fn",[p1]:"fire-fn-compat",[m1]:"fire-iid",[g1]:"fire-iid-compat",[v1]:"fire-fcm",[y1]:"fire-fcm-compat",[_1]:"fire-perf",[w1]:"fire-perf-compat",[E1]:"fire-rc",[S1]:"fire-rc-compat",[C1]:"fire-gcs",[T1]:"fire-gcs-compat",[I1]:"fire-fst",[R1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,x1=new Map,bd=new Map;function Yg(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zs(n){const e=n.name;if(bd.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;bd.set(e,n);for(const t of qu.values())Yg(t,n);for(const t of x1.values())Yg(t,n);return!0}function mf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rs(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new aa("app","Firebase",D1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=N1;function Fy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(t||(t=Ay()),!t)throw ss.create("no-options");const a=qu.get(o);if(a){if(Ku(t,a.options)&&Ku(s,a.config))return a;throw ss.create("duplicate-app",{appName:o})}const h=new jC(o);for(const g of bd.values())h.addComponent(g);const f=new L1(t,s,h);return qu.set(o,f),f}function Uy(n=Md){const e=qu.get(n);if(!e&&n===Md&&Ay())return Fy();if(!e)throw ss.create("no-app",{appName:n});return e}function Or(n,e,t){var s;let o=(s=A1[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),h=e.match(/\s|\//);if(a||h){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(f.join(" "));return}zs(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebase-heartbeat-database",M1=1,Ql="firebase-heartbeat-store";let vd=null;function jy(){return vd||(vd=JC(O1,M1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw ss.create("idb-open",{originalErrorMessage:n.message})})),vd}async function b1(n){try{const t=(await jy()).transaction(Ql),s=await t.objectStore(Ql).get(zy(n));return await t.done,s}catch(e){if(e instanceof mi)ci.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function Qg(n,e){try{const s=(await jy()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,zy(n)),await s.done}catch(t){if(t instanceof mi)ci.warn(t.message);else{const s=ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(s.message)}}}function zy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1024,U1=30*24*60*60*1e3;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Xg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(h=>h.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=U1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Xg(),{heartbeatsToSend:s,unsentEntries:o}=z1(this._heartbeatsCache.heartbeats),a=Wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ci.warn(t),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function z1(n,e=F1){const t=[];let s=n.slice();for(const o of n){const a=t.find(h=>h.agent===o.agent);if(a){if(a.dates.push(o.date),Jg(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Jg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class H1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await b1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jg(n){return Wu(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){zs(new as("platform-logger",e=>new t1(e),"PRIVATE")),zs(new as("heartbeat",e=>new j1(e),"PRIVATE")),Or(Od,qg,n),Or(Od,qg,"esm2017"),Or("fire-js","")}B1("");var Zg={};const ev="@firebase/database",tv="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy="";function V1(n){Hy=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),At(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Yl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return gi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W1(e)}}catch{}return new $1},Fs=By("localStorage"),G1=By("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Ec("@firebase/database"),K1=function(){let n=1;return function(){return n++}}(),Vy=function(n){const e=MC(n),t=new xC;t.update(e);const s=t.digest();return cf.encodeByteArray(s)},ua=function(...n){let e="";for(let t=0;t<n.length;t++){const s=n[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ua.apply(null,s):typeof s=="object"?e+=At(s):e+=s,e+=" "}return e};let Hl=null,nv=!0;const q1=function(n,e){ne(!e,"Can't turn on custom loggers persistently."),Mo.logLevel=tt.VERBOSE,Hl=Mo.log.bind(Mo)},nn=function(...n){if(nv===!0&&(nv=!1,Hl===null&&G1.get("logging_enabled")===!0&&q1()),Hl){const e=ua.apply(null,n);Hl(e)}},ca=function(n){return function(...e){nn(n,...e)}},Fd=function(...n){const e="FIREBASE INTERNAL ERROR: "+ua(...n);Mo.error(e)},hi=function(...n){const e=`FIREBASE FATAL ERROR: ${ua(...n)}`;throw Mo.error(e),new Error(e)},Cn=function(...n){const e="FIREBASE WARNING: "+ua(...n);Mo.warn(e)},Y1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wy=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Q1=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Bo="[MIN_NAME]",Hs="[MAX_NAME]",Qo=function(n,e){if(n===e)return 0;if(n===Bo||e===Hs)return-1;if(e===Bo||n===Hs)return 1;{const t=rv(n),s=rv(e);return t!==null?s!==null?t-s===0?n.length-e.length:t-s:-1:s!==null?1:n<e?-1:1}},X1=function(n,e){return n===e?0:n<e?-1:1},bl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+At(e))},gf=function(n){if(typeof n!="object"||n===null)return At(n);const e=[];for(const s in n)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=At(e[s]),t+=":",t+=gf(n[e[s]]);return t+="}",t},$y=function(n,e){const t=n.length;if(t<=e)return[n];const s=[];for(let o=0;o<t;o+=e)o+e>t?s.push(n.substring(o,t)):s.push(n.substring(o,o+e));return s};function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Gy=function(n){ne(!Wy(n),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let o,a,h,f,g;n===0?(a=0,h=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),s),a=f+s,h=Math.round(n*Math.pow(2,t-f)-Math.pow(2,t))):(a=0,h=Math.round(n/Math.pow(2,1-s-t))));const v=[];for(g=t;g;g-=1)v.push(h%2?1:0),h=Math.floor(h/2);for(g=e;g;g-=1)v.push(a%2?1:0),a=Math.floor(a/2);v.push(o?1:0),v.reverse();const E=v.join("");let S="";for(g=0;g<64;g+=8){let C=parseInt(E.substr(g,8),2).toString(16);C.length===1&&(C="0"+C),S=S+C}return S.toLowerCase()},J1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Z1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eT(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+t);return s.code=n.toUpperCase(),s}const tT=new RegExp("^-?(0*)\\d{1,10}$"),nT=-2147483648,rT=2147483647,rv=function(n){if(tT.test(n)){const e=Number(n);if(e>=nT&&e<=rT)return e}return null},Xo=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Cn("Exception was thrown by user callback.",t),e},Math.floor(0))}},iT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bl=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(e)}}class bu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="5",Ky="v",qy="s",Yy="r",Qy="f",Xy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jy="ls",Zy="p",Ud="ac",e_="websocket",t_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,s,o,a=!1,h="",f=!1,g=!1){this.secure=t,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=h,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function lT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function r_(n,e,t){ne(typeof e=="string","typeof type must == string"),ne(typeof t=="object","typeof params must == object");let s;if(e===e_)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===t_)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lT(n)&&(t.ns=n.namespace);const o=[];return Tn(t,(a,h)=>{o.push(a+"="+h)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.counters_={}}incrementCounter(e,t=1){gi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return fC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd={},_d={};function yf(n){const e=n.toString();return yd[e]||(yd[e]=new aT),yd[e]}function uT(n,e){const t=n.toString();return _d[t]||(_d[t]=e()),_d[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Xo(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="start",hT="close",dT="pLPCommand",fT="pRTLPCB",i_="id",s_="pw",o_="ser",pT="cb",mT="seg",gT="ts",vT="d",yT="dframe",l_=1870,a_=30,_T=l_-a_,wT=25e3,ET=3e4;class Lo{constructor(e,t,s,o,a,h,f){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.transportSessionId=h,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ca(e),this.stats_=yf(t),this.urlFn=g=>(this.appCheckToken&&(g[Ud]=this.appCheckToken),r_(t,t_,g))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ET)),Q1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _f((...a)=>{const[h,f,g,v,E]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===iv)this.id=f,this.password=g;else if(h===hT)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...a)=>{const[h,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(h,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[iv]="t",s[o_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[pT]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ky]=vf,this.transportSessionId&&(s[qy]=this.transportSessionId),this.lastSessionId&&(s[Jy]=this.lastSessionId),this.applicationId&&(s[Zy]=this.applicationId),this.appCheckToken&&(s[Ud]=this.appCheckToken),typeof location<"u"&&location.hostname&&Xy.test(location.hostname)&&(s[Yy]=Qy);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lo.forceAllow_=!0}static forceDisallow(){Lo.forceDisallow_=!0}static isAvailable(){return Lo.forceAllow_?!0:!Lo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!J1()&&!Z1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=At(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=Ry(t),o=$y(s,_T);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[yT]="t",s[i_]=e,s[s_]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=At(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class _f{constructor(e,t,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=K1(),window[dT+this.uniqueCallbackIdentifier]=e,window[fT+this.uniqueCallbackIdentifier]=t,this.myIFrame=_f.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(f){nn("frame writing exception"),f.stack&&nn(f.stack),nn(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nn("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[i_]=this.myID,e[s_]=this.myPW,e[o_]=this.currentSerial;let t=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+a_+s.length<=l_;){const h=this.pendingSegs.shift();s=s+"&"+mT+o+"="+h.seg+"&"+gT+o+"="+h.ts+"&"+vT+o+"="+h.d,o++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(s,Math.floor(wT)),a=()=>{clearTimeout(o),s()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{nn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=16384,CT=45e3;let Yu=null;typeof MozWebSocket<"u"?Yu=MozWebSocket:typeof WebSocket<"u"&&(Yu=WebSocket);class hr{constructor(e,t,s,o,a,h,f){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ca(this.connId),this.stats_=yf(t),this.connURL=hr.connectionURL_(t,h,f,o,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,o,a){const h={};return h[Ky]=vf,typeof location<"u"&&location.hostname&&Xy.test(location.hostname)&&(h[Yy]=Qy),t&&(h[qy]=t),s&&(h[Jy]=s),o&&(h[Ud]=o),a&&(h[Zy]=a),r_(e,e_,h)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fs.set("previous_websocket_failure",!0);try{let s;Ly(),this.mySock=new Yu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){hr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Yu!==null&&!hr.forceDisallow_}static previouslyFailed(){return Fs.isInMemoryStorage||Fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=Yl(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=At(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=$y(t,ST);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CT))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hr.responsesRequiredToBeHealthy=2;hr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static get ALL_TRANSPORTS(){return[Lo,hr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=hr&&hr.isAvailable();let s=t&&!hr.previouslyFailed();if(e.webSocketOnly&&(t||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[hr];else{const o=this.transports_=[];for(const a of Xl.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);Xl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=6e4,IT=5e3,kT=10*1024,RT=100*1024,wd="t",sv="d",PT="s",ov="r",NT="e",lv="o",av="a",uv="n",cv="p",AT="h";class xT{constructor(e,t,s,o,a,h,f,g,v,E){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=h,this.onReady_=f,this.onDisconnect_=g,this.onKill_=v,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ca("c:"+this.id+":"),this.transportManager_=new Xl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Bl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wd in e){const t=e[wd];t===av?this.upgradeIfSecondaryHealthy_():t===ov?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===lv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=bl("t",e),s=bl("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:av,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=bl("t",e),s=bl("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=bl(wd,e);if(sv in e){const s=e[sv];if(t===AT){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(t===uv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===PT?this.onConnectionShutdown_(s):t===ov?this.onReset_(s):t===NT?Fd("Server Error: "+s):t===lv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),vf!==s&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),Bl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(TT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(IT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{put(e,t,s,o){}merge(e,t,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const o=this.getInitialEvent(e);o&&t.apply(s,o)}off(e,t,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===t&&(!s||s===o[a].context)){o.splice(a,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends c_{static getInstance(){return new Qu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!df()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=32,dv=768;class ot{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Xe(){return new ot("")}function Oe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function us(n){return n.pieces_.length-n.pieceNum_}function ut(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ot(n.pieces_,e)}function h_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function DT(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function d_(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function f_(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ot(e,0)}function xt(n,e){const t=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)t.push(n.pieces_[s]);if(e instanceof ot)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&t.push(s[o])}return new ot(t,0)}function be(n){return n.pieceNum_>=n.pieces_.length}function ln(n,e){const t=Oe(n),s=Oe(e);if(t===null)return e;if(t===s)return ln(ut(n),ut(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function wf(n,e){if(us(n)!==us(e))return!1;for(let t=n.pieceNum_,s=e.pieceNum_;t<=n.pieces_.length;t++,s++)if(n.pieces_[t]!==e.pieces_[s])return!1;return!0}function pr(n,e){let t=n.pieceNum_,s=e.pieceNum_;if(us(n)>us(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class LT{constructor(e,t){this.errorPrefix_=t,this.parts_=d_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=wc(this.parts_[s]);p_(this)}}function OT(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=wc(e),p_(n)}function MT(n){const e=n.parts_.pop();n.byteLength_-=wc(e),n.parts_.length>0&&(n.byteLength_-=1)}function p_(n){if(n.byteLength_>dv)throw new Error(n.errorPrefix_+"has a key path longer than "+dv+" bytes ("+n.byteLength_+").");if(n.parts_.length>hv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hv+") or object contains a cycle "+Os(n))}function Os(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends c_{static getInstance(){return new Ef}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=1e3,bT=60*5*1e3,fv=30*1e3,FT=1.3,UT=3e4,jT="server_kill",pv=3;class ai extends u_{constructor(e,t,s,o,a,h,f,g){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=h,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=ai.nextPersistentConnectionId_++,this.log_=ca("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fl,this.maxReconnectDelay_=bT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!Ly())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ef.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const o=++this.requestNumber_,a={r:o,a:e,b:t};this.log_(At(a)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const t=new _c,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const f=h.d;h.s==="ok"?t.resolve(f):t.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,s,o){this.initConnection_();const a=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+a),this.listens.has(h)||this.listens.set(h,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(h).has(a),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:t,query:e,tag:s};this.listens.get(h).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+s+" for "+o);const a={p:s},h="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(h,a,f=>{const g=f.d,v=f.s;ai.warnOnListenWarnings_(g,t),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",f),v!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(v,g))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&gi(e,"w")){const s=Ho(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=NC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,o=>{const a=o.s,h=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,t)}sendUnlisten_(e,t,s,o){this.log_("Unlisten on "+e+" for "+t);const a={p:e},h="n";o&&(a.q=s,a.t=o),this.sendRequest(h,a)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,o){const a={p:t,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,t,s,o){this.putInternal("p",e,t,s,o)}merge(e,t,s,o){this.putInternal("m",e,t,s,o)}putInternal(e,t,s,o,a){this.initConnection_();const h={p:t,d:s};a!==void 0&&(h.h=a),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const a=s.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+At(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Fd("Unrecognized action received from server: "+At(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UT&&(this.reconnectDelay_=Fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ai.nextConnectionId_++,a=this.lastSessionId;let h=!1,f=null;const g=function(){f?f.close():(h=!0,s())},v=function(S){ne(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(S)};this.realtime_={close:g,sendRequest:v};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,C]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?nn("getToken() completed but was canceled"):(nn("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=C&&C.token,f=new xT(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,D=>{Cn(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(jT)},a))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&Cn(S),g())}}}interrupt(e){nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xd(this.interruptReasons_)&&(this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(a=>gf(a)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const s=new ot(e).toString();let o;if(this.listens.has(s)){const a=this.listens.get(s);o=a.get(t),a.delete(t),a.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,t){nn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pv&&(this.reconnectDelay_=fv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){nn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Hy.replace(/\./g,"-")]=1,df()?e["framework.cordova"]=1:Dy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qu.getInstance().currentlyOnline();return xd(this.interruptReasons_)&&e}}ai.nextPersistentConnectionId_=0;ai.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Me(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new Me(Bo,e),o=new Me(Bo,t);return this.compare(s,o)!==0}minPost(){return Me.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class m_ extends Sc{static get __EMPTY_NODE(){return Nu}static set __EMPTY_NODE(e){Nu=e}compare(e,t){return Qo(e.name,t.name)}isDefinedOn(e){throw qo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Me.MIN}maxPost(){return new Me(Hs,Nu)}makePost(e,t){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,Nu)}toString(){return".key"}}const bo=new m_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,s,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=t?s(e.key,t):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ut{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Ut.RED,this.left=o??Sn.EMPTY_NODE,this.right=a??Sn.EMPTY_NODE}copy(e,t,s,o,a){return new Ut(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o=o.copy(null,t,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,o;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ut.RED=!0;Ut.BLACK=!1;class zT{copy(e,t,s,o,a){return this}insert(e,t,s){return new Ut(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Sn{constructor(e,t=Sn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Sn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Sn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,o=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Au(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Au(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Au(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Au(this.root_,null,this.comparator_,!0,e)}}Sn.EMPTY_NODE=new zT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){return Qo(n.name,e.name)}function Sf(n,e){return Qo(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;function BT(n){jd=n}const g_=function(n){return typeof n=="number"?"number:"+Gy(n):"string:"+n},v_=function(n){if(n.isLeafNode()){const e=n.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gi(e,".sv"),"Priority must be a string or number.")}else ne(n===jd||n.isEmpty(),"priority of unexpected type.");ne(n===jd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mv;class Ft{static set __childrenNodeConstructor(e){mv=e}static get __childrenNodeConstructor(){return mv}constructor(e,t=Ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),v_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ft(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ft.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:Oe(e)===".priority"?this.priorityNode_:Ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=Oe(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(ne(s!==".priority"||us(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(ut(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+g_(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Gy(this.value_):e+=this.value_,this.lazyHash_=Vy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ft.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ft.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,o=Ft.VALUE_TYPE_ORDER.indexOf(t),a=Ft.VALUE_TYPE_ORDER.indexOf(s);return ne(o>=0,"Unknown leaf type: "+t),ne(a>=0,"Unknown leaf type: "+s),o===a?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_,__;function VT(n){y_=n}function WT(n){__=n}class $T extends Sc{compare(e,t){const s=e.node.getPriority(),o=t.node.getPriority(),a=s.compareTo(o);return a===0?Qo(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(Hs,new Ft("[PRIORITY-POST]",__))}makePost(e,t){const s=y_(e);return new Me(t,new Ft("[PRIORITY-POST]",s))}toString(){return".priority"}}const St=new $T;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=Math.log(2);class KT{constructor(e){const t=a=>parseInt(Math.log(a)/GT,10),s=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xu=function(n,e,t,s){n.sort(e);const o=function(g,v){const E=v-g;let S,C;if(E===0)return null;if(E===1)return S=n[g],C=t?t(S):S,new Ut(C,S.node,Ut.BLACK,null,null);{const D=parseInt(E/2,10)+g,L=o(g,D),V=o(D+1,v);return S=n[D],C=t?t(S):S,new Ut(C,S.node,Ut.BLACK,L,V)}},a=function(g){let v=null,E=null,S=n.length;const C=function(L,V){const $=S-L,X=S;S-=L;const le=o($+1,X),re=n[$],ye=t?t(re):re;D(new Ut(ye,re.node,V,null,le))},D=function(L){v?(v.left=L,v=L):(E=L,v=L)};for(let L=0;L<g.count;++L){const V=g.nextBitIsOne(),$=Math.pow(2,g.count-(L+1));V?C($,Ut.BLACK):(C($,Ut.BLACK),C($,Ut.RED))}return E},h=new KT(n.length),f=a(h);return new Sn(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;const Do={};class ii{static get Default(){return ne(Do&&St,"ChildrenNode.ts has not been loaded"),Ed=Ed||new ii({".priority":Do},{".priority":St}),Ed}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ho(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Sn?t:null}hasIndex(e){return gi(this.indexSet_,e.toString())}addIndex(e,t){ne(e!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const a=t.getIterator(Me.Wrap);let h=a.getNext();for(;h;)o=o||e.isDefinedOn(h.node),s.push(h),h=a.getNext();let f;o?f=Xu(s,e.getCompare()):f=Do;const g=e.toString(),v=Object.assign({},this.indexSet_);v[g]=e;const E=Object.assign({},this.indexes_);return E[g]=f,new ii(E,v)}addToIndexes(e,t){const s=Gu(this.indexes_,(o,a)=>{const h=Ho(this.indexSet_,a);if(ne(h,"Missing index implementation for "+a),o===Do)if(h.isDefinedOn(e.node)){const f=[],g=t.getIterator(Me.Wrap);let v=g.getNext();for(;v;)v.name!==e.name&&f.push(v),v=g.getNext();return f.push(e),Xu(f,h.getCompare())}else return Do;else{const f=t.get(e.name);let g=o;return f&&(g=g.remove(new Me(e.name,f))),g.insert(e,e.node)}});return new ii(s,this.indexSet_)}removeFromIndexes(e,t){const s=Gu(this.indexes_,o=>{if(o===Do)return o;{const a=t.get(e.name);return a?o.remove(new Me(e.name,a)):o}});return new ii(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;class ke{static get EMPTY_NODE(){return Ul||(Ul=new ke(new Sn(Sf),null,ii.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&v_(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ul}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Ul:t}}getChild(e){const t=Oe(e);return t===null?this:this.getImmediateChild(t).getChild(ut(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ne(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new Me(e,t);let o,a;t.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(s,this.children_));const h=o.isEmpty()?Ul:this.priorityNode_;return new ke(o,h,a)}}updateChild(e,t){const s=Oe(e);if(s===null)return t;{ne(Oe(e)!==".priority"||us(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(ut(e),t);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,o=0,a=!0;if(this.forEachChild(St,(h,f)=>{t[h]=f.val(e),s++,a&&ke.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):a=!1}),!e&&a&&o<2*s){const h=[];for(const f in t)h[f]=t[f];return h}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+g_(this.getPriority().val())+":"),this.forEachChild(St,(t,s)=>{const o=s.hash();o!==""&&(e+=":"+t+":"+o)}),this.lazyHash_=e===""?"":Vy(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const o=this.resolveIndex_(s);if(o){const a=o.getPredecessorKey(new Me(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Me.Wrap);let a=o.peek();for(;a!=null&&t.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let a=o.peek();for(;a!=null&&t.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ha?-1:0}withIndex(e){if(e===bo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===bo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(St),o=t.getIterator(St);let a=s.getNext(),h=o.getNext();for(;a&&h;){if(a.name!==h.name||!a.node.equals(h.node))return!1;a=s.getNext(),h=o.getNext()}return a===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===bo?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qT extends ke{constructor(){super(new Sn(Sf),ke.EMPTY_NODE,ii.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const ha=new qT;Object.defineProperties(Me,{MIN:{value:new Me(Bo,ke.EMPTY_NODE)},MAX:{value:new Me(Hs,ha)}});m_.__EMPTY_NODE=ke.EMPTY_NODE;Ft.__childrenNodeConstructor=ke;BT(ha);WT(ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=!0;function jt(n,e=null){if(n===null)return ke.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Ft(t,jt(e))}if(!(n instanceof Array)&&YT){const t=[];let s=!1;if(Tn(n,(h,f)=>{if(h.substring(0,1)!=="."){const g=jt(f);g.isEmpty()||(s=s||!g.getPriority().isEmpty(),t.push(new Me(h,g)))}}),t.length===0)return ke.EMPTY_NODE;const a=Xu(t,HT,h=>h.name,Sf);if(s){const h=Xu(t,St.getCompare());return new ke(a,jt(e),new ii({".priority":h},{".priority":St}))}else return new ke(a,jt(e),ii.Default)}else{let t=ke.EMPTY_NODE;return Tn(n,(s,o)=>{if(gi(n,s)&&s.substring(0,1)!=="."){const a=jt(o);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(s,a))}}),t.updatePriority(jt(e))}}VT(jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Sc{constructor(e){super(),this.indexPath_=e,ne(!be(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),o=this.extractChild(t.node),a=s.compareTo(o);return a===0?Qo(e.name,t.name):a}makePost(e,t){const s=jt(e),o=ke.EMPTY_NODE.updateChild(this.indexPath_,s);return new Me(t,o)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,ha);return new Me(Hs,e)}toString(){return d_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Sc{compare(e,t){const s=e.node.compareTo(t.node);return s===0?Qo(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,t){const s=jt(e);return new Me(t,s)}toString(){return".value"}}const JT=new XT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){return{type:"value",snapshotNode:n}}function Vo(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Jl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Zl(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function ZT(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.index_=e}updateChild(e,t,s,o,a,h){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(o).equals(s.getChild(o))&&f.isEmpty()===s.isEmpty()||(h!=null&&(s.isEmpty()?e.hasChild(t)?h.trackChildChange(Jl(t,f)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?h.trackChildChange(Vo(t,s)):h.trackChildChange(Zl(t,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(St,(o,a)=>{t.hasChild(o)||s.trackChildChange(Jl(o,a))}),t.isLeafNode()||t.forEachChild(St,(o,a)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(a)||s.trackChildChange(Zl(o,a,h))}else s.trackChildChange(Vo(o,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ke.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.indexedFilter_=new Cf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ea.getStartPost_(e),this.endPost_=ea.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,o,a,h){return this.matches(new Me(t,s))||(s=ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,o,a,h)}updateFullNode(e,t,s){t.isLeafNode()&&(t=ke.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(ke.EMPTY_NODE);const a=this;return t.forEachChild(St,(h,f)=>{a.matches(new Me(h,f))||(o=o.updateImmediateChild(h,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ea(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,o,a,h){return this.rangedFilter_.matches(new Me(t,s))||(s=ke.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,o,a,h):this.fullLimitUpdateChild_(e,t,s,a,h)}updateFullNode(e,t,s){let o;if(t.isLeafNode()||t.isEmpty())o=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){o=ke.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;a.hasNext()&&h<this.limit_;){const f=a.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),h++;else break;else continue}}else{o=t.withIndex(this.index_),o=o.updatePriority(ke.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let h=0;for(;a.hasNext();){const f=a.getNext();h<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?h++:o=o.updateImmediateChild(f.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,o,a){let h;if(this.reverse_){const S=this.index_.getCompare();h=(C,D)=>S(D,C)}else h=this.index_.getCompare();const f=e;ne(f.numChildren()===this.limit_,"");const g=new Me(t,s),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(f.hasChild(t)){const S=f.getImmediateChild(t);let C=o.getChildAfterChild(this.index_,v,this.reverse_);for(;C!=null&&(C.name===t||f.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const D=C==null?1:h(C,g);if(E&&!s.isEmpty()&&D>=0)return a!=null&&a.trackChildChange(Zl(t,s,S)),f.updateImmediateChild(t,s);{a!=null&&a.trackChildChange(Jl(t,S));const V=f.updateImmediateChild(t,ke.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(a!=null&&a.trackChildChange(Vo(C.name,C.node)),V.updateImmediateChild(C.name,C.node)):V}}else return s.isEmpty()?e:E&&h(v,g)>=0?(a!=null&&(a.trackChildChange(Jl(v.name,v.node)),a.trackChildChange(Vo(t,s))),f.updateImmediateChild(t,s).updateImmediateChild(v.name,ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bo}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new Tf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tI(n){return n.loadsAllData()?new Cf(n.getIndex()):n.hasLimit()?new eI(n):new ea(n)}function gv(n){const e={};if(n.isDefault())return e;let t;if(n.index_===St?t="$priority":n.index_===JT?t="$value":n.index_===bo?t="$key":(ne(n.index_ instanceof QT,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=At(t),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=At(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+At(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=At(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+At(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function vv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==St&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends u_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=ca("p:rest:"),this.listens_={}}listen(e,t,s,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const h=Ju.getListenId_(e,s),f={};this.listens_[h]=f;const g=gv(e._queryParams);this.restRequest_(a+".json",g,(v,E)=>{let S=E;if(v===404&&(S=null,v=null),v===null&&this.onDataUpdate_(a,S,!1,s),Ho(this.listens_,h)===f){let C;v?v===401?C="permission_denied":C="rest_error:"+v:C="ok",o(C,null)}})}unlisten(e,t){const s=Ju.getListenId_(e,t);delete this.listens_[s]}get(e){const t=gv(e._queryParams),s=e._path.toString(),o=new _c;return this.restRequest_(s+".json",t,(a,h)=>{let f=h;a===404&&(f=null,a=null),a===null?(this.onDataUpdate_(s,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(t.auth=o.accessToken),a&&a.token&&(t.ac=a.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yo(t);this.log_("Sending REST request for "+h);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+h+" received. status:",f.status,"response:",f.responseText);let g=null;if(f.status>=200&&f.status<300){try{g=Yl(f.responseText)}catch{Cn("Failed to parse JSON response for "+h+": "+f.responseText)}s(null,g)}else f.status!==401&&f.status!==404&&Cn("Got unsuccessful REST response for "+h+" Status: "+f.status),s(f.status);s=null}},f.open("GET",h,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return{value:null,children:new Map}}function E_(n,e,t){if(be(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const s=Oe(e);n.children.has(s)||n.children.set(s,Zu());const o=n.children.get(s);e=ut(e),E_(o,e,t)}}function zd(n,e,t){n.value!==null?t(e,n.value):rI(n,(s,o)=>{const a=new ot(e.toString()+"/"+s);zd(o,a,t)})}function rI(n,e){n.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tn(this.last_,(s,o)=>{t[s]=t[s]-o}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=10*1e3,sI=30*1e3,oI=5*60*1e3;class lI{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iI(e);const s=yv+(sI-yv)*Math.random();Bl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;Tn(e,(o,a)=>{a>0&&gi(this.statsToReport_,o)&&(t[o]=a,s=!0)}),s&&this.server_.reportStats(t),Bl(this.reportStats_.bind(this),Math.floor(Math.random()*2*oI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mr||(mr={}));function S_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function If(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kf(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=mr.ACK_USER_WRITE,this.source=S_()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ot(e));return new ec(Xe(),t,this.revert)}}else return ne(Oe(this.path)===e,"operationForChild called for unrelated child."),new ec(ut(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.source=e,this.path=t,this.type=mr.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new ta(this.source,Xe()):new ta(this.source,ut(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=mr.OVERWRITE}operationForChild(e){return be(this.path)?new Bs(this.source,Xe(),this.snap.getImmediateChild(e)):new Bs(this.source,ut(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=mr.MERGE}operationForChild(e){if(be(this.path)){const t=this.children.subtree(new ot(e));return t.isEmpty()?null:t.value?new Bs(this.source,Xe(),t.value):new na(this.source,Xe(),t)}else return ne(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new na(this.source,ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const t=Oe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function uI(n,e,t,s){const o=[],a=[];return e.forEach(h=>{h.type==="child_changed"&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&a.push(ZT(h.childName,h.snapshotNode))}),jl(n,o,"child_removed",e,s,t),jl(n,o,"child_added",e,s,t),jl(n,o,"child_moved",a,s,t),jl(n,o,"child_changed",e,s,t),jl(n,o,"value",e,s,t),o}function jl(n,e,t,s,o,a){const h=s.filter(f=>f.type===t);h.sort((f,g)=>hI(n,f,g)),h.forEach(f=>{const g=cI(n,f,a);o.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(g,n.query_))})})}function cI(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function hI(n,e,t){if(e.childName==null||t.childName==null)throw qo("Should only compare child_ events.");const s=new Me(e.childName,e.snapshotNode),o=new Me(t.childName,t.snapshotNode);return n.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n,e){return{eventCache:n,serverCache:e}}function Vl(n,e,t,s){return Cc(new cs(e,t,s),n.serverCache)}function C_(n,e,t,s){return Cc(n.eventCache,new cs(e,t,s))}function tc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;const dI=()=>(Sd||(Sd=new Sn(X1)),Sd);class mt{static fromObject(e){let t=new mt(null);return Tn(e,(s,o)=>{t=t.set(new ot(s),o)}),t}constructor(e,t=dI()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Xe(),value:this.value};if(be(e))return null;{const s=Oe(e),o=this.children.get(s);if(o!==null){const a=o.findRootMostMatchingPathAndValue(ut(e),t);return a!=null?{path:xt(new ot(s),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const t=Oe(e),s=this.children.get(t);return s!==null?s.subtree(ut(e)):new mt(null)}}set(e,t){if(be(e))return new mt(t,this.children);{const s=Oe(e),a=(this.children.get(s)||new mt(null)).set(ut(e),t),h=this.children.insert(s,a);return new mt(this.value,h)}}remove(e){if(be(e))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const t=Oe(e),s=this.children.get(t);if(s){const o=s.remove(ut(e));let a;return o.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,o),this.value===null&&a.isEmpty()?new mt(null):new mt(this.value,a)}else return this}}get(e){if(be(e))return this.value;{const t=Oe(e),s=this.children.get(t);return s?s.get(ut(e)):null}}setTree(e,t){if(be(e))return t;{const s=Oe(e),a=(this.children.get(s)||new mt(null)).setTree(ut(e),t);let h;return a.isEmpty()?h=this.children.remove(s):h=this.children.insert(s,a),new mt(this.value,h)}}fold(e){return this.fold_(Xe(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((o,a)=>{s[o]=a.fold_(xt(e,o),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,Xe(),t)}findOnPath_(e,t,s){const o=this.value?s(t,this.value):!1;if(o)return o;if(be(e))return null;{const a=Oe(e),h=this.children.get(a);return h?h.findOnPath_(ut(e),xt(t,a),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Xe(),t)}foreachOnPath_(e,t,s){if(be(e))return this;{this.value&&s(t,this.value);const o=Oe(e),a=this.children.get(o);return a?a.foreachOnPath_(ut(e),xt(t,o),s):new mt(null)}}foreach(e){this.foreach_(Xe(),e)}foreach_(e,t){this.children.inorderTraversal((s,o)=>{o.foreach_(xt(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.writeTree_=e}static empty(){return new vr(new mt(null))}}function Wl(n,e,t){if(be(e))return new vr(new mt(t));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let a=s.value;const h=ln(o,e);return a=a.updateChild(h,t),new vr(n.writeTree_.set(o,a))}else{const o=new mt(t),a=n.writeTree_.setTree(e,o);return new vr(a)}}}function _v(n,e,t){let s=n;return Tn(t,(o,a)=>{s=Wl(s,xt(e,o),a)}),s}function wv(n,e){if(be(e))return vr.empty();{const t=n.writeTree_.setTree(e,new mt(null));return new vr(t)}}function Hd(n,e){return qs(n,e)!=null}function qs(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ln(t.path,e)):null}function Ev(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(St,(s,o)=>{e.push(new Me(s,o))}):n.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Me(s,o.value))}),e}function os(n,e){if(be(e))return n;{const t=qs(n,e);return t!=null?new vr(new mt(t)):new vr(n.writeTree_.subtree(e))}}function Bd(n){return n.writeTree_.isEmpty()}function Wo(n,e){return T_(Xe(),n.writeTree_,e)}function T_(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(ne(a.value!==null,"Priority writes must always be leaf nodes"),s=a.value):t=T_(xt(n,o),a,t)}),!t.getChild(n).isEmpty()&&s!==null&&(t=t.updateChild(xt(n,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n,e){return P_(e,n)}function fI(n,e,t,s,o){ne(s>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:s,visible:o}),o&&(n.visibleWrites=Wl(n.visibleWrites,e,t)),n.lastWriteId=s}function pI(n,e){for(let t=0;t<n.allWrites.length;t++){const s=n.allWrites[t];if(s.writeId===e)return s}return null}function mI(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);ne(t>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[t];n.allWrites.splice(t,1);let o=s.visible,a=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const f=n.allWrites[h];f.visible&&(h>=t&&gI(f,s.path)?o=!1:pr(s.path,f.path)&&(a=!0)),h--}if(o){if(a)return vI(n),!0;if(s.snap)n.visibleWrites=wv(n.visibleWrites,s.path);else{const f=s.children;Tn(f,g=>{n.visibleWrites=wv(n.visibleWrites,xt(s.path,g))})}return!0}else return!1}function gI(n,e){if(n.snap)return pr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&pr(xt(n.path,t),e))return!0;return!1}function vI(n){n.visibleWrites=I_(n.allWrites,yI,Xe()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function yI(n){return n.visible}function I_(n,e,t){let s=vr.empty();for(let o=0;o<n.length;++o){const a=n[o];if(e(a)){const h=a.path;let f;if(a.snap)pr(t,h)?(f=ln(t,h),s=Wl(s,f,a.snap)):pr(h,t)&&(f=ln(h,t),s=Wl(s,Xe(),a.snap.getChild(f)));else if(a.children){if(pr(t,h))f=ln(t,h),s=_v(s,f,a.children);else if(pr(h,t))if(f=ln(h,t),be(f))s=_v(s,Xe(),a.children);else{const g=Ho(a.children,Oe(f));if(g){const v=g.getChild(ut(f));s=Wl(s,Xe(),v)}}}else throw qo("WriteRecord should have .snap or .children")}}return s}function k_(n,e,t,s,o){if(!s&&!o){const a=qs(n.visibleWrites,e);if(a!=null)return a;{const h=os(n.visibleWrites,e);if(Bd(h))return t;if(t==null&&!Hd(h,Xe()))return null;{const f=t||ke.EMPTY_NODE;return Wo(h,f)}}}else{const a=os(n.visibleWrites,e);if(!o&&Bd(a))return t;if(!o&&t==null&&!Hd(a,Xe()))return null;{const h=function(v){return(v.visible||o)&&(!s||!~s.indexOf(v.writeId))&&(pr(v.path,e)||pr(e,v.path))},f=I_(n.allWrites,h,e),g=t||ke.EMPTY_NODE;return Wo(f,g)}}}function _I(n,e,t){let s=ke.EMPTY_NODE;const o=qs(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(St,(a,h)=>{s=s.updateImmediateChild(a,h)}),s;if(t){const a=os(n.visibleWrites,e);return t.forEachChild(St,(h,f)=>{const g=Wo(os(a,new ot(h)),f);s=s.updateImmediateChild(h,g)}),Ev(a).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}else{const a=os(n.visibleWrites,e);return Ev(a).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}}function wI(n,e,t,s,o){ne(s||o,"Either existingEventSnap or existingServerSnap must exist");const a=xt(e,t);if(Hd(n.visibleWrites,a))return null;{const h=os(n.visibleWrites,a);return Bd(h)?o.getChild(t):Wo(h,o.getChild(t))}}function EI(n,e,t,s){const o=xt(e,t),a=qs(n.visibleWrites,o);if(a!=null)return a;if(s.isCompleteForChild(t)){const h=os(n.visibleWrites,o);return Wo(h,s.getNode().getImmediateChild(t))}else return null}function SI(n,e){return qs(n.visibleWrites,e)}function CI(n,e,t,s,o,a,h){let f;const g=os(n.visibleWrites,e),v=qs(g,Xe());if(v!=null)f=v;else if(t!=null)f=Wo(g,t);else return[];if(f=f.withIndex(h),!f.isEmpty()&&!f.isLeafNode()){const E=[],S=h.getCompare(),C=a?f.getReverseIteratorFrom(s,h):f.getIteratorFrom(s,h);let D=C.getNext();for(;D&&E.length<o;)S(D,s)!==0&&E.push(D),D=C.getNext();return E}else return[]}function TI(){return{visibleWrites:vr.empty(),allWrites:[],lastWriteId:-1}}function nc(n,e,t,s){return k_(n.writeTree,n.treePath,e,t,s)}function Rf(n,e){return _I(n.writeTree,n.treePath,e)}function Sv(n,e,t,s){return wI(n.writeTree,n.treePath,e,t,s)}function rc(n,e){return SI(n.writeTree,xt(n.treePath,e))}function II(n,e,t,s,o,a){return CI(n.writeTree,n.treePath,e,t,s,o,a)}function Pf(n,e,t){return EI(n.writeTree,n.treePath,e,t)}function R_(n,e){return P_(xt(n.treePath,e),n.writeTree)}function P_(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;ne(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ne(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const a=o.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(s,Zl(s,e.snapshotNode,o.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(s,Jl(s,o.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(s,Vo(s,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(s,Zl(s,e.snapshotNode,o.oldSnap));else throw qo("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const N_=new RI;class Nf{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pf(this.writes_,e,s)}}getChildAfterChild(e,t,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vs(this.viewCache_),a=II(this.writes_,o,t,1,s,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n){return{filter:n}}function NI(n,e){ne(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function AI(n,e,t,s,o){const a=new kI;let h,f;if(t.type===mr.OVERWRITE){const v=t;v.source.fromUser?h=Vd(n,e,v.path,v.snap,s,o,a):(ne(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!be(v.path),h=ic(n,e,v.path,v.snap,s,o,f,a))}else if(t.type===mr.MERGE){const v=t;v.source.fromUser?h=DI(n,e,v.path,v.children,s,o,a):(ne(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),h=Wd(n,e,v.path,v.children,s,o,f,a))}else if(t.type===mr.ACK_USER_WRITE){const v=t;v.revert?h=MI(n,e,v.path,s,o,a):h=LI(n,e,v.path,v.affectedTree,s,o,a)}else if(t.type===mr.LISTEN_COMPLETE)h=OI(n,e,t.path,s,a);else throw qo("Unknown operation type: "+t.type);const g=a.getChanges();return xI(e,h,g),{viewCache:h,changes:g}}function xI(n,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),a=tc(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!s.getNode().equals(a)||!s.getNode().getPriority().equals(a.getPriority()))&&t.push(w_(tc(e)))}}function A_(n,e,t,s,o,a){const h=e.eventCache;if(rc(s,t)!=null)return e;{let f,g;if(be(t))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Vs(e),E=v instanceof ke?v:ke.EMPTY_NODE,S=Rf(s,E);f=n.filter.updateFullNode(e.eventCache.getNode(),S,a)}else{const v=nc(s,Vs(e));f=n.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const v=Oe(t);if(v===".priority"){ne(us(t)===1,"Can't have a priority with additional path components");const E=h.getNode();g=e.serverCache.getNode();const S=Sv(s,t,E,g);S!=null?f=n.filter.updatePriority(E,S):f=h.getNode()}else{const E=ut(t);let S;if(h.isCompleteForChild(v)){g=e.serverCache.getNode();const C=Sv(s,t,h.getNode(),g);C!=null?S=h.getNode().getImmediateChild(v).updateChild(E,C):S=h.getNode().getImmediateChild(v)}else S=Pf(s,v,e.serverCache);S!=null?f=n.filter.updateChild(h.getNode(),v,S,E,o,a):f=h.getNode()}}return Vl(e,f,h.isFullyInitialized()||be(t),n.filter.filtersNodes())}}function ic(n,e,t,s,o,a,h,f){const g=e.serverCache;let v;const E=h?n.filter:n.filter.getIndexedFilter();if(be(t))v=E.updateFullNode(g.getNode(),s,null);else if(E.filtersNodes()&&!g.isFiltered()){const D=g.getNode().updateChild(t,s);v=E.updateFullNode(g.getNode(),D,null)}else{const D=Oe(t);if(!g.isCompleteForPath(t)&&us(t)>1)return e;const L=ut(t),$=g.getNode().getImmediateChild(D).updateChild(L,s);D===".priority"?v=E.updatePriority(g.getNode(),$):v=E.updateChild(g.getNode(),D,$,L,N_,null)}const S=C_(e,v,g.isFullyInitialized()||be(t),E.filtersNodes()),C=new Nf(o,S,a);return A_(n,S,t,o,C,f)}function Vd(n,e,t,s,o,a,h){const f=e.eventCache;let g,v;const E=new Nf(o,e,a);if(be(t))v=n.filter.updateFullNode(e.eventCache.getNode(),s,h),g=Vl(e,v,!0,n.filter.filtersNodes());else{const S=Oe(t);if(S===".priority")v=n.filter.updatePriority(e.eventCache.getNode(),s),g=Vl(e,v,f.isFullyInitialized(),f.isFiltered());else{const C=ut(t),D=f.getNode().getImmediateChild(S);let L;if(be(C))L=s;else{const V=E.getCompleteChild(S);V!=null?h_(C)===".priority"&&V.getChild(f_(C)).isEmpty()?L=V:L=V.updateChild(C,s):L=ke.EMPTY_NODE}if(D.equals(L))g=e;else{const V=n.filter.updateChild(f.getNode(),S,L,C,E,h);g=Vl(e,V,f.isFullyInitialized(),n.filter.filtersNodes())}}}return g}function Cv(n,e){return n.eventCache.isCompleteForChild(e)}function DI(n,e,t,s,o,a,h){let f=e;return s.foreach((g,v)=>{const E=xt(t,g);Cv(e,Oe(E))&&(f=Vd(n,f,E,v,o,a,h))}),s.foreach((g,v)=>{const E=xt(t,g);Cv(e,Oe(E))||(f=Vd(n,f,E,v,o,a,h))}),f}function Tv(n,e,t){return t.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Wd(n,e,t,s,o,a,h,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,v;be(t)?v=s:v=new mt(null).setTree(t,s);const E=e.serverCache.getNode();return v.children.inorderTraversal((S,C)=>{if(E.hasChild(S)){const D=e.serverCache.getNode().getImmediateChild(S),L=Tv(n,D,C);g=ic(n,g,new ot(S),L,o,a,h,f)}}),v.children.inorderTraversal((S,C)=>{const D=!e.serverCache.isCompleteForChild(S)&&C.value===null;if(!E.hasChild(S)&&!D){const L=e.serverCache.getNode().getImmediateChild(S),V=Tv(n,L,C);g=ic(n,g,new ot(S),V,o,a,h,f)}}),g}function LI(n,e,t,s,o,a,h){if(rc(o,t)!=null)return e;const f=e.serverCache.isFiltered(),g=e.serverCache;if(s.value!=null){if(be(t)&&g.isFullyInitialized()||g.isCompleteForPath(t))return ic(n,e,t,g.getNode().getChild(t),o,a,f,h);if(be(t)){let v=new mt(null);return g.getNode().forEachChild(bo,(E,S)=>{v=v.set(new ot(E),S)}),Wd(n,e,t,v,o,a,f,h)}else return e}else{let v=new mt(null);return s.foreach((E,S)=>{const C=xt(t,E);g.isCompleteForPath(C)&&(v=v.set(E,g.getNode().getChild(C)))}),Wd(n,e,t,v,o,a,f,h)}}function OI(n,e,t,s,o){const a=e.serverCache,h=C_(e,a.getNode(),a.isFullyInitialized()||be(t),a.isFiltered());return A_(n,h,t,s,N_,o)}function MI(n,e,t,s,o,a){let h;if(rc(s,t)!=null)return e;{const f=new Nf(s,e,o),g=e.eventCache.getNode();let v;if(be(t)||Oe(t)===".priority"){let E;if(e.serverCache.isFullyInitialized())E=nc(s,Vs(e));else{const S=e.serverCache.getNode();ne(S instanceof ke,"serverChildren would be complete if leaf node"),E=Rf(s,S)}E=E,v=n.filter.updateFullNode(g,E,a)}else{const E=Oe(t);let S=Pf(s,E,e.serverCache);S==null&&e.serverCache.isCompleteForChild(E)&&(S=g.getImmediateChild(E)),S!=null?v=n.filter.updateChild(g,E,S,ut(t),f,a):e.eventCache.getNode().hasChild(E)?v=n.filter.updateChild(g,E,ke.EMPTY_NODE,ut(t),f,a):v=g,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=nc(s,Vs(e)),h.isLeafNode()&&(v=n.filter.updateFullNode(v,h,a)))}return h=e.serverCache.isFullyInitialized()||rc(s,Xe())!=null,Vl(e,v,h,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Cf(s.getIndex()),a=tI(s);this.processor_=PI(a);const h=t.serverCache,f=t.eventCache,g=o.updateFullNode(ke.EMPTY_NODE,h.getNode(),null),v=a.updateFullNode(ke.EMPTY_NODE,f.getNode(),null),E=new cs(g,h.isFullyInitialized(),o.filtersNodes()),S=new cs(v,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=Cc(S,E),this.eventGenerator_=new aI(this.query_)}get query(){return this.query_}}function FI(n){return n.viewCache_.serverCache.getNode()}function UI(n){return tc(n.viewCache_)}function jI(n,e){const t=Vs(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!be(e)&&!t.getImmediateChild(Oe(e)).isEmpty())?t.getChild(e):null}function Iv(n){return n.eventRegistrations_.length===0}function zI(n,e){n.eventRegistrations_.push(e)}function kv(n,e,t){const s=[];if(t){ne(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(a=>{const h=a.createCancelEvent(t,o);h&&s.push(h)})}if(e){let o=[];for(let a=0;a<n.eventRegistrations_.length;++a){const h=n.eventRegistrations_[a];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(a+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return s}function Rv(n,e,t,s){e.type===mr.MERGE&&e.source.queryId!==null&&(ne(Vs(n.viewCache_),"We should always have a full cache before handling merges"),ne(tc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,a=AI(n.processor_,o,e,t,s);return NI(n.processor_,a.viewCache),ne(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,x_(n,a.changes,a.viewCache.eventCache.getNode(),null)}function HI(n,e){const t=n.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(St,(a,h)=>{s.push(Vo(a,h))}),t.isFullyInitialized()&&s.push(w_(t.getNode())),x_(n,s,t.getNode(),e)}function x_(n,e,t,s){const o=s?[s]:n.eventRegistrations_;return uI(n.eventGenerator_,e,t,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class D_{constructor(){this.views=new Map}}function BI(n){ne(!sc,"__referenceConstructor has already been defined"),sc=n}function VI(){return ne(sc,"Reference.ts has not been loaded"),sc}function WI(n){return n.views.size===0}function Af(n,e,t,s){const o=e.source.queryId;if(o!==null){const a=n.views.get(o);return ne(a!=null,"SyncTree gave us an op for an invalid query."),Rv(a,e,t,s)}else{let a=[];for(const h of n.views.values())a=a.concat(Rv(h,e,t,s));return a}}function L_(n,e,t,s,o){const a=e._queryIdentifier,h=n.views.get(a);if(!h){let f=nc(t,o?s:null),g=!1;f?g=!0:s instanceof ke?(f=Rf(t,s),g=!1):(f=ke.EMPTY_NODE,g=!1);const v=Cc(new cs(f,g,!1),new cs(s,o,!1));return new bI(e,v)}return h}function $I(n,e,t,s,o,a){const h=L_(n,e,s,o,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,h),zI(h,t),HI(h,t)}function GI(n,e,t,s){const o=e._queryIdentifier,a=[];let h=[];const f=hs(n);if(o==="default")for(const[g,v]of n.views.entries())h=h.concat(kv(v,t,s)),Iv(v)&&(n.views.delete(g),v.query._queryParams.loadsAllData()||a.push(v.query));else{const g=n.views.get(o);g&&(h=h.concat(kv(g,t,s)),Iv(g)&&(n.views.delete(o),g.query._queryParams.loadsAllData()||a.push(g.query)))}return f&&!hs(n)&&a.push(new(VI())(e._repo,e._path)),{removed:a,events:h}}function O_(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ls(n,e){let t=null;for(const s of n.views.values())t=t||jI(s,e);return t}function M_(n,e){if(e._queryParams.loadsAllData())return Ic(n);{const s=e._queryIdentifier;return n.views.get(s)}}function b_(n,e){return M_(n,e)!=null}function hs(n){return Ic(n)!=null}function Ic(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;function KI(n){ne(!oc,"__referenceConstructor has already been defined"),oc=n}function qI(){return ne(oc,"Reference.ts has not been loaded"),oc}let YI=1;class Pv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=TI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F_(n,e,t,s,o){return fI(n.pendingWriteTree_,e,t,s,o),o?fa(n,new Bs(S_(),e,t)):[]}function Us(n,e,t=!1){const s=pI(n.pendingWriteTree_,e);if(mI(n.pendingWriteTree_,e)){let a=new mt(null);return s.snap!=null?a=a.set(Xe(),!0):Tn(s.children,h=>{a=a.set(new ot(h),!0)}),fa(n,new ec(s.path,a,t))}else return[]}function da(n,e,t){return fa(n,new Bs(If(),e,t))}function QI(n,e,t){const s=mt.fromObject(t);return fa(n,new na(If(),e,s))}function XI(n,e){return fa(n,new ta(If(),e))}function JI(n,e,t){const s=Df(n,t);if(s){const o=Lf(s),a=o.path,h=o.queryId,f=ln(a,e),g=new ta(kf(h),f);return Of(n,a,g)}else return[]}function lc(n,e,t,s,o=!1){const a=e._path,h=n.syncPointTree_.get(a);let f=[];if(h&&(e._queryIdentifier==="default"||b_(h,e))){const g=GI(h,e,t,s);WI(h)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const v=g.removed;if(f=g.events,!o){const E=v.findIndex(C=>C._queryParams.loadsAllData())!==-1,S=n.syncPointTree_.findOnPath(a,(C,D)=>hs(D));if(E&&!S){const C=n.syncPointTree_.subtree(a);if(!C.isEmpty()){const D=tk(C);for(let L=0;L<D.length;++L){const V=D[L],$=V.query,X=H_(n,V);n.listenProvider_.startListening($l($),ra(n,$),X.hashFn,X.onComplete)}}}!S&&v.length>0&&!s&&(E?n.listenProvider_.stopListening($l(e),null):v.forEach(C=>{const D=n.queryToTagMap.get(kc(C));n.listenProvider_.stopListening($l(C),D)}))}nk(n,v)}return f}function U_(n,e,t,s){const o=Df(n,s);if(o!=null){const a=Lf(o),h=a.path,f=a.queryId,g=ln(h,e),v=new Bs(kf(f),g,t);return Of(n,h,v)}else return[]}function ZI(n,e,t,s){const o=Df(n,s);if(o){const a=Lf(o),h=a.path,f=a.queryId,g=ln(h,e),v=mt.fromObject(t),E=new na(kf(f),g,v);return Of(n,h,E)}else return[]}function $d(n,e,t,s=!1){const o=e._path;let a=null,h=!1;n.syncPointTree_.foreachOnPath(o,(C,D)=>{const L=ln(C,o);a=a||ls(D,L),h=h||hs(D)});let f=n.syncPointTree_.get(o);f?(h=h||hs(f),a=a||ls(f,Xe())):(f=new D_,n.syncPointTree_=n.syncPointTree_.set(o,f));let g;a!=null?g=!0:(g=!1,a=ke.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((D,L)=>{const V=ls(L,Xe());V&&(a=a.updateImmediateChild(D,V))}));const v=b_(f,e);if(!v&&!e._queryParams.loadsAllData()){const C=kc(e);ne(!n.queryToTagMap.has(C),"View does not exist, but we have a tag");const D=rk();n.queryToTagMap.set(C,D),n.tagToQueryMap.set(D,C)}const E=Tc(n.pendingWriteTree_,o);let S=$I(f,e,t,E,a,g);if(!v&&!h&&!s){const C=M_(f,e);S=S.concat(ik(n,e,C))}return S}function xf(n,e,t){const o=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(h,f)=>{const g=ln(h,e),v=ls(f,g);if(v)return v});return k_(o,e,a,t,!0)}function ek(n,e){const t=e._path;let s=null;n.syncPointTree_.foreachOnPath(t,(v,E)=>{const S=ln(v,t);s=s||ls(E,S)});let o=n.syncPointTree_.get(t);o?s=s||ls(o,Xe()):(o=new D_,n.syncPointTree_=n.syncPointTree_.set(t,o));const a=s!=null,h=a?new cs(s,!0,!1):null,f=Tc(n.pendingWriteTree_,e._path),g=L_(o,e,f,a?h.getNode():ke.EMPTY_NODE,a);return UI(g)}function fa(n,e){return j_(e,n.syncPointTree_,null,Tc(n.pendingWriteTree_,Xe()))}function j_(n,e,t,s){if(be(n.path))return z_(n,e,t,s);{const o=e.get(Xe());t==null&&o!=null&&(t=ls(o,Xe()));let a=[];const h=Oe(n.path),f=n.operationForChild(h),g=e.children.get(h);if(g&&f){const v=t?t.getImmediateChild(h):null,E=R_(s,h);a=a.concat(j_(f,g,v,E))}return o&&(a=a.concat(Af(o,n,s,t))),a}}function z_(n,e,t,s){const o=e.get(Xe());t==null&&o!=null&&(t=ls(o,Xe()));let a=[];return e.children.inorderTraversal((h,f)=>{const g=t?t.getImmediateChild(h):null,v=R_(s,h),E=n.operationForChild(h);E&&(a=a.concat(z_(E,f,g,v)))}),o&&(a=a.concat(Af(o,n,s,t))),a}function H_(n,e){const t=e.query,s=ra(n,t);return{hashFn:()=>(FI(e)||ke.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?JI(n,t._path,s):XI(n,t._path);{const a=eT(o,t);return lc(n,t,null,a)}}}}function ra(n,e){const t=kc(e);return n.queryToTagMap.get(t)}function kc(n){return n._path.toString()+"$"+n._queryIdentifier}function Df(n,e){return n.tagToQueryMap.get(e)}function Lf(n){const e=n.indexOf("$");return ne(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ot(n.substr(0,e))}}function Of(n,e,t){const s=n.syncPointTree_.get(e);ne(s,"Missing sync point for query tag that we're tracking");const o=Tc(n.pendingWriteTree_,e);return Af(s,t,o,null)}function tk(n){return n.fold((e,t,s)=>{if(t&&hs(t))return[Ic(t)];{let o=[];return t&&(o=O_(t)),Tn(s,(a,h)=>{o=o.concat(h)}),o}})}function $l(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(qI())(n._repo,n._path):n}function nk(n,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const o=kc(s),a=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(a)}}}function rk(){return YI++}function ik(n,e,t){const s=e._path,o=ra(n,e),a=H_(n,t),h=n.listenProvider_.startListening($l(e),o,a.hashFn,a.onComplete),f=n.syncPointTree_.subtree(s);if(o)ne(!hs(f.value),"If we're adding a query, it shouldn't be shadowed");else{const g=f.fold((v,E,S)=>{if(!be(v)&&E&&hs(E))return[Ic(E).query];{let C=[];return E&&(C=C.concat(O_(E).map(D=>D.query))),Tn(S,(D,L)=>{C=C.concat(L)}),C}});for(let v=0;v<g.length;++v){const E=g[v];n.listenProvider_.stopListening($l(E),ra(n,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Mf(t)}node(){return this.node_}}class bf{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xt(this.path_,e);return new bf(this.syncTree_,t)}node(){return xf(this.syncTree_,this.path_)}}const sk=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Nv=function(n,e,t){if(!n||typeof n!="object")return n;if(ne(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return ok(n[".sv"],e,t);if(typeof n[".sv"]=="object")return lk(n[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},ok=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ne(!1,"Unexpected server value: "+n)}},lk=function(n,e,t){n.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&ne(!1,"Unexpected increment value: "+s);const o=e.node();if(ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const h=o.getValue();return typeof h!="number"?s:h+s},ak=function(n,e,t,s){return Ff(e,new bf(t,n),s)},B_=function(n,e,t){return Ff(n,new Mf(e),t)};function Ff(n,e,t){const s=n.getPriority().val(),o=Nv(s,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const h=n,f=Nv(h.getValue(),e,t);return f!==h.getValue()||o!==h.getPriority().val()?new Ft(f,jt(o)):n}else{const h=n;return a=h,o!==h.getPriority().val()&&(a=a.updatePriority(new Ft(o))),h.forEachChild(St,(f,g)=>{const v=Ff(g,e.getImmediateChild(f),t);v!==g&&(a=a.updateImmediateChild(f,v))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function jf(n,e){let t=e instanceof ot?e:new ot(e),s=n,o=Oe(t);for(;o!==null;){const a=Ho(s.node.children,o)||{children:{},childCount:0};s=new Uf(o,s,a),t=ut(t),o=Oe(t)}return s}function Jo(n){return n.node.value}function V_(n,e){n.node.value=e,Gd(n)}function W_(n){return n.node.childCount>0}function uk(n){return Jo(n)===void 0&&!W_(n)}function Rc(n,e){Tn(n.node.children,(t,s)=>{e(new Uf(t,n,s))})}function $_(n,e,t,s){t&&!s&&e(n),Rc(n,o=>{$_(o,e,!0,s)}),t&&s&&e(n)}function ck(n,e,t){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function pa(n){return new ot(n.parent===null?n.name:pa(n.parent)+"/"+n.name)}function Gd(n){n.parent!==null&&hk(n.parent,n.name,n)}function hk(n,e,t){const s=uk(t),o=gi(n.node.children,e);s&&o?(delete n.node.children[e],n.node.childCount--,Gd(n)):!s&&!o&&(n.node.children[e]=t.node,n.node.childCount++,Gd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=/[\[\].#$\/\u0000-\u001F\u007F]/,fk=/[\[\].#$\u0000-\u001F\u007F]/,Cd=10*1024*1024,G_=function(n){return typeof n=="string"&&n.length!==0&&!dk.test(n)},K_=function(n){return typeof n=="string"&&n.length!==0&&!fk.test(n)},pk=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),K_(n)},q_=function(n,e,t,s){s&&e===void 0||zf(ff(n,"value"),e,t)},zf=function(n,e,t){const s=t instanceof ot?new LT(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Os(s));if(typeof e=="function")throw new Error(n+"contains a function "+Os(s)+" with contents = "+e.toString());if(Wy(e))throw new Error(n+"contains "+e.toString()+" "+Os(s));if(typeof e=="string"&&e.length>Cd/3&&wc(e)>Cd)throw new Error(n+"contains a string greater than "+Cd+" utf8 bytes "+Os(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(Tn(e,(h,f)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(a=!0,!G_(h)))throw new Error(n+" contains an invalid key ("+h+") "+Os(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OT(s,h),zf(n,f,s),MT(s)}),o&&a)throw new Error(n+' contains ".value" child '+Os(s)+" in addition to actual children.")}},Y_=function(n,e,t,s){if(!K_(t))throw new Error(ff(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mk=function(n,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y_(n,e,t)},Q_=function(n,e){if(Oe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},gk=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!G_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!pk(t))throw new Error(ff(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hf(n,e){let t=null;for(let s=0;s<e.length;s++){const o=e[s],a=o.getPath();t!==null&&!wf(a,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(o)}t&&n.eventLists_.push(t)}function X_(n,e,t){Hf(n,t),J_(n,s=>wf(s,e))}function Fr(n,e,t){Hf(n,t),J_(n,s=>pr(s,e)||pr(e,s))}function J_(n,e){n.recursionDepth_++;let t=!0;for(let s=0;s<n.eventLists_.length;s++){const o=n.eventLists_[s];if(o){const a=o.path;e(a)?(yk(n.eventLists_[s]),n.eventLists_[s]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function yk(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const s=t.getEventRunner();Hl&&nn("event: "+t.toString()),Xo(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="repo_interrupt",wk=25;class Ek{constructor(e,t,s,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zu(),this.transactionQueueTree_=new Uf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sk(n,e,t){if(n.stats_=yf(n.repoInfo_),n.forceRestClient_||iT())n.server_=new Ju(n.repoInfo_,(s,o,a,h)=>{Av(n,s,o,a,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>xv(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{At(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ai(n.repoInfo_,e,(s,o,a,h)=>{Av(n,s,o,a,h)},s=>{xv(n,s)},s=>{Ck(n,s)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=uT(n.repoInfo_,()=>new lI(n.stats_,n.server_)),n.infoData_=new nI,n.infoSyncTree_=new Pv({startListening:(s,o,a,h)=>{let f=[];const g=n.infoData_.getNode(s._path);return g.isEmpty()||(f=da(n.infoSyncTree_,s._path,g),setTimeout(()=>{h("ok")},0)),f},stopListening:()=>{}}),Vf(n,"connected",!1),n.serverSyncTree_=new Pv({startListening:(s,o,a,h)=>(n.server_.listen(s,a,o,(f,g)=>{const v=h(f,g);Fr(n.eventQueue_,s._path,v)}),[]),stopListening:(s,o)=>{n.server_.unlisten(s,o)}})}function Z_(n){const t=n.infoData_.getNode(new ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Bf(n){return sk({timestamp:Z_(n)})}function Av(n,e,t,s,o){n.dataUpdateCount++;const a=new ot(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let h=[];if(o)if(s){const g=Gu(t,v=>jt(v));h=ZI(n.serverSyncTree_,a,g,o)}else{const g=jt(t);h=U_(n.serverSyncTree_,a,g,o)}else if(s){const g=Gu(t,v=>jt(v));h=QI(n.serverSyncTree_,a,g)}else{const g=jt(t);h=da(n.serverSyncTree_,a,g)}let f=a;h.length>0&&(f=Nc(n,a)),Fr(n.eventQueue_,f,h)}function xv(n,e){Vf(n,"connected",e),e===!1&&kk(n)}function Ck(n,e){Tn(e,(t,s)=>{Vf(n,t,s)})}function Vf(n,e,t){const s=new ot("/.info/"+e),o=jt(t);n.infoData_.updateSnapshot(s,o);const a=da(n.infoSyncTree_,s,o);Fr(n.eventQueue_,s,a)}function e0(n){return n.nextWriteId_++}function Tk(n,e,t){const s=ek(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(o=>{const a=jt(o).withIndex(e._queryParams.getIndex());$d(n.serverSyncTree_,e,t,!0);let h;if(e._queryParams.loadsAllData())h=da(n.serverSyncTree_,e._path,a);else{const f=ra(n.serverSyncTree_,e);h=U_(n.serverSyncTree_,e._path,a,f)}return Fr(n.eventQueue_,e._path,h),lc(n.serverSyncTree_,e,t,null,!0),a},o=>(Pc(n,"get for query "+At(e)+" failed: "+o),Promise.reject(new Error(o))))}function Ik(n,e,t,s,o){Pc(n,"set",{path:e.toString(),value:t,priority:s});const a=Bf(n),h=jt(t,s),f=xf(n.serverSyncTree_,e),g=B_(h,f,a),v=e0(n),E=F_(n.serverSyncTree_,e,g,v,!0);Hf(n.eventQueue_,E),n.server_.put(e.toString(),h.val(!0),(C,D)=>{const L=C==="ok";L||Cn("set at "+e+" failed: "+C);const V=Us(n.serverSyncTree_,v,!L);Fr(n.eventQueue_,e,V),Ak(n,o,C,D)});const S=s0(n,e);Nc(n,S),Fr(n.eventQueue_,S,[])}function kk(n){Pc(n,"onDisconnectEvents");const e=Bf(n),t=Zu();zd(n.onDisconnect_,Xe(),(o,a)=>{const h=ak(o,a,n.serverSyncTree_,e);E_(t,o,h)});let s=[];zd(t,Xe(),(o,a)=>{s=s.concat(da(n.serverSyncTree_,o,a));const h=s0(n,o);Nc(n,h)}),n.onDisconnect_=Zu(),Fr(n.eventQueue_,Xe(),s)}function Rk(n,e,t){let s;Oe(e._path)===".info"?s=$d(n.infoSyncTree_,e,t):s=$d(n.serverSyncTree_,e,t),X_(n.eventQueue_,e._path,s)}function Pk(n,e,t){let s;Oe(e._path)===".info"?s=lc(n.infoSyncTree_,e,t):s=lc(n.serverSyncTree_,e,t),X_(n.eventQueue_,e._path,s)}function Nk(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_k)}function Pc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),nn(t,...e)}function Ak(n,e,t,s){e&&Xo(()=>{if(t==="ok")e(null);else{const o=(t||"error").toUpperCase();let a=o;s&&(a+=": "+s);const h=new Error(a);h.code=o,e(h)}})}function t0(n,e,t){return xf(n.serverSyncTree_,e,t)||ke.EMPTY_NODE}function Wf(n,e=n.transactionQueueTree_){if(e||Ac(n,e),Jo(e)){const t=r0(n,e);ne(t.length>0,"Sending zero length transaction queue"),t.every(o=>o.status===0)&&xk(n,pa(e),t)}else W_(e)&&Rc(e,t=>{Wf(n,t)})}function xk(n,e,t){const s=t.map(v=>v.currentWriteId),o=t0(n,e,s);let a=o;const h=o.hash();for(let v=0;v<t.length;v++){const E=t[v];ne(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=ln(e,E.path);a=a.updateChild(S,E.currentOutputSnapshotRaw)}const f=a.val(!0),g=e;n.server_.put(g.toString(),f,v=>{Pc(n,"transaction put response",{path:g.toString(),status:v});let E=[];if(v==="ok"){const S=[];for(let C=0;C<t.length;C++)t[C].status=2,E=E.concat(Us(n.serverSyncTree_,t[C].currentWriteId)),t[C].onComplete&&S.push(()=>t[C].onComplete(null,!0,t[C].currentOutputSnapshotResolved)),t[C].unwatcher();Ac(n,jf(n.transactionQueueTree_,e)),Wf(n,n.transactionQueueTree_),Fr(n.eventQueue_,e,E);for(let C=0;C<S.length;C++)Xo(S[C])}else{if(v==="datastale")for(let S=0;S<t.length;S++)t[S].status===3?t[S].status=4:t[S].status=0;else{Cn("transaction at "+g.toString()+" failed: "+v);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=v}Nc(n,e)}},h)}function Nc(n,e){const t=n0(n,e),s=pa(t),o=r0(n,t);return Dk(n,o,s),s}function Dk(n,e,t){if(e.length===0)return;const s=[];let o=[];const h=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const g=e[f],v=ln(t,g.path);let E=!1,S;if(ne(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)E=!0,S=g.abortReason,o=o.concat(Us(n.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=wk)E=!0,S="maxretry",o=o.concat(Us(n.serverSyncTree_,g.currentWriteId,!0));else{const C=t0(n,g.path,h);g.currentInputSnapshot=C;const D=e[f].update(C.val());if(D!==void 0){zf("transaction failed: Data returned ",D,g.path);let L=jt(D);typeof D=="object"&&D!=null&&gi(D,".priority")||(L=L.updatePriority(C.getPriority()));const $=g.currentWriteId,X=Bf(n),le=B_(L,C,X);g.currentOutputSnapshotRaw=L,g.currentOutputSnapshotResolved=le,g.currentWriteId=e0(n),h.splice(h.indexOf($),1),o=o.concat(F_(n.serverSyncTree_,g.path,le,g.currentWriteId,g.applyLocally)),o=o.concat(Us(n.serverSyncTree_,$,!0))}else E=!0,S="nodata",o=o.concat(Us(n.serverSyncTree_,g.currentWriteId,!0))}Fr(n.eventQueue_,t,o),o=[],E&&(e[f].status=2,function(C){setTimeout(C,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(S==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(S),!1,null))))}Ac(n,n.transactionQueueTree_);for(let f=0;f<s.length;f++)Xo(s[f]);Wf(n,n.transactionQueueTree_)}function n0(n,e){let t,s=n.transactionQueueTree_;for(t=Oe(e);t!==null&&Jo(s)===void 0;)s=jf(s,t),e=ut(e),t=Oe(e);return s}function r0(n,e){const t=[];return i0(n,e,t),t.sort((s,o)=>s.order-o.order),t}function i0(n,e,t){const s=Jo(e);if(s)for(let o=0;o<s.length;o++)t.push(s[o]);Rc(e,o=>{i0(n,o,t)})}function Ac(n,e){const t=Jo(e);if(t){let s=0;for(let o=0;o<t.length;o++)t[o].status!==2&&(t[s]=t[o],s++);t.length=s,V_(e,t.length>0?t:void 0)}Rc(e,s=>{Ac(n,s)})}function s0(n,e){const t=pa(n0(n,e)),s=jf(n.transactionQueueTree_,e);return ck(s,o=>{Td(n,o)}),Td(n,s),$_(s,o=>{Td(n,o)}),t}function Td(n,e){const t=Jo(e);if(t){const s=[];let o=[],a=-1;for(let h=0;h<t.length;h++)t[h].status===3||(t[h].status===1?(ne(a===h-1,"All SENT items should be at beginning of queue."),a=h,t[h].status=3,t[h].abortReason="set"):(ne(t[h].status===0,"Unexpected transaction status in abort"),t[h].unwatcher(),o=o.concat(Us(n.serverSyncTree_,t[h].currentWriteId,!0)),t[h].onComplete&&s.push(t[h].onComplete.bind(null,new Error("set"),!1,null))));a===-1?V_(e,void 0):t.length=a+1,Fr(n.eventQueue_,pa(e),o);for(let h=0;h<s.length;h++)Xo(s[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){let e="";const t=n.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let o=t[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Ok(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Cn(`Invalid query segment '${t}' in query '${n}'`)}return e}const Dv=function(n,e){const t=Mk(n),s=t.namespace;t.domain==="firebase.com"&&hi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Y1();const o=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new n_(t.host,t.secure,s,o,e,"",s!==t.subdomain),path:new ot(t.pathString)}},Mk=function(n){let e="",t="",s="",o="",a="",h=!0,f="https",g=443;if(typeof n=="string"){let v=n.indexOf("//");v>=0&&(f=n.substring(0,v-1),n=n.substring(v+2));let E=n.indexOf("/");E===-1&&(E=n.length);let S=n.indexOf("?");S===-1&&(S=n.length),e=n.substring(0,Math.min(E,S)),E<S&&(o=Lk(n.substring(E,S)));const C=Ok(n.substring(Math.min(n.length,S)));v=e.indexOf(":"),v>=0?(h=f==="https"||f==="wss",g=parseInt(e.substring(v+1),10)):v=e.length;const D=e.slice(0,v);if(D.toLowerCase()==="localhost")t="localhost";else if(D.split(".").length<=2)t=D;else{const L=e.indexOf(".");s=e.substring(0,L).toLowerCase(),t=e.substring(L+1),a=s}"ns"in C&&(a=C.ns)}return{host:e,port:g,domain:t,subdomain:s,secure:h,scheme:f,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bk=function(){let n=0;const e=[];return function(t){const s=t===n;n=t;let o;const a=new Array(8);for(o=7;o>=0;o--)a[o]=Lv.charAt(t%64),t=Math.floor(t/64);ne(t===0,"Cannot push at time == 0");let h=a.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Lv.charAt(e[o]);return ne(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,s,o){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+At(this.snapshot.exportVal())}}class l0{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t,s,o){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=o}get key(){return be(this._path)?null:h_(this._path)}get ref(){return new zr(this._repo,this._path)}get _queryIdentifier(){const e=vv(this._queryParams),t=gf(e);return t==="{}"?"default":t}get _queryObject(){return vv(this._queryParams)}isEqual(e){if(e=Mn(e),!(e instanceof $f))return!1;const t=this._repo===e._repo,s=wf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+DT(this._path)}}class zr extends $f{constructor(e,t){super(e,t,new Tf,!1)}get parent(){const e=f_(this._path);return e===null?null:new zr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $o{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ot(e),s=Go(this.ref,e);return new $o(this._node.getChild(t),s,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new $o(o,Go(this.ref,s),St)))}hasChild(e){const t=new ot(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fk(n,e){return n=Mn(n),n._checkNotDeleted("ref"),Go(n._root,e)}function Go(n,e){return n=Mn(n),Oe(n._path)===null?mk("child","path",e):Y_("child","path",e),new zr(n._repo,xt(n._path,e))}function Uk(n,e){n=Mn(n),Q_("push",n._path),q_("push",e,n._path,!0);const t=Z_(n._repo),s=bk(t),o=Go(n,s),a=Go(n,s);let h;return h=Promise.resolve(a),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function jk(n,e){n=Mn(n),Q_("set",n._path),q_("set",e,n._path,!1);const t=new _c;return Ik(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function zk(n){n=Mn(n);const e=new a0(()=>{}),t=new Gf(e);return Tk(n._repo,n,t).then(s=>new $o(s,new zr(n._repo,n._path),n._queryParams.getIndex()))}class Gf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new o0("value",this,new $o(e.snapshotNode,new zr(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new l0(this,e,t):null}matches(e){return e instanceof Gf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Kf{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new l0(this,e,t):null}createEvent(e,t){ne(e.childName!=null,"Child events should have a childName.");const s=Go(new zr(t._repo,t._path),e.childName),o=t._queryParams.getIndex();return new o0(e.type,this,new $o(e.snapshotNode,s,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Kf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Hk(n,e,t,s,o){const a=new a0(t,void 0),h=new Kf(e,a);return Rk(n._repo,n,h),()=>Pk(n._repo,n,h)}function Bk(n,e,t,s){return Hk(n,"child_added",e)}BI(zr);KI(zr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="FIREBASE_DATABASE_EMULATOR_HOST",Kd={};let Wk=!1;function $k(n,e,t,s){n.repoInfo_=new n_(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Gk(n,e,t,s,o){let a=s||n.options.databaseURL;a===void 0&&(n.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nn("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h=Dv(a,o),f=h.repoInfo,g;typeof process<"u"&&Zg&&(g=Zg[Vk]),g?(a=`http://${g}?ns=${f.namespace}`,h=Dv(a,o),f=h.repoInfo):h.repoInfo.secure;const v=new oT(n.name,n.options,e);gk("Invalid Firebase Database URL",h),be(h.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const E=qk(f,n,v,new sT(n.name,t));return new Yk(E,n)}function Kk(n,e){const t=Kd[e];(!t||t[n.key]!==n)&&hi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Nk(n),delete t[n.key]}function qk(n,e,t,s){let o=Kd[e.name];o||(o={},Kd[e.name]=o);let a=o[n.toURLString()];return a&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Ek(n,Wk,t,s),o[n.toURLString()]=a,a}class Yk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zr(this._repo,Xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Kk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function Qk(n=Uy(),e){const t=mf(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=_C("database");s&&Xk(t,...s)}return t}function Xk(n,e,t,s={}){n=Mn(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&hi("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let a;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new bu(bu.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:wC(s.mockUserToken,n.app.options.projectId);a=new bu(h)}$k(o,e,t,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){V1(Ks),zs(new as("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Gk(s,o,a,t)},"PUBLIC").setMultipleInstances(!0)),Or(ev,tv,n),Or(ev,tv,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={".sv":"timestamp"};function eR(){return Zk}ai.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ai.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Jk();var tR="firebase",nR="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(tR,nR,"app");function qf(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=u0,c0=new aa("auth","Firebase",u0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Ec("@firebase/auth");function iR(n,...e){ac.logLevel<=tt.WARN&&ac.warn(`Auth (${Ks}): ${n}`,...e)}function Fu(n,...e){ac.logLevel<=tt.ERROR&&ac.error(`Auth (${Ks}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...e){throw Yf(n,...e)}function Mr(n,...e){return Yf(n,...e)}function h0(n,e,t){const s=Object.assign(Object.assign({},rR()),{[e]:t});return new aa("auth","Firebase",s).create(e,{appName:n.name})}function js(n){return h0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return c0.create(n,...e)}function Ne(n,e,...t){if(!n)throw Yf(e,...t)}function si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fu(e),new Error(e)}function fi(n,e){n||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sR(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||SC()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=df()||Dy()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new ma(3e4,6e4);function Xf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zo(n,e,t,s,o={}){return f0(n,o,async()=>{let a={},h={};s&&(e==="GET"?h=s:a={body:JSON.stringify(s)});const f=Yo(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:g},a);return EC()||(v.referrerPolicy="no-referrer"),d0.fetch()(p0(n,n.config.apiHost,t,f),v)})}async function f0(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},aR),e);try{const o=new hR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await a.json();if("needConfirmation"in h)throw xu(n,"account-exists-with-different-credential",h);if(a.ok&&!("errorMessage"in h))return h;{const f=a.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw xu(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw xu(n,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw h0(n,E,v);di(n,E)}}catch(o){if(o instanceof mi)throw o;di(n,"network-request-failed",{message:String(o)})}}async function cR(n,e,t,s,o={}){const a=await Zo(n,e,t,s,o);return"mfaPendingCredential"in a&&di(n,"multi-factor-auth-required",{_serverResponse:a}),a}function p0(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?Qf(n.config,o):`${n.config.apiScheme}://${o}`}class hR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Mr(this.auth,"network-request-failed")),uR.get())})}}function xu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Mr(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return Zo(n,"POST","/v1/accounts:delete",e)}async function m0(n,e){return Zo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fR(n,e=!1){const t=Mn(n),s=await t.getIdToken(e),o=Jf(s);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,h=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:Gl(Id(o.auth_time)),issuedAtTime:Gl(Id(o.iat)),expirationTime:Gl(Id(o.exp)),signInProvider:h||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Id(n){return Number(n)*1e3}function Jf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const o=$u(t);return o?JSON.parse(o):(Fu("Failed to decode base64 JWT payload"),null)}catch(o){return Fu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mv(n){const e=Jf(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof mi&&pR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function pR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n){var e;const t=n.auth,s=await n.getIdToken(),o=await ia(n,m0(t,{idToken:s}));Ne(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const h=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?g0(a.providerUserInfo):[],f=vR(n.providerData,h),g=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),E=g?v:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Yd(a.createdAt,a.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function gR(n){const e=Mn(n);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function g0(n){return n.map(e=>{var{providerId:t}=e,s=qf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e){const t=await f0(n,{},async()=>{const s=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,h=p0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",d0.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _R(n,e){return Zo(n,"POST","/v2/accounts:revokeToken",Xf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Mv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await yR(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,h=new Fo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),h.expirationTime=a),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ia(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await uc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await ia(this,dR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,h,f,g,v,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,D=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,$=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,X=(v=t.createdAt)!==null&&v!==void 0?v:void 0,le=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ye,isAnonymous:z,providerData:ue,stsTokenManager:N}=t;Ne(re&&N,e,"internal-error");const T=Fo.fromJSON(this.name,N);Ne(typeof re=="string",e,"internal-error"),Qi(S,e.name),Qi(C,e.name),Ne(typeof ye=="boolean",e,"internal-error"),Ne(typeof z=="boolean",e,"internal-error"),Qi(D,e.name),Qi(L,e.name),Qi(V,e.name),Qi($,e.name),Qi(X,e.name),Qi(le,e.name);const I=new oi({uid:re,auth:e,email:C,emailVerified:ye,displayName:S,isAnonymous:z,photoURL:L,phoneNumber:D,tenantId:V,stsTokenManager:T,createdAt:X,lastLoginAt:le});return ue&&Array.isArray(ue)&&(I.providerData=ue.map(P=>Object.assign({},P))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new Fo;o.updateFromServerResponse(t);const a=new oi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uc(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?g0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Fo;f.updateFromIdToken(s);const g=new oi({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function li(n){fi(n instanceof Function,"Expected a class definition");let e=bv.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v0.type="NONE";const Fv=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(n,e,t){return`firebase:${n}:${e}:${t}`}class Uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Uu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Uu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Uo(li(Fv),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=o[0]||li(Fv);const h=Uu(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const E=await v._get(h);if(E){const S=oi._fromJSON(e,E);v!==a&&(f=S),a=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!g.length?new Uo(a,e,s):(a=g[0],f&&await a._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(h)}catch{}})),new Uo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C0(e))return"Blackberry";if(T0(e))return"Webos";if(_0(e))return"Safari";if((e.includes("chrome/")||w0(e))&&!e.includes("edge/"))return"Chrome";if(S0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function y0(n=an()){return/firefox\//i.test(n)}function _0(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w0(n=an()){return/crios\//i.test(n)}function E0(n=an()){return/iemobile/i.test(n)}function S0(n=an()){return/android/i.test(n)}function C0(n=an()){return/blackberry/i.test(n)}function T0(n=an()){return/webos/i.test(n)}function Zf(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wR(n=an()){var e;return Zf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ER(){return CC()&&document.documentMode===10}function I0(n=an()){return Zf(n)||S0(n)||T0(n)||C0(n)||/windows phone/i.test(n)||E0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e=[]){let t;switch(n){case"Browser":t=Uv(an());break;case"Worker":t=`${Uv(an())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ks}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((h,f)=>{try{const g=e(a);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e={}){return Zo(n,"GET","/v2/passwordPolicy",Xf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class IR{constructor(e){var t,s,o,a;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:TR,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(a=g.containsUppercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new SR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await m0(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rs(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(js(this));const t=e?Mn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CR(this),t=new IR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new aa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await _R(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{h||a(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ep(n){return Mn(n)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RR(n){tp=n}function PR(n){return tp.loadJS(n)}function NR(){return tp.gapiScript}function AR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,e){const t=mf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ku(a,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function DR(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LR(n,e,t){const s=ep(n);Ne(s._canInitEmulator,s,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=R0(e),{host:h,port:f}=OR(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${a}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),MR()}function R0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OR(n){const e=R0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:zv(s.substr(a.length+1))}}else{const[a,h]=s.split(":");return{host:a,port:zv(h)}}}function zv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return cR(n,"POST","/v1/accounts:signInWithIdp",Xf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="http://localhost";class Ws extends P0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=qf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ws(s,o);return h.idToken=a.idToken||void 0,h.accessToken=a.accessToken||void 0,h.secret=a.secret,h.nonce=a.nonce,h.pendingToken=a.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends N0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends ga{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ws._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return es.credential(t,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends ga{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends ga{constructor(){super("twitter.com")}static credential(e,t){return Ws._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ns.credential(t,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await oi._fromIdTokenResponse(e,s,o),h=Hv(s);return new Ko({user:a,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Hv(s);return new Ko({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends mi{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new cc(e,t,s,o)}}function A0(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(n,a,e,s):a})}async function FR(n,e,t=!1){const s=await ia(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ko._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e,t=!1){const{auth:s}=n;if(rs(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const a=await ia(n,A0(s,o,e,n),t);Ne(a.idToken,s,"internal-error");const h=Jf(a.idToken);Ne(h,s,"internal-error");const{sub:f}=h;return Ne(n.uid===f,s,"user-mismatch"),Ko._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&di(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e,t=!1){if(rs(n.app))return Promise.reject(js(n));const s="signIn",o=await A0(n,s,e),a=await Ko._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}function zR(n,e,t,s){return Mn(n).onIdTokenChanged(e,t,s)}function HR(n,e,t){return Mn(n).beforeAuthStateChanged(e,t)}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e3,VR=10;class D0 extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},a=this.storage.getItem(s);ER()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}D0.type="LOCAL";const WR=D0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L0.type="SESSION";const O0=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new xc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,a)),g=await $R(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,h;return new Promise((f,g)=>{const v=np("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(E),a=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(C.data.response);break;default:clearTimeout(E),clearTimeout(a),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function KR(n){br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function qR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QR(){return M0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firebaseLocalStorageDb",XR=1,dc="firebaseLocalStorage",F0="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dc(n,e){return n.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function JR(){const n=indexedDB.deleteDatabase(b0);return new va(n).toPromise()}function Qd(){const n=indexedDB.open(b0,XR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(dc,{keyPath:F0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(dc)?e(s):(s.close(),await JR(),e(await Qd()))})})}async function Bv(n,e,t){const s=Dc(n,!0).put({[F0]:e,value:t});return new va(s).toPromise()}async function ZR(n,e){const t=Dc(n,!1).get(e),s=await new va(t).toPromise();return s===void 0?null:s.value}function Vv(n,e){const t=Dc(n,!0).delete(e);return new va(t).toPromise()}const eP=800,tP=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>tP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xc._getInstance(QR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await Bv(e,hc,"1"),await Vv(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ZR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Dc(o,!1).getAll();return new va(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const nP=U0;new ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n,e){return e?li(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iP(n){return jR(n.auth,new rp(n),n.bypassAuthState)}function sP(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),UR(t,new rp(n),n.bypassAuthState)}async function oP(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),FR(t,new rp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iP;case"linkViaPopup":case"linkViaRedirect":return oP;case"reauthViaPopup":case"reauthViaRedirect":return sP;default:di(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new ma(2e3,1e4);class Oo extends j0{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lP.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="pendingRedirect",ju=new Map;class uP extends j0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const s=await cP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cP(n,e){const t=fP(e),s=dP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function hP(n,e){ju.set(n._key(),e)}function dP(n){return li(n._redirectPersistence)}function fP(n){return Uu(aP,n.config.apiKey,n.name)}async function pP(n,e,t=!1){if(rs(n.app))return Promise.reject(js(n));const s=ep(n),o=rP(s,e),h=await new uP(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=10*60*1e3;class gP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!z0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(e))}saveEventToCache(e){this.cachedEventUids.add(Wv(e)),this.lastProcessedEventTime=Date.now()}}function Wv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e={}){return Zo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function EP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yP(n);for(const t of e)try{if(SP(t))return}catch{}di(n,"unauthorized-domain")}function SP(n){const e=qd(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!wP.test(t))return!1;if(_P.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new ma(3e4,6e4);function $v(){const n=br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TP(n){return new Promise((e,t)=>{var s,o,a;function h(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),t(Mr(n,"network-request-failed"))},timeout:CP.get()})}if(!((o=(s=br().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=br().gapi)===null||a===void 0)&&a.load)h();else{const f=AR("iframefcb");return br()[f]=()=>{gapi.load?h():t(Mr(n,"network-request-failed"))},PR(`${NR()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw zu=null,e})}let zu=null;function IP(n){return zu=zu||TP(n),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new ma(5e3,15e3),RP="__/auth/iframe",PP="emulator/auth/iframe",NP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xP(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qf(e,PP):`https://${n.config.authDomain}/${RP}`,s={apiKey:e.apiKey,appName:n.name,v:Ks},o=AP.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${Yo(s).slice(1)}`}async function DP(n){const e=await IP(n),t=br().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:xP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NP,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const h=Mr(n,"network-request-failed"),f=br().setTimeout(()=>{a(h)},kP.get());function g(){br().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{a(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OP=500,MP=600,bP="_blank",FP="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UP(n,e,t,s=OP,o=MP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},LP),{width:s.toString(),height:o.toString(),top:a,left:h}),v=an().toLowerCase();t&&(f=w0(v)?bP:t),y0(v)&&(e=e||FP,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[D,L])=>`${C}${D}=${L},`,"");if(wR(v)&&f!=="_self")return jP(e||"",f),new Gv(null);const S=window.open(e||"",f,E);Ne(S,n,"popup-blocked");try{S.focus()}catch{}return new Gv(S)}function jP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="__/auth/handler",HP="emulator/auth/handler",BP=encodeURIComponent("fac");async function Kv(n,e,t,s,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ks,eventId:o};if(e instanceof N0){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",xd(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof ga){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const g=await n._getAppCheckToken(),v=g?`#${BP}=${encodeURIComponent(g)}`:"";return`${VP(n)}?${Yo(f).slice(1)}${v}`}function VP({config:n}){return n.emulator?Qf(n,HP):`https://${n.authDomain}/${zP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class WP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=pP,this._overrideRedirectResult=hP}async _openPopup(e,t,s,o){var a;fi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const h=await Kv(e,t,s,qd(),o);return UP(e,h,np())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await Kv(e,t,s,qd(),o);return KR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(fi(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await DP(e),s=new gP(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kd,{type:kd},o=>{var a;const h=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[kd];h!==void 0&&t(!!h),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return I0()||_0()||Zf()}}const $P=WP;var qv="@firebase/auth",Yv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(n){zs(new as("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ne(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(n)},v=new kR(s,o,a,g);return DR(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),zs(new as("auth-internal",e=>{const t=ep(e.getProvider("auth").getImmediate());return(s=>new GP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(qv,Yv,KP(n)),Or(qv,Yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=5*60,QP=xy("authIdTokenMaxAge")||YP;let Qv=null;const XP=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>QP)return;const o=t==null?void 0:t.token;Qv!==o&&(Qv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JP(n=Uy()){const e=mf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xR(n,{popupRedirectResolver:$P,persistence:[nP,WR,O0]}),s=xy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const h=XP(a.toString());HR(t,h,()=>h(t.currentUser)),zR(t,f=>h(f))}}const o=Ny("auth");return o&&LR(t,`http://${o}`),t}function ZP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=Mr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",ZP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qP("Browser");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function I(){}I.prototype=T.prototype,N.D=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(P,O,U){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return T.prototype[O].apply(P,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],O=N.g[2];var U=N.g[3],R=T+(U^I&(O^U))+P[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=U+(O^T&(I^O))+P[1]+3905402710&4294967295,U=T+(R<<12&4294967295|R>>>20),R=O+(I^U&(T^I))+P[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(T^O&(U^T))+P[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(U^I&(O^U))+P[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=U+(O^T&(I^O))+P[5]+1200080426&4294967295,U=T+(R<<12&4294967295|R>>>20),R=O+(I^U&(T^I))+P[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(T^O&(U^T))+P[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(U^I&(O^U))+P[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=U+(O^T&(I^O))+P[9]+2336552879&4294967295,U=T+(R<<12&4294967295|R>>>20),R=O+(I^U&(T^I))+P[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(T^O&(U^T))+P[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(U^I&(O^U))+P[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=U+(O^T&(I^O))+P[13]+4254626195&4294967295,U=T+(R<<12&4294967295|R>>>20),R=O+(I^U&(T^I))+P[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(T^O&(U^T))+P[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(O^U&(I^O))+P[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(T^I))+P[6]+3225465664&4294967295,U=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(U^T))+P[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^T&(O^U))+P[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^U&(I^O))+P[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(T^I))+P[10]+38016083&4294967295,U=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(U^T))+P[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^T&(O^U))+P[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^U&(I^O))+P[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(T^I))+P[14]+3275163606&4294967295,U=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(U^T))+P[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^T&(O^U))+P[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^U&(I^O))+P[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(T^I))+P[2]+4243563512&4294967295,U=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(U^T))+P[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^T&(O^U))+P[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(I^O^U)+P[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=U+(T^I^O)+P[8]+2272392833&4294967295,U=T+(R<<11&4294967295|R>>>21),R=O+(U^T^I)+P[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^T)+P[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^U)+P[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=U+(T^I^O)+P[4]+1272893353&4294967295,U=T+(R<<11&4294967295|R>>>21),R=O+(U^T^I)+P[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^T)+P[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^U)+P[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=U+(T^I^O)+P[0]+3936430074&4294967295,U=T+(R<<11&4294967295|R>>>21),R=O+(U^T^I)+P[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^T)+P[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^U)+P[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=U+(T^I^O)+P[12]+3873151461&4294967295,U=T+(R<<11&4294967295|R>>>21),R=O+(U^T^I)+P[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^T)+P[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(O^(I|~U))+P[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=U+(I^(T|~O))+P[7]+1126891415&4294967295,U=T+(R<<10&4294967295|R>>>22),R=O+(T^(U|~I))+P[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~T))+P[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~U))+P[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=U+(I^(T|~O))+P[3]+2399980690&4294967295,U=T+(R<<10&4294967295|R>>>22),R=O+(T^(U|~I))+P[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~T))+P[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~U))+P[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=U+(I^(T|~O))+P[15]+4264355552&4294967295,U=T+(R<<10&4294967295|R>>>22),R=O+(T^(U|~I))+P[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~T))+P[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~U))+P[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=U+(I^(T|~O))+P[11]+3174756917&4294967295,U=T+(R<<10&4294967295|R>>>22),R=O+(T^(U|~I))+P[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~T))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var I=T-this.blockSize,P=this.B,O=this.h,U=0;U<T;){if(O==0)for(;U<=I;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<T;)if(P[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,P),O=0;break}}else for(;U<T;)if(P[O++]=N[U++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var I=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=I&255,I/=256;for(this.u(N),N=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)N[I++]=this.g[T]>>>P&255;return N};function a(N,T){var I=f;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function h(N,T){this.h=T;for(var I=[],P=!0,O=N.length-1;0<=O;O--){var U=N[O]|0;P&&U==T||(I[O]=U,P=!1)}this.g=I}var f={};function g(N){return-128<=N&&128>N?a(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return $(v(-N));for(var T=[],I=1,P=0;N>=I;P++)T[P]=N/I|0,I*=4294967296;return new h(T,0)}function E(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return $(E(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),P=S,O=0;O<N.length;O+=8){var U=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+U),T);8>U?(U=v(Math.pow(T,U)),P=P.j(U).add(v(R))):(P=P.j(I),P=P.add(v(R)))}return P}var S=g(0),C=g(1),D=g(16777216);n=h.prototype,n.m=function(){if(V(this))return-$(this).m();for(var N=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);N+=(0<=P?P:4294967296+P)*T,T*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(V(this))return"-"+$(this).toString(N);for(var T=v(Math.pow(N,6)),I=this,P="";;){var O=ye(I,T).g;I=X(I,O.j(T));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=O,L(I))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function V(N){return N.h==-1}n.l=function(N){return N=X(this,N),V(N)?-1:L(N)?0:1};function $(N){for(var T=N.g.length,I=[],P=0;P<T;P++)I[P]=~N.g[P];return new h(I,~N.h).add(C)}n.abs=function(){return V(this)?$(this):this},n.add=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0,O=0;O<=T;O++){var U=P+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=R>>>16,U&=65535,R&=65535,I[O]=R<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function X(N,T){return N.add($(T))}n.j=function(N){if(L(this)||L(N))return S;if(V(this))return V(N)?$(this).j($(N)):$($(this).j(N));if(V(N))return $(this.j($(N)));if(0>this.l(D)&&0>N.l(D))return v(this.m()*N.m());for(var T=this.g.length+N.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<N.g.length;O++){var U=this.i(P)>>>16,R=this.i(P)&65535,lt=N.i(O)>>>16,He=N.i(O)&65535;I[2*P+2*O]+=R*He,le(I,2*P+2*O),I[2*P+2*O+1]+=U*He,le(I,2*P+2*O+1),I[2*P+2*O+1]+=R*lt,le(I,2*P+2*O+1),I[2*P+2*O+2]+=U*lt,le(I,2*P+2*O+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new h(I,0)};function le(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function re(N,T){this.g=N,this.h=T}function ye(N,T){if(L(T))throw Error("division by zero");if(L(N))return new re(S,S);if(V(N))return T=ye($(N),T),new re($(T.g),$(T.h));if(V(T))return T=ye(N,$(T)),new re($(T.g),T.h);if(30<N.g.length){if(V(N)||V(T))throw Error("slowDivide_ only works with positive integers.");for(var I=C,P=T;0>=P.l(N);)I=z(I),P=z(P);var O=ue(I,1),U=ue(P,1);for(P=ue(P,2),I=ue(I,2);!L(P);){var R=U.add(P);0>=R.l(N)&&(O=O.add(I),U=R),P=ue(P,1),I=ue(I,1)}return T=X(N,O.j(T)),new re(O,T)}for(O=S;0<=N.l(T);){for(I=Math.max(1,Math.floor(N.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=v(I),R=U.j(T);V(R)||0<R.l(N);)I-=P,U=v(I),R=U.j(T);L(U)&&(U=C),O=O.add(U),N=X(N,R)}return new re(O,N)}n.A=function(N){return ye(this,N).h},n.and=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&N.i(P);return new h(I,this.h&N.h)},n.or=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|N.i(P);return new h(I,this.h|N.h)},n.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^N.i(P);return new h(I,this.h^N.h)};function z(N){for(var T=N.g.length+1,I=[],P=0;P<T;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new h(I,N.h)}function ue(N,T){var I=T>>5;T%=32;for(var P=N.g.length-I,O=[],U=0;U<P;U++)O[U]=0<T?N.i(U+I)>>>T|N.i(U+I+1)<<32-T:N.i(U+I);return new h(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,H0=h}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var j=u[w];if(!(j in y))break e;y=y[j]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function a(u,p){u instanceof String&&(u+="");var y=0,w=!1,j={next:function(){if(!w&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return a(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,y){return u.call.apply(u.bind,arguments)}function S(u,p,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function C(u,p,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function D(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function L(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(w,j,q){for(var oe=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)oe[rt-2]=arguments[rt];return p.prototype[j].apply(w,oe)}}function V(u){const p=u.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function $(u,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const j=u.length||0,q=w.length||0;u.length=j+q;for(let oe=0;oe<q;oe++)u[j+oe]=w[oe]}else u.push(w)}}class X{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function le(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ye(u){return ye[" "](u),u}ye[" "]=function(){};var z=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ue(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function N(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function T(u){const p={};for(const y in u)p[y]=u[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let y,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(y in w)u[y]=w[y];for(let q=0;q<I.length;q++)y=I[q],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function O(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function U(u){f.setTimeout(()=>{throw u},0)}function R(){var u=_e;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class lt{constructor(){this.h=this.g=null}add(p,y){const w=He.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var He=new X(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ie=!1,_e=new lt,ae=()=>{const u=f.Promise.resolve(void 0);Be=()=>{u.then(b)}};var b=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){U(y)}var p=He;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u}();function Pe(u,p){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(z){e:{try{ye(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}L(Pe,ge);var Fe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function xe(u,p,y,w,j){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=j,this.key=++Ke,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bn(u){this.src=u,this.g={},this.h=0}bn.prototype.add=function(u,p,y,w,j){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var oe=Yt(u,p,w,j);return-1<oe?(p=u[oe],y||(p.fa=!1)):(p=new xe(p,this.src,q,!!w,j),p.fa=y,u.push(p)),p};function vi(u,p){var y=p.type;if(y in u.g){var w=u.g[y],j=Array.prototype.indexOf.call(w,p,void 0),q;(q=0<=j)&&Array.prototype.splice.call(w,j,1),q&&(ct(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Yt(u,p,y,w){for(var j=0;j<u.length;++j){var q=u[j];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==w)return j}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),yi={};function _i(u,p,y,w,j){if(Array.isArray(p)){for(var q=0;q<p.length;q++)_i(u,p[q],y,w,j);return null}return y=un(y),u&&u[Ge]?u.K(p,y,v(w)?!!w.capture:!!w,j):ds(u,p,y,!1,w,j)}function ds(u,p,y,w,j,q){if(!p)throw Error("Invalid event type");var oe=v(j)?!!j.capture:!!j,rt=Br(u);if(rt||(u[Hr]=rt=new bn(u)),y=rt.add(p,y,w,oe,q),y.proxy)return y;if(w=Ys(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)Ae||(j=oe),j===void 0&&(j=!1),u.addEventListener(p.toString(),w,j);else if(u.attachEvent)u.attachEvent(zt(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ys(){function u(y){return p.call(u.src,u.listener,y)}const p=Gn;return u}function wi(u,p,y,w,j){if(Array.isArray(p))for(var q=0;q<p.length;q++)wi(u,p[q],y,w,j);else w=v(w)?!!w.capture:!!w,y=un(y),u&&u[Ge]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=Yt(q,y,w,j),-1<y&&(ct(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=Br(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Yt(p,y,w,j)),(y=-1<u?p[u]:null)&&$n(y))}function $n(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ge])vi(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(zt(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Br(p))?(vi(y,u),y.h==0&&(y.src=null,p[Hr]=null)):ct(u)}}}function zt(u){return u in yi?yi[u]:yi[u]="on"+u}function Gn(u,p){if(u.da)u=!0;else{p=new Pe(p,this);var y=u.listener,w=u.ha||u.src;u.fa&&$n(u),u=y.call(w,p)}return u}function Br(u){return u=u[Hr],u instanceof bn?u:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function un(u){return typeof u=="function"?u:(u[_r]||(u[_r]=function(p){return u.handleEvent(p)}),u[_r])}function nt(){Y.call(this),this.i=new bn(this),this.M=this,this.F=null}L(nt,Y),nt.prototype[Ge]=!0,nt.prototype.removeEventListener=function(u,p,y,w){wi(this,u,p,y,w)};function wt(u,p){var y,w=u.F;if(w)for(y=[];w;w=w.F)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new ge(p,u);else if(p instanceof ge)p.target=p.target||u;else{var j=p;p=new ge(w,u),P(p,j)}if(j=!0,y)for(var q=y.length-1;0<=q;q--){var oe=p.g=y[q];j=In(oe,w,!0,p)&&j}if(oe=p.g=u,j=In(oe,w,!0,p)&&j,j=In(oe,w,!1,p)&&j,y)for(q=0;q<y.length;q++)oe=p.g=y[q],j=In(oe,w,!1,p)&&j}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],w=0;w<y.length;w++)ct(y[w]);delete u.g[p],u.h--}}this.F=null},nt.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},nt.prototype.L=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function In(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,q=0;q<p.length;++q){var oe=p[q];if(oe&&!oe.da&&oe.capture==y){var rt=oe.listener,Rt=oe.ha||oe.src;oe.fa&&vi(u.i,oe),j=rt.call(Rt,w)!==!1&&j}}return j&&!w.defaultPrevented}function fs(u,p,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Ht(u){u.g=fs(()=>{u.g=null,u.i&&(u.i=!1,Ht(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class wr extends Y{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(u){Y.call(this),this.h=u,this.g={}}L(Er,Y);var Ei=[];function ps(u){ue(u.g,function(p,y){this.g.hasOwnProperty(y)&&$n(p)},u),u.g={}}Er.prototype.N=function(){Er.aa.N.call(this),ps(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=f.JSON.stringify,Sr=f.JSON.parse,Ci=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Kn(){}Kn.prototype.h=null;function Ti(u){return u.h||(u.h=u.i())}function Ii(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){ge.call(this,"d")}L(kn,ge);function qn(){ge.call(this,"c")}L(qn,ge);var hn={},ms=null;function ki(){return ms=ms||new nt}hn.La="serverreachability";function x(u){ge.call(this,hn.La,u)}L(x,ge);function F(u){const p=ki();wt(p,new x(p))}hn.STAT_EVENT="statevent";function G(u,p){ge.call(this,hn.STAT_EVENT,u),this.stat=p}L(G,ge);function Q(u){const p=ki();wt(p,new G(p,u))}hn.Ma="timingevent";function ce(u,p){ge.call(this,hn.Ma,u),this.size=p}L(ce,ge);function fe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function he(u,p,y,w,j,q){u.info(function(){if(u.g)if(q)for(var oe="",rt=q.split("&"),Rt=0;Rt<rt.length;Rt++){var We=rt[Rt].split("=");if(1<We.length){var Dt=We[0];We=We[1];var Lt=Dt.split("_");oe=2<=Lt.length&&Lt[1]=="type"?oe+(Dt+"="+We+"&"):oe+(Dt+"=redacted&")}}else oe=null;else oe=q;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+y+`
`+oe})}function me(u,p,y,w,j,q,oe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+y+`
`+q+" "+oe})}function se(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+De(u,y)+(w?" "+w:"")})}function Ie(u,p){u.info(function(){return"TIMEOUT: "+p})}Se.prototype.info=function(){};function De(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var w=y[u];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Si(y)}catch{return p}}var et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ue;function qe(){}L(qe,Kn),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},Ue=new qe;function Je(u,p,y,w){this.j=u,this.i=p,this.l=y,this.R=w||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Qn={},Qt={};function Bt(u,p,y){u.L=1,u.v=Ai(Rn(p)),u.m=y,u.P=!0,Vr(u,null)}function Vr(u,p){u.F=Date.now(),Ze(u),u.A=Rn(u.v);var y=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Di(y.i,"t",w),u.C=0,y=u.j.J,u.h=new Yn,u.g=xa(u.j,y?p:null,!u.m),0<u.O&&(u.M=new wr(C(u.Y,u,u.g),u.O)),p=u.U,y=u.g,w=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ei[0]=j.toString()),j=Ei);for(var q=0;q<j.length;q++){var oe=_i(y,j[q],w||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),F(),he(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const p=this.M;p&&pn(u)==3?p.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=pn(this.g);var p=this.g.Ba();const Pr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||il(this.g)))){this.J||Lt!=4||p==7||(p==8||0>=Pr?F(3):F(2)),Ve(this);var y=this.g.Z();this.X=y;t:if(Cr(this)){var w=il(this.g);u="";var j=w.length,q=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),ht(this);var oe="";break t}this.h.i=new f.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(q&&p==j-1)});w.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,me(this.i,this.u,this.A,this.l,this.R,Lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Rt=this.g;if((rt=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(rt)){var We=rt;break t}}We=null}if(y=We)se(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,y);else{this.o=!1,this.s=3,Q(12),Vt(this),ht(this);break e}}if(this.P){y=!0;let Gt;for(;!this.J&&this.C<oe.length;)if(Gt=Xn(this,oe),Gt==Qt){Lt==4&&(this.s=4,Q(14),y=!1),se(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Qn){this.s=4,Q(15),se(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else se(this.i,this.l,Gt,null),Jn(this,Gt);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||oe.length!=0||this.h.h||(this.s=1,Q(16),y=!1),this.o=this.o&&y,!y)se(this.i,this.l,oe,"[Invalid Chunked Response]"),Vt(this),ht(this);else if(0<oe.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ol(Dt),Dt.M=!0,Q(11))}}else se(this.i,this.l,oe,null),Jn(this,oe);Lt==4&&Vt(this),this.o&&!this.J&&(Lt==4?lo(this.j,this):(this.o=!1,Ze(this)))}else no(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),Vt(this),ht(this)}}}catch{}finally{}};function Cr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xn(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?Qt:(y=Number(p.substring(y,w)),isNaN(y)?Qn:(w+=1,w+y>p.length?Qt:(p=p.slice(w,w+y),u.C=w+y,p)))}Je.prototype.cancel=function(){this.J=!0,Vt(this)};function Ze(u){u.S=Date.now()+u.I,Wr(u,u.I)}function Wr(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(C(u.ba,u),p)}function Ve(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ie(this.i,this.A),this.L!=2&&(F(),Q(17)),Vt(this),this.s=2,ht(this)):Wr(this,this.S-u)};function ht(u){u.j.G==0||u.J||lo(u.j,u)}function Vt(u){Ve(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ps(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Jn(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||rn(y.h,u))){if(!u.K&&rn(y.h,u)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oo(y),rr(y);else break e;so(y),Q(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(C(y.Za,y),6e3));if(1>=Qs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Yr(y,11)}else if((u.K||y.g==u)&&oo(y),!le(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let We=j[p];if(y.T=We[0],We=We[1],y.G==2)if(We[0]=="c"){y.K=We[1],y.ia=We[2];const Dt=We[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const Lt=We[4];Lt!=null&&(y.Aa=Lt,y.j.info("SVER="+y.Aa));const Pr=We[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(w=1.5*Pr,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Gt=u.g;if(Gt){const ao=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var q=w.h;q.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(el(q,q.h),q.h=null))}if(w.D){const uo=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(w.ya=uo,st(w.I,w.D,uo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var oe=u;if(w.qa=Aa(w,w.J?w.ia:null,w.W),oe.K){ya(w.h,oe);var rt=oe,Rt=w.L;Rt&&(rt.I=Rt),rt.B&&(Ve(rt),Ze(rt)),w.g=oe}else ws(w);0<y.i.length&&Rr(y)}else We[0]!="stop"&&We[0]!="close"||Yr(y,7);else y.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Yr(y,7):$t(y):We[0]!="noop"&&y.l&&y.l.ta(We),y.v=0)}}F(4)}catch{}}var dt=class{constructor(u,p){this.g=u,this.map=p}};function dn(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function rn(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function el(u,p){u.g?u.g.add(p):u.h=p}function ya(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}dn.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _a(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return V(u.i)}function Xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,w=0;w<y;w++)p.push(u[w]);return p}p=[],y=0;for(w in u)p[y++]=u[w];return p}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const w in u)p[y++]=w;return p}}}function Ri(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Js(u),w=Xs(u),j=w.length,q=0;q<j;q++)p.call(void 0,w[q],y&&y[q],u)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),j=null;if(0<=w){var q=u[y].substring(0,w);j=u[y].substring(w+1)}else q=u[y];p(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function $r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $r){this.h=u.h,vs(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.s),this.l=u.l;var p=u.i,y=new Tr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Ni(this,y),this.m=u.m}else u&&(p=String(u).match(gs))?(this.h=!1,vs(this,p[1]||"",!0),this.o=je(p[2]||""),this.g=je(p[3]||"",!0),Pi(this,p[4]),this.l=je(p[5]||"",!0),Ni(this,p[6]||"",!0),this.m=je(p[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}$r.prototype.toString=function(){var u=[],p=this.j;p&&u.push(xi(p,Zs,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(xi(p,Zs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(xi(y,y.charAt(0)=="/"?Sa:Ea,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",xi(y,tl)),u.join("")};function Rn(u){return new $r(u)}function vs(u,p,y){u.j=y?je(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ni(u,p,y){p instanceof Tr?(u.i=p,Ir(u.i,u.h)):(y||(p=xi(p,Ca)),u.i=new Tr(p,u.h))}function st(u,p,y){u.i.set(p,y)}function Ai(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function je(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xi(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,wa),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Ea=/[#\?:]/g,Sa=/[#\?]/g,Ca=/[#\?@]/g,tl=/#/g;function Tr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Wt(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=Tr.prototype,n.add=function(u,p){Wt(this),this.i=null,u=Fn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Zn(u,p){Wt(u),p=Fn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function er(u,p){return Wt(u),p=Fn(u,p),u.g.has(p)}n.forEach=function(u,p){Wt(this),this.g.forEach(function(y,w){y.forEach(function(j){u.call(p,j,w,this)},this)},this)},n.na=function(){Wt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const j=u[w];for(let q=0;q<j.length;q++)y.push(p[w])}return y},n.V=function(u){Wt(this);let p=[];if(typeof u=="string")er(this,u)&&(p=p.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return Wt(this),this.i=null,u=Fn(this,u),er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Di(u,p,y){Zn(u,p),0<y.length&&(u.i=null,u.g.set(Fn(u,p),V(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const q=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var j=q;oe[w]!==""&&(j+="="+encodeURIComponent(String(oe[w]))),u.push(j)}}return this.i=u.join("&")};function Fn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ir(u,p){p&&!u.j&&(Wt(u),u.i=null,u.g.forEach(function(y,w){var j=w.toLowerCase();w!=j&&(Zn(this,w),Di(this,j,y))},u)),u.j=p}function Mc(u,p){const y=new Se;if(f.Image){const w=new Image;w.onload=D(fn,y,"TestLoadImage: loaded",!0,p,w),w.onerror=D(fn,y,"TestLoadImage: error",!1,p,w),w.onabort=D(fn,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=D(fn,y,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ta(u,p){const y=new Se,w=new AbortController,j=setTimeout(()=>{w.abort(),fn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(j),q.ok?fn(y,"TestPingServer: ok",!0,p):fn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),fn(y,"TestPingServer: error",!1,p)})}function fn(u,p,y,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(y)}catch{}}function bc(){this.g=new Ci}function Ia(u,p,y){const w=y||"";try{Ri(u,function(j,q){let oe=j;v(j)&&(oe=Si(j)),p.push(w+q+"="+encodeURIComponent(oe))})}catch(j){throw p.push(w+"type="+encodeURIComponent("_badmap")),j}}function Gr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Gr,Kn),Gr.prototype.g=function(){return new ys(this.l,this.j)},Gr.prototype.i=function(u){return function(){return u}}({});function ys(u,p){nt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ys,nt),n=ys.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ka(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ka(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?tr(this):nr(this),this.readyState==3&&ka(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,tr(this))},n.Qa=function(u){this.g&&(this.response=u,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,nr(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kr(u){let p="";return ue(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Li(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Kr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):st(u,p,y))}function vt(u){nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(vt,nt);var Fc=/^https?$/i,nl=["POST","PUT"];n=vt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?Ti(this.o):Ti(Ue),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){_s(this,q);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)y.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())y.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(nl,p,void 0))||w||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of y)this.g.setRequestHeader(q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){_s(this,q)}};function _s(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,eo(u),Pn(u)}function eo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rl(this):this.bb())},n.bb=function(){rl(this)};function rl(u){if(u.h&&typeof h<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)fs(u.Ea,0,u);else if(wt(u,"readystatechange"),pn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=oe===0){var j=String(u.D).match(gs)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),w=!Fc.test(j?j.toLowerCase():"")}y=w}if(y)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var q=2<pn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",eo(u)}}finally{Pn(u)}}}}function Pn(u,p){if(u.g){to(u);const y=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||wt(u,"ready");try{y.onreadystatechange=w}catch{}}}function to(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Sr(p)}};function il(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function no(u){const p={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(le(u[w]))continue;var y=O(u[w]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[j]||[];p[j]=q,q.push(y)}N(p,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function sl(u){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,u),this.cb=kr("retryDelaySeedMs",1e4,u),this.Wa=kr("forwardChannelMaxRetries",2,u),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new dn(u&&u.concurrentRequestLimit),this.Da=new bc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sl.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,w){Q(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Aa(this,null,this.W),Rr(this)};function $t(u){if(ro(u),u.G==3){var p=u.U++,y=Rn(u.I);if(st(y,"SID",u.K),st(y,"RID",p),st(y,"TYPE","terminate"),qr(u,y),p=new Je(u,u.j,p),p.L=2,p.v=Ai(Rn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=xa(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ze(p)}Na(u)}function rr(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function ro(u){rr(u),u.u&&(f.clearTimeout(u.u),u.u=null),oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Rr(u){if(!Xt(u.h)&&!u.s){u.s=!0;var p=u.Ga;Be||ae(),ie||(Be(),ie=!0),_e.add(p,u),u.B=0}}function Uc(u,p){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(C(u.Ga,u,p),Pa(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Je(this,this.j,u);let q=this.o;if(this.S&&(q?(q=T(q),P(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Oi(this,j,p),y=Rn(this.I),st(y,"RID",u),st(y,"CVER",22),this.D&&st(y,"X-HTTP-Session-Id",this.D),qr(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(Kr(q)))+"&"+p:this.m&&Li(y,this.m,q)),el(this.h,j),this.Ua&&st(y,"TYPE","init"),this.P?(st(y,"$req",p),st(y,"SID","null"),j.T=!0,Bt(j,y,null)):Bt(j,y,p),this.G=2}}else this.G==3&&(u?io(this,u):this.i.length==0||Xt(this.h)||io(this))};function io(u,p){var y;p?y=p.l:y=u.U++;const w=Rn(u.I);st(w,"SID",u.K),st(w,"RID",y),st(w,"AID",u.T),qr(u,w),u.m&&u.o&&Li(w,u.m,u.o),y=new Je(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Oi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),el(u.h,y),Bt(y,w,p)}function qr(u,p){u.H&&ue(u.H,function(y,w){st(p,w,y)}),u.l&&Ri({},function(y,w){st(p,w,y)})}function Oi(u,p,y){y=Math.min(u.i.length,y);var w=u.l?C(u.l.Na,u.l,u):null;e:{var j=u.i;let q=-1;for(;;){const oe=["count="+y];q==-1?0<y?(q=j[0].g,oe.push("ofs="+q)):q=0:oe.push("ofs="+q);let rt=!0;for(let Rt=0;Rt<y;Rt++){let We=j[Rt].g;const Dt=j[Rt].map;if(We-=q,0>We)q=Math.max(0,j[Rt].g-100),rt=!1;else try{Ia(Dt,oe,"req"+We+"_")}catch{w&&w(Dt)}}if(rt){w=oe.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,w}function ws(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Be||ae(),ie||(Be(),ie=!0),_e.add(p,u),u.v=0}}function so(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(C(u.Fa,u),Pa(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ra(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),rr(this),Ra(this))};function ol(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ra(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Rn(u.qa);st(p,"RID","rpc"),st(p,"SID",u.K),st(p,"AID",u.T),st(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(p,"TO",u.ja),st(p,"TYPE","xmlhttp"),qr(u,p),u.m&&u.o&&Li(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ai(Rn(p)),y.m=null,y.P=!0,Vr(y,u)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),so(this),Q(19))};function oo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function lo(u,p){var y=null;if(u.g==p){oo(u),ol(u),u.g=null;var w=2}else if(rn(u.h,p))y=p.D,ya(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;w=ki(),wt(w,new ce(w,y)),Rr(u)}else ws(u);else if(j=p.s,j==3||j==0&&0<p.X||!(w==1&&Uc(u,p)||w==2&&so(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),j){case 1:Yr(u,5);break;case 4:Yr(u,10);break;case 3:Yr(u,6);break;default:Yr(u,2)}}}function Pa(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Yr(u,p){if(u.j.info("Error code "+p),p==2){var y=C(u.fb,u),w=u.Xa;const j=!w;w=new $r(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||vs(w,"https"),Ai(w),j?Mc(w.toString(),y):Ta(w.toString(),y)}else Q(2);u.G=0,u.l&&u.l.sa(p),Na(u),ro(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function Na(u){if(u.G=0,u.ka=[],u.l){const p=_a(u.h);(p.length!=0||u.i.length!=0)&&($(u.ka,p),$(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function Aa(u,p,y){var w=y instanceof $r?Rn(y):new $r(y);if(w.g!="")p&&(w.g=p+"."+w.g),Pi(w,w.s);else{var j=f.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var q=new $r(null);w&&vs(q,w),p&&(q.g=p),j&&Pi(q,j),y&&(q.l=y),w=q}return y=u.D,p=u.ya,y&&p&&st(w,y,p),st(w,"VER",u.la),qr(u,w),w}function xa(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new vt(new Gr({eb:y})):new vt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ll(){}n=ll.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mn(u,p){nt.call(this),this.g=new sl(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!le(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!le(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Mi(this)}L(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$t(this.g)},mn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Si(u),u=y);p.i.push(new dt(p.Ya++,u)),p.G==3&&Rr(p)},mn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,mn.aa.N.call(this)};function Da(u){kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}L(Da,kn);function La(){qn.call(this),this.status=1}L(La,qn);function Mi(u){this.g=u}L(Mi,ll),Mi.prototype.ua=function(){wt(this.g,"a")},Mi.prototype.ta=function(u){wt(this.g,new Da(u))},Mi.prototype.sa=function(u){wt(this.g,new La)},Mi.prototype.ra=function(){wt(this.g,"b")},mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,Tt.COMPLETE="complete",Ii.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Ec("@firebase/firestore");function gr(n,...e){if(fc.logLevel<=tt.DEBUG){const t=e.map(V0);fc.debug(`Firestore (${Lc}): ${n}`,...t)}}function B0(n,...e){if(fc.logLevel<=tt.ERROR){const t=e.map(V0);fc.error(`Firestore (${Lc}): ${n}`,...t)}}function V0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n="Unexpected state"){const e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+n;throw B0(e),new Error(e)}function Kl(n,e){n||W0()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fr extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dn.UNAUTHENTICATED))}shutdown(){}}class nN{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Kl(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let a=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ql,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=a;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{gr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(gr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ql)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(gr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kl(typeof s.accessToken=="string"),new eN(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kl(e===null||typeof e=="string"),new Dn(e)}}class rN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new rN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Kl(this.o===void 0);const s=a=>{a.error!=null&&gr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const h=a.token!==this.R;return this.R=a.token,gr("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{gr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):gr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Kl(typeof t.token=="string"),this.R=t.token,new sN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lN(n){return n.name==="IndexedDbTransactionError"}class pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv,$e;($e=Zv||(Zv={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new H0([4294967295,4294967295],0);function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,s=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&gr("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const h=Date.now()+s,f=new ip(e,t,h,o,a);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fr(dr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var ey,ty;(ty=ey||(ey={})).na="default",ty.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;function cN(n,e,t,s){if(e===!0&&s===!0)throw new fr(dr.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fr(dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fr(dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uN((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fr(dr.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fr(dr.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fr(dr.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hN{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ry({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fr(dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fr(dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ry(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tN;switch(s.type){case"firstParty":return new iN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fr(dr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ny.get(t);s&&(gr("ComponentProvider","Removing Datastore"),ny.delete(t),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new aN(this,"async_queue_retry"),this.fu=()=>{const s=Rd();s&&gr("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Rd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Rd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ql;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!lN(e))throw e;gr("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw B0("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=ip.createAndSchedule(this,e,t,s,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&W0()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class dN extends hN{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new iy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iy(e),this._firestoreClient=void 0,await e}}}(function(e,t=!0){(function(o){Lc=o})(Ks),zs(new as("firestore",(s,{instanceIdentifier:o,options:a})=>{const h=s.getProvider("app").getImmediate(),f=new dN(new nN(s.getProvider("auth-internal")),new oN(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fr(dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(v.options.projectId,E)}(h,o),h);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Or(Jv,"4.7.5",e),Or(Jv,"4.7.5","esm2017")})();const fN={apiKey:"AIzaSyDXmJ4MiM18m-ycIhiwTVeAwDEfb9apZO8",authDomain:"chat-a89c2.firebaseapp.com",databaseURL:"https://chat-a89c2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-a89c2",storageBucket:"chat-a89c2.firebasestorage.app",messagingSenderId:"945249374914",appId:"1:945249374914:web:6f6f1c5417900689ae215b"},$0=Fy(fN),pN=Qk($0);JP($0);const sp=Fk(pN,"messages/");async function mN(){return new Promise(n=>{const e=[];console.log("getMassages here");const t=zk(sp);Object.entries(t).forEach(([s,o])=>{e.push({...o,key:s})}),n(e)})}async function gN(n){const e=Uk(sp);jk(e,{content:n,sender_id:0,timestamp:eR()})}async function vN(){return await mN()}async function yN({request:n}){console.log("action");const t=(await n.formData()).get("content");return await gN(t),null}function _N(){const n=mS(),[e,t]=K.useState(n),s=K.useRef(null),o=K.useRef(null),a=K.useRef(!0),h=pS(),f=K.useRef(),g=function(){return e.map(v=>it.jsxs("article",{className:"message",children:[it.jsx("div",{className:"sender",children:v.key}),it.jsx("div",{className:"text",children:v.content})]},v.key))};return K.useEffect(()=>{const v=Bk(sp,E=>{t(S=>[...S,{...E.val(),key:E.key}])});return()=>v()},[]),K.useEffect(()=>{const v=()=>{const S=s.current,C=S.scrollHeight-S.scrollTop===S.clientHeight;a.current=C},E=s.current;return E.addEventListener("scroll",v),()=>{E.removeEventListener("scroll",v)}},[]),K.useEffect(()=>{const v=o.current;a.current&&v.scrollIntoView({behavior:"smooth"})},[e]),K.useEffect(()=>{h.state==="idle"&&f.current.reset()},[h.state]),it.jsx("div",{id:"Index",children:it.jsxs("main",{children:[it.jsxs("section",{className:"message-list",ref:s,children:[g(),it.jsx("div",{className:"bottom",ref:o})]}),it.jsxs(Cy,{method:"POST",replace:!0,ref:f,children:[it.jsx("textarea",{name:"content"}),it.jsx("input",{type:"submit",value:""})]})]})})}function wN(){const n=qS([{element:it.jsx(cC,{}),path:"/",children:[{index:!0,element:it.jsx(_N,{}),loader:vN,action:yN},{path:"registration"},{path:"login"}]}]);return it.jsx(lC,{router:n})}nE.createRoot(document.getElementById("root")).render(it.jsx(K.StrictMode,{children:it.jsx(XS,{children:it.jsx(wN,{})})}));
